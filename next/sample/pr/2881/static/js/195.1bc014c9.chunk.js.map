{"version":3,"file":"static/js/195.1bc014c9.chunk.js","mappings":"8KAIiBA,EAAwB,SAACC,IACtCC,EAAAA,EAAAA,GAAYD,GACZ,IAAQE,EAA2BF,EAA3BE,SAAUC,EAAiBH,EAAjBG,aAClB,OAAqBC,EAAAA,EAAAA,IAAMJ,EAAMK,KAAM,CACnCC,SAAU,CACW,UAAjBH,GAA4BH,EAAMO,OAAsBC,EAAAA,EAAAA,IAAKR,EAAMO,KAAM,CAAC,IACzEL,GAAYF,EAAMK,KAAKC,SACP,UAAjBH,GAA4BH,EAAMO,OAAsBC,EAAAA,EAAAA,IAAKR,EAAMO,KAAM,CAAC,KAGtF,C,0KCsEUE,EAA4B,SAACT,GACnC,IAAAU,GAA0CC,EAAAA,EAAAA,GAAqB,CAC3DX,MAAOA,EAAMY,cACbC,aAAcb,EAAMc,qBACpBC,aAAc,CAAC,IACjBC,GAAAC,EAAAA,EAAAA,GAAAP,EAAA,GAJKE,EAAaI,EAAA,GAAEE,EAAgBF,EAAA,GAKRG,EAAiCnB,EAAvDoB,qBAiBR,MAAO,CACHR,GAjByBS,EAAAA,EAAAA,IAAiB,SAACC,EAACC,GAA2B,IAAvBC,EAAID,EAAJC,KAAMC,EAAYF,EAAZE,aAClDN,GACAA,EAA6BG,EAAG,CAC5BE,KAAAA,EACAC,aAAAA,IAGRP,GAAiB,SAACQ,GACd,OAAOA,GAACC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACDD,GAAC,IAAAE,EAAAA,EAAAA,GAAA,GACHJ,EAAOC,KAAYG,EAAAA,EAAAA,GAAA,GAEnBJ,EAAOC,EAEhB,GACJ,IAKJ,E,sBC9GaI,GAAiBC,E,SAAAA,QAAcC,G,sBCA/BC,EACH,cAIAC,GAAYC,EAAAA,EAAAA,GAAA,CAAA7B,KAAA,CAAA8B,OAAA,UAAAC,QAAA,UAAAC,OAAA,WAAAC,OAAA,wBAAAC,QAAA,WAAAC,OAAA,yBAAAC,SAAA,CAAAC,QAAA,WAAAC,OAAA,YAAAC,MAAA,CAAAP,OAAA,WAAAC,OAAA,sBAAAC,QAAA,WAAAC,OAAA,uBAAAK,OAAA,CAAAR,OAAA,WAAAC,OAAA,wBAAAC,QAAA,WAAAC,OAAA,yBAAAM,MAAA,CAAAT,OAAA,WAAAC,OAAA,sBAAAC,QAAA,WAAAC,OAAA,yBAAAO,EAAA,2b,eCELC,EAAwBC,EAAAA,YAAiB,SAACC,EAAOC,GAC9D,IAAMnD,EHE6B,SAACkD,EAAOC,GAC3C,IAAAC,EAA8CF,EAAtCG,KAAAA,OAAI,IAAAD,EAAG,SAAQA,EAAAE,EAAuBJ,EAArBT,SAAAA,OAAQ,IAAAa,GAAQA,EACnCC,GAAuBC,EAAAA,EAAAA,GAAwB,CACjDC,UAAU,EACVC,KAAM,SAEJ3C,EAAe,CACjBsC,KAAAA,EACAZ,SAAAA,EAEAkB,WAAY,CAERtD,KAAM,OAIVA,KAAMuD,EAAAA,IAAYC,EAAAA,EAAAA,GAAyB,OAAKlC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAC5CmC,KAAM,UAINX,IAAKA,GACFV,GAAY,CACX,mBAAoB,aAErBc,GACAL,IACH,CACAa,YAAa,SAGrBC,EAA8CvD,EAA0B,CACpEG,cAAesC,EAAMtC,cACrBE,qBAAsBoC,EAAMpC,qBAC5BM,qBAAsB8B,EAAM9B,uBAC9B6C,GAAAhD,EAAAA,EAAAA,GAAA+C,EAAA,GAJKpD,EAAaqD,EAAA,GAAE7C,EAAoB6C,EAAA,GAKpCC,GAAqB7C,EAAAA,EAAAA,IAAiB,SAACC,EAAGE,EAAM2C,EAAOC,GACzD,GAAI5C,GAAQ2C,EAAO,CACf,IAAM1C,GAAkC,OAAlBb,QAA4C,IAAlBA,OAA2B,EAASA,EAAcY,KAAU,GACtG6C,GAAeC,EAAAA,EAAAA,GACd7C,GAEH2C,EACAC,EAAgBE,OAAOF,EAAgBG,QAAQL,GAAQ,GAEvDE,EAAgBI,KAAKN,GAEA,OAAzB/C,QAA0D,IAAzBA,GAA2CA,EAAqBE,EAAG,CAChGE,KAAAA,EACAC,aAAc4C,GAEtB,CACJ,IACMK,GAAcrD,EAAAA,EAAAA,IAAiB,SAACC,EAAGE,EAAM2C,EAAOC,GAC9C5C,GAAQ2C,IACiB,OAAzB/C,QAA0D,IAAzBA,GAA2CA,EAAqBE,EAAG,CAChGE,KAAAA,EACAC,aAAc,CACV0C,KAIhB,IACA,OAAAxC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACOZ,GAAY,IACfmD,mBAAAA,EACAQ,YAAAA,EACA9D,cAAiC,OAAlBA,QAA4C,IAAlBA,EAA2BA,EAAgB,CAAC,GAE7F,CGvEkB+D,CAAoBzB,EAAOC,GACnCyB,ECVH,SAA0C5E,GAC7C,IAAQqD,EAAmErD,EAAnEqD,KAAMa,EAA6DlE,EAA7DkE,mBAAoBzB,EAAyCzC,EAAzCyC,SAAU7B,EAA+BZ,EAA/BY,cAS5C,MAAO,CACHiE,QARY,CACZxB,KAAAA,EACAZ,SAAAA,EACAyB,mBAAAA,EACAQ,YANuE1E,EAAhB0E,YAOvD9D,cAAAA,GAKR,CDH0BkE,CAAiC9E,GAGvD,ODe0C,SAAAA,GAC1C,IAAM+E,EAAS9C,IACPQ,EAAmBzC,EAAnByC,SAAUY,EAASrD,EAATqD,KAClBrD,EAAMK,KAAK2E,WAAYC,EAAAA,EAAAA,GAAajD,EAAwB+C,EAAO1E,KAAMoC,GAAYsC,EAAOtC,SAAmB,UAATY,IAAqBZ,GAAYsC,EAAOnC,MAAgB,WAATS,IAAsBZ,GAAYsC,EAAOlC,OAAiB,UAATQ,IAAqBZ,GAAYsC,EAAOjC,MAAO9C,EAAMK,KAAK2E,UAEpQ,CCtBIE,CAA0BlF,IAC1BmF,EAAAA,EAAAA,IAA4B,4BAA5BA,CAAyDnF,GEPnB,SAACA,EAAO4E,GAE9C,OADA3E,EAAAA,EAAAA,GAAYD,IACSQ,EAAAA,EAAAA,IAAKqB,EAAeuD,SAAU,CAC/CjB,MAAOS,EAAcC,QACrBvE,UAAwBE,EAAAA,EAAAA,IAAKR,EAAMK,KAAM,CACrCC,SAAUN,EAAMK,KAAKC,YAGjC,CFAW+E,CAAuBrF,EAAO4E,EACzC,IACA5B,EAAQsC,YAAc,S,mHGbhBC,GAAgBrD,EAAAA,EAAAA,GAAA,CAAAO,SAAA,CAAAC,QAAA,YAAA8C,aAAA,CAAAC,QAAA,WAAAC,QAAA,WAAAC,OAAA,wBAAAC,OAAA,WAAAC,OAAA,2BAAA9C,EAAA,uL,0DCML+C,EAA8B7C,EAAAA,YAAiB,SAACC,EAAOC,GACpE,IAAMnD,ECFmC,SAACkD,EAAOC,GACjD,IAAAG,EAA6CJ,EAArCT,SAAAA,OAAQ,IAAAa,GAAQA,EAAKyC,GAAWC,EAAAA,EAAAA,GAAK9C,EAAK+C,GAC5CjG,GAAQkG,EAAAA,EAAAA,IAAkBvE,EAAAA,EAAAA,GAAC,CAC7BwE,WAAY,UACTJ,GACJ5C,GACH,OAAAxB,EAAAA,EAAAA,GAAA,CACIc,SAAAA,GACGzC,EAEX,CDRkBoG,CAA0BlD,EAAOC,GAG/C,ODCgD,SAAAnD,IAChDqG,EAAAA,EAAAA,GAAyBrG,GACzB,IAAMsG,EAAef,IACrBvF,EAAMK,KAAK2E,WAAYC,EAAAA,EAAAA,GAAajF,EAAMK,KAAK2E,UAAWhF,EAAMyC,UAAY6D,EAAa7D,UACrFzC,EAAMO,OACNP,EAAMO,KAAKyE,WAAYC,EAAAA,EAAAA,GAAajF,EAAMO,KAAKyE,UAAWhF,EAAMyC,UAAY6D,EAAad,cAEjG,CCVIe,CAAgCvG,IAChCmF,EAAAA,EAAAA,IAA4B,kCAA5BA,CAA+DnF,IACxDD,EAAAA,EAAAA,GAAsBC,EAEjC,IACA8F,EAAcR,YAAc,e,mHEdfkB,EACH,mB,iCCMOC,EAA6BxD,EAAAA,YAAiB,SAACC,EAAOC,GACnE,IAAMnD,ECHkC,SAACkD,EAAOC,GAChD,MAAO,CACHQ,WAAY,CACRtD,KAAM,OAEVA,KAAMuD,EAAAA,IAAYC,EAAAA,EAAAA,GAAyB,OAAKlC,EAAAA,EAAAA,GAAA,CAC5CwB,IAAAA,EACAW,KAAM,gBACHZ,IACH,CACAa,YAAa,QAGzB,CDVkB2C,CAAyBxD,EAAOC,GAG9C,ODN+C,SAAAnD,GAC/CA,EAAMK,KAAK2E,WAAYC,EAAAA,EAAAA,GAAauB,EAA6BxG,EAAMK,KAAK2E,UAEhF,CCCI2B,CAA+B3G,IAC/BmF,EAAAA,EAAAA,IAA4B,iCAA5BA,CAA8DnF,GEPnB,SAACA,GAE5C,OADAC,EAAAA,EAAAA,GAAYD,IACSQ,EAAAA,EAAAA,IAAKR,EAAMK,KAAM,CAClCC,SAAUN,EAAMK,KAAKC,UAE7B,CFGWsG,CAA4B5G,EAEvC,IACAyG,EAAanB,YAAc,c,gKGXduB,EAAa,WACtB,SAAAA,EAAYC,GA4BR,IA5BgBC,EAAAA,EAAAA,GAAA,KAAAF,GAKhBG,KAAKC,UAAY,UAKjBD,KAAKE,cAAgB,OAKrBF,KAAKG,YAAc,OAKnBH,KAAKI,WAAa,UAIlBJ,KAAKK,KAAO,IAAIC,KAIZR,EACA,IAAK,IAAMS,KAAOT,EAAQ,CACtB,IAAM3C,EAAQ2C,EAAOS,GACT,SAARA,EACAP,KAAKK,KAAOL,KAAKQ,cAAcrD,GAG/B6C,KAAKO,GAAOpD,CAEpB,CAER,CAkGC,OAjGDsD,EAAAA,EAAAA,GAAAZ,EAAA,EAAAU,IAAA,gBAAApD,MAMA,SAAckD,GACV,GAAoB,kBAATA,EAAmB,CAC1B,IAAMK,EAAQL,EAAKM,MAAM,QACzB,OAAID,EAAME,OAAS,EACR,IAAIN,KAER,IAAIA,KAAKO,SAASH,EAAM,GAAI,IAAKG,SAASH,EAAM,GAAI,IAAM,EAAGG,SAASH,EAAM,GAAI,IAC3F,CACK,GAAI,QAASL,GAAQ,UAAWA,GAAQ,SAAUA,EAAM,CACzD,IAAQS,EAAqBT,EAArBS,IAAKC,EAAgBV,EAAhBU,MAAOC,EAASX,EAATW,KACpB,OAAO,IAAIV,KAAKU,EAAMD,EAAQ,EAAGD,EACrC,CACA,OAAOT,CACX,GACA,CAAAE,IAAA,UAAApD,MAQA,WAKyB,IALjBkD,EAAIY,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKK,KAAMa,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAG,CAC/BE,QAASnB,KAAKE,cACda,MAAOf,KAAKG,YACZW,IAAKd,KAAKC,UACVe,KAAMhB,KAAKI,YACZgB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OACPC,EAAUrB,KAAKQ,cAAcH,GACnC,IAAKgB,EAAQC,UACT,MAAO,GAEX,IAAMC,EAAsBC,OAAOC,OAAO,CAAEC,SAAUC,KAAKC,iBAAiBC,kBAAkBH,UAAYR,GAC1G,OAAO,IAAIS,KAAKC,eAAeR,EAAQG,GAAqBL,OAAOG,EACvE,GACA,CAAAd,IAAA,SAAApD,MAQA,WAAiF,IAA1E2D,EAAGG,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKK,KAAKyB,UAAWZ,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKC,UAAWmB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OACrE,OAAOpB,KAAK8B,QAAQ,CAAEf,MAAO,EAAGD,IAAAA,EAAKE,KAAM,MAAQ,CAAEF,IAAKI,GAAUE,EACxE,GACA,CAAAb,IAAA,WAAApD,MAQA,WAA4F,IAAnF4D,EAAKE,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKK,KAAK0B,WAAa,EAAGb,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKG,YAAaiB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OAChF,OAAOpB,KAAK8B,QAAQ,CAAEf,MAAAA,EAAOD,IAAK,EAAGE,KAAM,MAAQ,CAAED,MAAOG,GAAUE,EAC1E,GACA,CAAAb,IAAA,UAAApD,MAQA,WAAwF,IAAhF6D,EAAIC,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKK,KAAK2B,cAAed,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKI,WAAYgB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OAC5E,OAAOpB,KAAK8B,QAAQ,CAAEf,MAAO,EAAGD,IAAK,EAAGE,KAAAA,GAAQ,CAAEA,KAAME,GAAUE,EACtE,GACA,CAAAb,IAAA,aAAApD,MAQA,WAA2E,IAAhEgE,EAAOF,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAG,EAAGC,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKE,cAAekB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OACzDf,EAAO,KAAH4B,OAAQd,EAAU,EAAC,SAC7B,OAAOnB,KAAK8B,QAAQzB,EAAM,CAAEc,QAASD,GAAUE,EACnD,GACA,CAAAb,IAAA,cAAApD,MAOA,WAA+D,IAAA+E,EAAA,KAAnDhB,EAAMD,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKE,cAAekB,EAAMH,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKoB,OACnD,OAAOe,MAAM,GACRC,KAAK,MACLC,KAAI,SAACC,EAAGxB,GAAG,OAAKoB,EAAKK,WAAWzB,EAAKI,EAAQE,EAAO,GAC7D,KAACvB,CAAA,CA1IqB,GCSb2C,EAAQ,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GACjB,SAAAA,IAAc,IAAAN,EAoEiB,OApEjBnC,EAAAA,EAAAA,GAAA,KAAAyC,IACVN,EAAAS,EAAAE,MAAA,KAAS5B,YAKJ6B,cAAgB,IAAIjD,EAKzBqC,EAAKa,UAAW,EAKhBb,EAAKd,OAAS,QAKdc,EAAKnB,OAAQ,IAAIT,MAAOyB,WAAa,EAKrCG,EAAKlB,MAAO,IAAIV,MAAO0B,cAKvBE,EAAKjC,UAAY,UAKjBiC,EAAKhC,cAAgB,QAKrBgC,EAAK/B,YAAc,OAKnB+B,EAAK9B,WAAa,UAOlB8B,EAAKc,SAAW,EAKhBd,EAAKe,cAAgB,GAKrBf,EAAKgB,cAAgB,GAKrBhB,EAAKiB,WAAa,MAASjB,CAC/B,CAkKC,OAlKAzB,EAAAA,EAAAA,GAAA+B,EAAA,EAAAjC,IAAA,gBAAApD,MACD,WACI6C,KAAK8C,cAAc1B,OAASpB,KAAKoB,MACrC,GAAC,CAAAb,IAAA,mBAAApD,MACD,WACI6C,KAAK8C,cAAc7C,UAAYD,KAAKC,SACxC,GAAC,CAAAM,IAAA,uBAAApD,MACD,WACI6C,KAAK8C,cAAc5C,cAAgBF,KAAKE,aAC5C,GAAC,CAAAK,IAAA,qBAAApD,MACD,WACI6C,KAAK8C,cAAc3C,YAAcH,KAAKG,WAC1C,GAAC,CAAAI,IAAA,oBAAApD,MACD,WACI6C,KAAK8C,cAAc1C,WAAaJ,KAAKI,UACzC,GACA,CAAAG,IAAA,eAAApD,MAOA,WAAmD,IAAAiG,EAAA,KAAtCrC,EAAKE,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKe,MAAOC,EAAIC,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKgB,KACnCqC,EAAc,SAAChD,GAAI,OAAK,IAAIC,KAAKD,EAAK2B,cAAe3B,EAAK0B,WAAY,GAAGuB,QAAQ,EACjFC,EAAY,SAAClD,GACf,IAAMmD,EAAY,IAAIlD,KAAKD,EAAK2B,cAAe3B,EAAK0B,WAAa,EAAG,GACpE,OAAO,IAAIzB,KAAKkD,EAAUlC,UAAY8B,EAAKD,YAAYrB,SAC3D,EACM2B,EAAY,IAAInD,KAAKU,EAAMD,EAAQ,GACnCyC,EAAY,IAAIlD,KAAKU,EAAMD,GAC3B2C,EAAgB,IAAIpD,KAAKU,EAAMD,EAAQ,GAC7C,MAAO,CACHH,OAAQ2C,EAAUE,GAClB1C,MAAAA,EACA4C,MAAON,EAAYI,GACnBzC,KAAAA,EACA4C,SAAU,CACNhD,OAAQ2C,EAAUG,GAClB3C,MAAO2C,EAAc3B,WAAa,EAClC4B,MAAON,EAAYK,GACnB1C,KAAM0C,EAAc1B,eAExB6B,KAAM,CACFjD,OAAQ2C,EAAUC,GAClBzC,MAAOyC,EAAUzB,WAAa,EAC9B4B,MAAON,EAAYG,GACnBxC,KAAMwC,EAAUxB,eAG5B,GACA,CAAAzB,IAAA,UAAApD,MAOA,WAA8D,IAAtD2G,EAAI7C,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAK+D,eAAgBf,EAAQ/B,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGjB,KAAKgD,SAChDA,EAAWA,EAAW,GAAK,GAAKA,EAIhC,IAHA,IAAQW,EAAkCG,EAAlCH,MAAO/C,EAA2BkD,EAA3BlD,OAAQgD,EAAmBE,EAAnBF,SAAUC,EAASC,EAATD,KAC3BG,EAAO,GACTC,EAAW,EAAIN,EACZM,EAAWrD,EAAS,GACvBoD,EAAKpD,OAASoC,GACdgB,EAAKA,EAAKpD,OAAS,GAAGA,OAAS,IAAM,GAAG,CACxC,IAAArG,EAAwB0J,EAAW,EAAIL,EAAWK,EAAWrD,EAASiD,EAAOC,EAArE/C,EAAKxG,EAALwG,MAAOC,EAAIzG,EAAJyG,KACTF,EAAMmD,EAAW,EACjBL,EAAShD,OAASqD,EAClBA,EAAWrD,EACPqD,EAAWrD,EACXqD,EACJC,EAAa,GAAHjC,OAAMlB,EAAK,KAAAkB,OAAInB,EAAG,KAAAmB,OAAIjB,GAGhCX,EAAO,CACTS,IAAAA,EACAC,MAAAA,EACAC,KAAAA,EACAmD,SANanE,KAAKoE,aAAaF,EAAYlE,KAAKiD,eAOhDoB,SANarE,KAAKoE,aAAaF,EAAYlE,KAAKkD,gBAQ9CoB,EAASN,EAAKA,EAAKpD,OAAS,GACd,IAAhBoD,EAAKpD,QAAgB0D,EAAO1D,OAAS,IAAM,EAC3CoD,EAAKvG,KAAK,CAAC4C,IAGXiE,EAAO7G,KAAK4C,GAEhB4D,GACJ,CACA,OAAOD,CACX,GACA,CAAAzD,IAAA,eAAApD,MAOA,SAAakD,EAAMkE,GACf,IAAM7D,EAAQ6D,EAAY5D,MAAM,KAAK0B,KAAI,SAAAmC,GAAG,OAAIA,EAAIC,MAAM,IAK1D,OAJApE,EACoB,kBAATA,EACDA,EAAI,GAAA4B,OACD5B,EAAK0B,WAAa,EAAC,KAAAE,OAAI5B,EAAKyB,UAAS,KAAAG,OAAI5B,EAAK2B,eACpDtB,EAAMgE,MAAK,SAAA3I,GAAC,OAAIA,IAAMsE,CAAI,GACrC,GACA,CAAAE,IAAA,mBAAApD,MAMA,SAAiBkD,EAAMsE,GACnB,IAAQ7D,EAAyCT,EAAzCS,IAAKC,EAAoCV,EAApCU,MAAOC,EAA6BX,EAA7BW,KAAMmD,EAAuB9D,EAAvB8D,SAAUE,EAAahE,EAAbgE,SAGpC,MAAO,CACH,MAHUM,IAAgB,GAAL1C,OAAQlB,EAAK,KAAAkB,OAAInB,EAAG,KAAAmB,OAAIjB,IAIpC,QAHIhB,KAAKe,QAAUA,GAIhB,WACZoD,GAAY,WACZE,GAAY,YAEXO,OAAOC,SACPC,KAAK,IACd,GACA,CAAAvE,IAAA,iBAAApD,MAKA,WACI,IAAM4H,EAAc/E,KAAK8C,cAAckC,cAAc3C,KAAI,SAAA4C,GAAI,MAAK,CAAEA,KAAAA,EAAM,IAC1E,GAA2B,SAAvBjF,KAAKE,cAA0B,CAC/B,IAAMgF,EAAWlF,KAAK8C,cAAckC,YAAY,QAChDD,EAAYI,SAAQ,SAAChE,EAASiE,GAC1BjE,EAAQkE,KAAOH,EAASE,EAC5B,GACJ,CACA,OAAOL,CACX,GACA,CAAAxE,IAAA,mBAAApD,MAKA,SAAiBmI,EAAOxE,GACpBwE,EAAMC,eACNvF,KAAKwF,MAAM,eAAgB1E,EAC/B,GACA,CAAAP,IAAA,gBAAApD,MAKA,SAAcmI,EAAOjF,GAIjB,OAHIiF,EAAM/E,MAAQkF,EAAAA,IACdzF,KAAK0F,iBAAiBJ,EAAOjF,IAE1B,CACX,KAACmC,CAAA,CAxOgB,CAASmD,EAAAA,IA0O9BC,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEC,KAAM,aACdtD,EAASuD,UAAW,gBAAY,IACnCH,EAAAA,EAAAA,IAAW,CACPC,EAAAA,IACDrD,EAASuD,UAAW,cAAU,IACjCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEG,UAAWC,EAAAA,MACnBzD,EAASuD,UAAW,aAAS,IAChCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEG,UAAWC,EAAAA,MACnBzD,EAASuD,UAAW,YAAQ,IAC/BH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,aAAcJ,KAAM,cACvCtD,EAASuD,UAAW,iBAAa,IACpCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,iBAAkBJ,KAAM,cAC3CtD,EAASuD,UAAW,qBAAiB,IACxCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,eAAgBJ,KAAM,cACzCtD,EAASuD,UAAW,mBAAe,IACtCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,cAAeJ,KAAM,cACxCtD,EAASuD,UAAW,kBAAc,IACrCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,YAAaF,UAAWC,EAAAA,MAC3CzD,EAASuD,UAAW,gBAAY,IACnCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,oBACnB1D,EAASuD,UAAW,qBAAiB,IACxCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,oBACnB1D,EAASuD,UAAW,qBAAiB,G,uGCrRjC,SAASI,EAAUf,EAAOgB,EAASC,GACtC,MAAO,CACHjB,MAAOA,EACPgB,QAASA,EACTC,WAAYA,EAEpB,CACA,IAAMC,EAAa,EACbC,EAAc,EACdC,EAAW,EACXC,EAAc,EAgKb,SAASC,EAAYC,EAASC,EAAcC,EAAYC,EAAKC,EAAUC,GAC1E,IAAIC,EAAc,EACdC,EAAc,EACZC,EAAYC,KAAKC,IAAIR,EAAaD,EAAcI,EAASD,GAW/D,GAVqB,IAAjBH,GAAmC,IAAbG,IACtBE,EArER,SAAsBN,EAASG,EAAKQ,GAChC,IAAK,IAAIC,EAAI,EAAGA,EAAID,IAAgBC,EAChC,GAAIZ,EAAQY,KAAOT,EAAIS,GACnB,OAAOA,EAGf,OAAOD,CACX,CA8DsBE,CAAab,EAASG,EAAKK,IAEzCN,IAAeF,EAAQ/F,QAAUoG,IAAWF,EAAIlG,SAChDsG,EAhER,SAAsBP,EAASG,EAAKQ,GAIhC,IAHA,IAAIG,EAASd,EAAQ/F,OACjB8G,EAASZ,EAAIlG,OACb+G,EAAQ,EACLA,EAAQL,GAAgBX,IAAUc,KAAYX,IAAMY,IACvDC,IAEJ,OAAOA,CACX,CAwDsBC,CAAajB,EAASG,EAAKK,EAAYF,IAGzDF,GAAYE,EAEZD,GAAUE,GADVL,GAAcK,IAFdN,GAAgBK,KAIkB,GAAKD,EAASD,IAAa,EACzD,OAAOc,EAAAA,GAEX,GAAIjB,IAAiBC,EAAY,CAE7B,IADA,IAAMtJ,EAAS4I,EAAUS,EAAc,GAAI,GACpCG,EAAWC,GACdzJ,EAAO6I,QAAQ3I,KAAKqJ,EAAIC,MAE5B,MAAO,CAACxJ,EACZ,CACK,GAAIwJ,IAAaC,EAClB,MAAO,CAACb,EAAUS,EAAc,GAAIC,EAAaD,IAOrD,IALA,IAAMkB,EA9IV,SAA2CC,GAKvC,IAJA,IAAIR,EAAIQ,EAAUnH,OAAS,EACvBoH,EAAID,EAAU,GAAGnH,OAAS,EAC1B+F,EAAUoB,EAAUR,GAAGS,GACrBC,EAAQ,GACPV,EAAI,GAAKS,EAAI,GAChB,GAAU,IAANT,EAKJ,GAAU,IAANS,EAAJ,CAKA,IAAME,EAAYH,EAAUR,EAAI,GAAGS,EAAI,GACjCG,EAAOJ,EAAUR,EAAI,GAAGS,GACxBI,EAAQL,EAAUR,GAAGS,EAAI,GAC3BX,OAAG,GAEHA,EADAc,EAAOC,EACDD,EAAOD,EAAYC,EAAOD,EAG1BE,EAAQF,EAAYE,EAAQF,KAE1BA,GACJA,IAAcvB,EACdsB,EAAMxK,KAAK6I,IAGX2B,EAAMxK,KAAK8I,GACXI,EAAUuB,GAEdX,IACAS,KAEKX,IAAQc,GACbF,EAAMxK,KAAKgJ,GACXc,IACAZ,EAAUwB,IAGVF,EAAMxK,KAAK+I,GACXwB,IACArB,EAAUyB,EA9Bd,MAHIH,EAAMxK,KAAKgJ,GACXc,SANAU,EAAMxK,KAAK+I,GACXwB,IAyCR,OADAC,EAAMI,UACCJ,CACX,CA4FgBK,CA/KhB,SAA2B3B,EAASC,EAAcC,EAAYC,EAAKC,EAAUC,GAQzE,IANA,IAGIoB,EACAD,EAJEI,EAAWvB,EAASD,EAAW,EAC/ByB,EAAc3B,EAAaD,EAAe,EAC1CmB,EAAY,IAAI5F,MAAMoG,GAInBhB,EAAI,EAAGA,EAAIgB,IAAYhB,EAC5BQ,EAAUR,GAAK,IAAIpF,MAAMqG,GACzBT,EAAUR,GAAG,GAAKA,EAGtB,IAAK,IAAIS,EAAI,EAAGA,EAAIQ,IAAeR,EAC/BD,EAAU,GAAGC,GAAKA,EAEtB,IAAK,IAAIT,EAAI,EAAGA,EAAIgB,IAAYhB,EAC5B,IAAK,IAAIS,EAAI,EAAGA,EAAIQ,IAAeR,EAC3BrB,EAAQC,EAAeoB,EAAI,KAAOlB,EAAIC,EAAWQ,EAAI,GACrDQ,EAAUR,GAAGS,GAAKD,EAAUR,EAAI,GAAGS,EAAI,IAGvCI,EAAQL,EAAUR,EAAI,GAAGS,GAAK,EAC9BG,EAAOJ,EAAUR,GAAGS,EAAI,GAAK,EAC7BD,EAAUR,GAAGS,GAAKI,EAAQD,EAAOC,EAAQD,GAIrD,OAAOJ,CACX,CAkJkDU,CAAkB9B,EAASC,EAAcC,EAAYC,EAAKC,EAAUC,IAC5G0B,EAAU,GACZnL,OAAS,EACT6H,EAAQwB,EACR+B,EAAW5B,EACNQ,EAAI,EAAGA,EAAIO,EAAIlH,SAAU2G,EAC9B,OAAQO,EAAIP,IACR,KAAKjB,OACc,IAAX/I,IACAmL,EAAQjL,KAAKF,GACbA,OAAS,GAEb6H,IACAuD,IACA,MACJ,KAAKpC,OACc,IAAXhJ,IACAA,EAAS4I,EAAUf,EAAO,GAAI,IAElC7H,EAAO8I,aACPjB,IACA7H,EAAO6I,QAAQ3I,KAAKqJ,EAAI6B,IACxBA,IACA,MACJ,KAAKnC,OACc,IAAXjJ,IACAA,EAAS4I,EAAUf,EAAO,GAAI,IAElC7H,EAAO8I,aACPjB,IACA,MACJ,KAAKqB,OACc,IAAXlJ,IACAA,EAAS4I,EAAUf,EAAO,GAAI,IAElC7H,EAAO6I,QAAQ3I,KAAKqJ,EAAI6B,IACxBA,IAQZ,YAHe,IAAXpL,GACAmL,EAAQjL,KAAKF,GAEVmL,CACX,CACA,IAAME,EAAQzG,MAAM4D,UAAUtI,KAC9B,SAASoL,EAAYH,EAAStD,EAAOgB,EAASC,GAI1C,IAHA,IA1HeyC,EAAQC,EAAMC,EAAQC,EA0H/B1L,EAAS4I,EAAUf,EAAOgB,EAASC,GACrC6C,GAAW,EACXC,EAAkB,EACb5B,EAAI,EAAGA,EAAImB,EAAQ9H,OAAQ2G,IAAK,CACrC,IAAMZ,EAAU+B,EAAQnB,GAExB,GADAZ,EAAQvB,OAAS+D,GACbD,EAAJ,CAGA,IAAME,GAnIKN,EAmIsBvL,EAAO6H,MAnIrB2D,EAmI4BxL,EAAO6H,MAAQ7H,EAAO6I,QAAQxF,OAnIpDoI,EAmI4DrC,EAAQvB,MAnI5D6D,EAmImEtC,EAAQvB,MAAQuB,EAAQN,WAjI5H0C,EAAOC,GAAUC,EAAOH,GAChB,EAGRC,IAASC,GAAUC,IAASH,EACrB,EAGPA,EAASE,EACLD,EAAOE,EACAF,EAAOC,EAEXC,EAAOD,EAGdC,EAAOF,EACAE,EAAOH,EAEXC,EAAOD,GAgHV,GAAIM,GAAkB,EAAG,CAErBV,EAAQnL,OAAOgK,EAAG,GAClBA,IACA4B,GAAmBxC,EAAQN,WAAaM,EAAQP,QAAQxF,OACxDrD,EAAO8I,YAAcM,EAAQN,WAAa+C,EAC1C,IAAMC,EAAc9L,EAAO6I,QAAQxF,OAAS+F,EAAQP,QAAQxF,OAASwI,EACrE,GAAK7L,EAAO8I,YAAegD,EAItB,CACD,IAAIC,EAAiB3C,EAAQP,QAC7B,GAAI7I,EAAO6H,MAAQuB,EAAQvB,MAAO,CAE9B,IAAMmE,EAAUhM,EAAO6I,QAAQoD,MAAM,EAAG7C,EAAQvB,MAAQ7H,EAAO6H,OAC/DwD,EAAM/F,MAAM0G,EAASD,GACrBA,EAAiBC,CACrB,CACA,GAAIhM,EAAO6H,MAAQ7H,EAAO6I,QAAQxF,OAC9B+F,EAAQvB,MAAQuB,EAAQN,WAAY,CAEpC,IAAMoD,EAASlM,EAAO6I,QAAQoD,MAAM7C,EAAQvB,MAAQuB,EAAQN,WAAa9I,EAAO6H,OAChFwD,EAAM/F,MAAMyG,EAAgBG,EAChC,CACAlM,EAAO6I,QAAUkD,EACb3C,EAAQvB,MAAQ7H,EAAO6H,QACvB7H,EAAO6H,MAAQuB,EAAQvB,MAE/B,MApBI8D,GAAW,CAqBnB,MACK,GAAI3L,EAAO6H,MAAQuB,EAAQvB,MAAO,CAEnC8D,GAAW,EACXR,EAAQnL,OAAOgK,EAAG,EAAGhK,GACrBgK,IACA,IAAMmC,EAASnM,EAAO8I,WAAa9I,EAAO6I,QAAQxF,OAClD+F,EAAQvB,OAASsE,EACjBP,GAAmBO,CACvB,CAzCA,CA0CJ,CACKR,GACDR,EAAQjL,KAAKF,EAErB,CAUO,SAASoM,EAAoBC,EAAOC,GAGvC,IAFA,IAAInB,EAAU,GACRoB,EAXV,SAA8BD,GAE1B,IADA,IAAMnB,EAAU,GACPnB,EAAI,EAAGwC,EAAKF,EAAcjJ,OAAQ2G,EAAIwC,EAAIxC,IAAK,CACpD,IAAMyC,EAASH,EAActC,GAC7BsB,EAAYH,EAASsB,EAAO5E,MAAO4E,EAAO5D,QAAS4D,EAAO3D,WAC9D,CACA,OAAOqC,CACX,CAI2BuB,CAAqBJ,GACnCtC,EAAI,EAAGwC,EAAKD,EAAelJ,OAAQ2G,EAAIwC,IAAMxC,EAAG,CACrD,IAAMhK,EAASuM,EAAevC,GACJ,IAAtBhK,EAAO8I,YAA8C,IAA1B9I,EAAO6I,QAAQxF,OAM9C8H,EAAUA,EAAQzG,OAAOyE,EAAYkD,EAAOrM,EAAO6H,MAAO7H,EAAO6H,MAAQ7H,EAAO8I,WAAY9I,EAAO6I,QAAS,EAAG7I,EAAO6I,QAAQxF,SALtHrD,EAAO6I,QAAQ,KAAOwD,EAAMrM,EAAO6H,QACnCsD,EAAQjL,KAAKF,EAKzB,CACA,OAAOmL,CACX,C,eCjUIwB,GAA0B,EAC9B,SAASC,EAAYC,EAAcR,GAC/B,IAAIxE,EAAQgF,EAAahF,MACnBiF,EAAcT,EAAMhJ,OAY1B,OAXIwE,EAAQiF,EACRjF,EAAQiF,EAAcD,EAAa/D,WAE9BjB,EAAQ,IACbA,EACIiF,EAAcD,EAAahE,QAAQxF,OAASwE,EAAQgF,EAAa/D,YAErEjB,EAAQ,IACRA,EAAQ,GAEZgF,EAAahF,MAAQA,EACdgF,CACX,CAAC,IACKE,EAAa,SAAAC,IAAA7H,EAAAA,EAAAA,GAAA4H,EAAAC,GAAA,IAAA5H,GAAAC,EAAAA,EAAAA,GAAA0H,GACf,SAAAA,EAAYE,GAAQ,IAAAtI,EASb,OATanC,EAAAA,EAAAA,GAAA,KAAAuK,IAChBpI,EAAAS,EAAA8H,KAAA,KAAMD,IACDE,mBAAgB,EACrBxI,EAAKwG,aAAU,EACfxG,EAAKyI,YAAa,EAClBzI,EAAKuI,KAAOvI,EAAK0I,MACjBC,QAAQC,eAAeN,EAAQ,kBAAmB,CAC9CrN,OAAK4N,EAAAA,EAAAA,GAAA7I,GACL8I,YAAY,IACb9I,CACP,CAqCC,OArCAzB,EAAAA,EAAAA,GAAA6J,EAAA,EAAA/J,IAAA,YAAApD,MACD,SAAU8N,GACNjL,KAAK4K,SACLM,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAb,EAAAvE,WAAA,kBAAA0E,KAAA,KAAgBQ,EACpB,GAAC,CAAA1K,IAAA,YAAApD,MACD,SAAUI,QACe,IAAjByC,KAAK0I,QACL1I,KAAK0I,QAAU,CAACnL,GAGhByC,KAAK0I,QAAQjL,KAAKF,GAElByC,KAAK2K,aACL3K,KAAK2K,YAAa,EAClBS,EAAAA,GAAIC,YAAYrL,MAExB,GAAC,CAAAO,IAAA,QAAApD,MACD,SAAMuN,GACF1K,KAAK0K,cAAgBA,EACjB1K,KAAK2K,aACL3K,KAAK2K,YAAa,EAClBS,EAAAA,GAAIC,YAAYrL,MAExB,GAAC,CAAAO,IAAA,QAAApD,MACD,WACI,IAAMuL,EAAU1I,KAAK0I,QACfgC,EAAgB1K,KAAK0K,cAC3B,QAAgB,IAAZhC,QAAwC,IAAlBgC,EAA1B,CAGA1K,KAAK2K,YAAa,EAClB3K,KAAK0I,aAAU,EACf1I,KAAK0K,mBAAgB,EACrB,IAAMY,OAAiC,IAAlBZ,EACff,EAAoB3J,KAAKwK,OAAQ9B,GACjChC,EAAY1G,KAAKwK,OAAQ,EAAGxK,KAAKwK,OAAO5J,OAAQ8J,EAAe,EAAGA,EAAc9J,QACtFZ,KAAKuL,OAAOD,EAPZ,CAQJ,KAAChB,CAAA,CAhDc,CAASkB,EAAAA,G,0BCftBC,EAAuBjK,OAAOkK,OAAO,CACvCC,aAAa,EACbC,SAAS,IAEb,SAASC,EAAuBC,EAAMC,EAAO3G,EAAO4G,GAChDF,EAAKG,KAAKF,EAAM3G,GAAQ4G,EAC5B,CACA,SAASE,EAAoBJ,EAAMC,EAAO3G,EAAO4G,GAC7C,IAAMG,EAAe3K,OAAO4K,OAAOJ,GACnCG,EAAa/G,MAAQA,EACrB+G,EAAavL,OAASmL,EAAMnL,OAC5BkL,EAAKG,KAAKF,EAAM3G,GAAQ+G,EAC5B,CAKO,IAAME,EAAc,WAUvB,SAAAA,EAAYC,EAAUC,EAAcC,EAAwBC,EAAiBC,EAA2BC,IAAS5M,EAAAA,EAAAA,GAAA,KAAAsM,GAC7GrM,KAAKsM,SAAWA,EAChBtM,KAAKuM,aAAeA,EACpBvM,KAAKyM,gBAAkBA,EACvBzM,KAAK2M,QAAUA,EACf3M,KAAKwK,OAAS,KACdxK,KAAK4M,MAAQ,GACb5M,KAAK+L,MAAQ,KACb/L,KAAK6M,cAAgB,KACrB7M,KAAK8M,qBAAkB,EACvB9M,KAAKmM,kBAAe,EACpBnM,KAAK+M,SAAWlB,EAChB7L,KAAKgN,qBAAuBC,EAAAA,GAAWC,QAAQX,EAAcvM,KAAMwM,GACnExM,KAAKmN,wBAA0BF,EAAAA,GAAWC,QAAQT,EAAiBzM,KAAM0M,GACrEC,EAAQhB,cACR3L,KAAK+M,SAAWb,EAExB,CAuKC,OAtKDzL,EAAAA,EAAAA,GAAA4L,EAAA,EAAA9L,IAAA,OAAApD,MAKA,SAAKqN,EAAQwB,GACThM,KAAKwK,OAASA,EACdxK,KAAK8M,gBAAkBd,EACvBhM,KAAKmM,aAAe3K,OAAO4K,OAAOJ,GAClChM,KAAKmM,aAAaiB,OAAS5C,EAC3BxK,KAAKmM,aAAakB,cAAgBrN,KAAK8M,gBACvC9M,KAAK+L,MAAQ/L,KAAKgN,qBAAqBM,QAAQ9C,EAAQxK,KAAK8M,iBAC5D9M,KAAKuN,SAAWvN,KAAKmN,wBAAwBG,QAAQ9C,EAAQxK,KAAK8M,iBAClE9M,KAAKwN,cAAa,GAClBxN,KAAKyN,iBACT,GACA,CAAAlN,IAAA,SAAApD,MAIA,WACI6C,KAAKwK,OAAS,KACdxK,KAAK+L,MAAQ,KACc,OAAvB/L,KAAK6M,eACL7M,KAAK6M,cAAca,YAAY1N,MAEnCA,KAAK2N,iBACL3N,KAAKgN,qBAAqBY,aAC1B5N,KAAKmN,wBAAwBS,YACjC,GACA,CAAArN,IAAA,eAAApD,MACA,SAAaqN,EAAQqD,GACbrD,IAAWxK,KAAKuM,cAChBvM,KAAK+L,MAAQ/L,KAAKgN,qBAAqBM,QAAQtN,KAAKwK,OAAQxK,KAAK8M,iBACjE9M,KAAKwN,eACLxN,KAAKyN,mBAEAjD,IAAWxK,KAAKyM,iBACrBzM,KAAKuN,SAAWvN,KAAKmN,wBAAwBG,QAAQtN,KAAKwK,OAAQxK,KAAK8M,iBACvE9M,KAAKyN,iBAAgB,IAGrBzN,KAAK8N,YAAYD,EAEzB,GAAC,CAAAtN,IAAA,eAAApD,MACD,WAA4B,IAAf4Q,EAAK9M,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,IAAAA,UAAA,GACd,GAAKjB,KAAK+L,MAAV,CAIA,IAAMiC,EAAchO,KAAK6M,cACnBoB,EAAejO,KAAK6M,cAAgBI,EAAAA,GAAWiB,YAAYlO,KAAK+L,OAChEoC,EAAiBH,IAAgBC,EACnCE,GAAkC,OAAhBH,GAClBA,EAAYN,YAAY1N,OAExBmO,GAAkBJ,IAClBE,EAAYG,UAAUpO,KAR1B,MAFIA,KAAK+L,MAAQlE,EAAAA,EAYrB,GAAC,CAAAtH,IAAA,cAAApD,MACD,SAAYuL,GAUR,IATA,IAAMyD,EAAenM,KAAKmM,aACpBS,EAAQ5M,KAAK4M,MACbG,EAAW/M,KAAK+M,SAChBhB,EAAQ/L,KAAK+L,MACbwB,EAAWvN,KAAKuN,SAChB3B,EAAU5L,KAAK2M,QAAQf,QACvByC,EAAgB,GAClBC,EAAgB,EAChBC,EAAiB,EACZhH,EAAI,EAAGwC,EAAKrB,EAAQ9H,OAAQ2G,EAAIwC,IAAMxC,EAAG,CAS9C,IARA,IAAMhK,EAASmL,EAAQnB,GACjBnB,EAAU7I,EAAO6I,QACnBoI,EAAc,EACdC,EAAWlR,EAAO6H,MAChBsJ,EAAMD,EAAWlR,EAAO8I,WACxBsI,EAAe/B,EAAMrP,OAAOA,EAAO6H,MAAOgB,EAAQxF,QAClDgO,EAAuBL,EACzBF,EAAczN,OAAS+N,EAAa/N,OACjC6N,EAAWC,IAAOD,EAAU,CAC/B,IAAMI,EAAWjC,EAAM6B,GACjBnC,EAAWuC,EAAWA,EAASC,WAAa9O,KAAKsM,SACnDR,OAAI,EACJF,GAAW2C,EAAiB,GACxBC,GAAeI,GAAuBD,EAAa/N,OAAS,GAC5DkL,EAAO6C,EAAaH,GACpBA,MAGA1C,EAAOuC,EAAcC,GACrBA,KAEJC,KAGAzC,EAAOyB,EAASnB,SAEpBQ,EAAMrP,OAAOkR,EAAU,EAAG3C,GAC1BiB,EAASjB,EAAMC,EAAO0C,EAAUtC,GAChCL,EAAKiD,aAAazC,EACtB,CACIqC,EAAaH,IACbH,EAAc5Q,KAAIoF,MAAlBwL,GAAa/Q,EAAAA,EAAAA,GAASqR,EAAanF,MAAMgF,IAEjD,CACA,IAAK,IAAIjH,EAAI+G,EAAevE,EAAKsE,EAAczN,OAAQ2G,EAAIwC,IAAMxC,EAC7D8G,EAAc9G,GAAGyH,UAErB,GAAIhP,KAAK2M,QAAQhB,YACb,IAAK,IAAIpE,EAAI,EAAGwC,EAAK6C,EAAMhM,OAAQ2G,EAAIwC,IAAMxC,EAAG,CAC5C,IAAM0H,EAAiBrC,EAAMrF,GAAGyE,QAChCiD,EAAerO,OAASmJ,EACxBkF,EAAe7J,MAAQmC,CAC3B,CAER,GAAC,CAAAhH,IAAA,kBAAApD,MACD,WAAyC,IAAzB+R,EAAejO,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,IAAAA,UAAA,GACrB8K,EAAQ/L,KAAK+L,MACbI,EAAenM,KAAKmM,aACpBoB,EAAWvN,KAAKuN,SAChBjB,EAAWtM,KAAKsM,SAChBS,EAAW/M,KAAK+M,SAClBoC,EAAcpD,EAAMnL,OACpBgM,EAAQ5M,KAAK4M,MACbwC,EAAcxC,EAAMhM,OAMxB,GALoB,IAAhBuO,IAAqBD,GAAoBlP,KAAK2M,QAAQf,UAEtDyD,EAAAA,EAASC,uBAAuB1C,GAChCwC,EAAc,GAEE,IAAhBA,EAAmB,CAEnBpP,KAAK4M,MAAQA,EAAQ,IAAIzK,MAAMgN,GAC/B,IAAK,IAAI5H,EAAI,EAAGA,EAAI4H,IAAe5H,EAAG,CAClC,IAAMuE,EAAOyB,EAASnB,SACtBW,EAASjB,EAAMC,EAAOxE,EAAG4E,GACzBS,EAAMrF,GAAKuE,EACXA,EAAKiD,aAAazC,EACtB,CACJ,KACK,CAGD,IADA,IAAI/E,EAAI,EACDA,EAAI4H,IAAe5H,EACtB,GAAIA,EAAI6H,EAAa,CAEjBrC,EADaH,EAAMrF,GACJwE,EAAOxE,EAAG4E,EAC7B,KACK,CACD,IAAML,EAAOyB,EAASnB,SACtBW,EAASjB,EAAMC,EAAOxE,EAAG4E,GACzBS,EAAMnP,KAAKqO,GACXA,EAAKiD,aAAazC,EACtB,CAEJ,IAAMlG,EAAUwG,EAAMrP,OAAOgK,EAAG6H,EAAc7H,GAC9C,IAAKA,EAAI,EAAG4H,EAAc/I,EAAQxF,OAAQ2G,EAAI4H,IAAe5H,EACzDnB,EAAQmB,GAAGyH,SAEnB,CACJ,GAAC,CAAAzO,IAAA,iBAAApD,MACD,WAEI,IADA,IAAMyP,EAAQ5M,KAAK4M,MACVrF,EAAI,EAAGwC,EAAK6C,EAAMhM,OAAQ2G,EAAIwC,IAAMxC,EACzCqF,EAAMrF,GAAGgI,QAEjB,KAAClD,CAAA,CAlMsB,GAwMdmD,EAAe,SAAAC,IAAA/M,EAAAA,EAAAA,GAAA8M,EAAAC,GAAA,IAAA9M,GAAAC,EAAAA,EAAAA,GAAA4M,GAOxB,SAAAA,EAAYjD,EAAcE,EAAiBE,GAAS,IAAAzK,EAY+B,OAZ/BnC,EAAAA,EAAAA,GAAA,KAAAyP,IAChDtN,EAAAS,EAAA8H,KAAA,OACK8B,aAAeA,EACpBrK,EAAKuK,gBAAkBA,EACvBvK,EAAKyK,QAAUA,EAKfzK,EAAKwN,kBAAoBtE,EAAAA,GAAIuE,uBD9J9B,WACH,IAAIzF,EAAJ,CAGAA,GAA0B,EAC1B+C,EAAAA,GAAW2C,yBAAwB,SAACC,GAChC,OAAO,IAAIvF,EAAcuF,EAC7B,IACA,IAAMC,EAAQ3N,MAAM4D,UAGpB,IAAI+J,EAAMC,WAAV,CAGAlF,QAAQC,eAAegF,EAAO,aAAc,CACxC3S,MAAO,EACP6N,YAAY,IAEhB,IAAMgF,EAAMF,EAAME,IACZvS,EAAOqS,EAAMrS,KACb4K,EAAUyH,EAAMzH,QAChB4H,EAAQH,EAAMG,MACdC,EAAOJ,EAAMI,KACb3S,EAASuS,EAAMvS,OACf4S,EAAUL,EAAMK,QACtBL,EAAME,IAAM,WACR,IAAMI,EAAWpQ,KAAKY,OAAS,EACzByP,EAAmBL,EAAInN,MAAM7C,KAAMiB,WACnCqP,EAAItQ,KAAKuQ,gBAIf,YAHU,IAAND,GAAgBF,GAChBE,EAAEE,UAAUrK,EAAUnG,KAAKY,OAAQ,CAACyP,GAAmB,IAEpDA,CACX,EACAP,EAAMrS,KAAO,WACT,IAAM4S,EAAmB5S,EAAKoF,MAAM7C,KAAMiB,WACpCqP,EAAItQ,KAAKuQ,gBAIf,YAHU,IAAND,GACAA,EAAEE,UAAUrG,EAAYhE,EAAUnG,KAAKY,OAASK,UAAUL,OAAQ,GAAIK,UAAUL,QAASZ,OAEtFqQ,CACX,EACAP,EAAMzH,QAAU,WACZ,IAAIoI,EACEH,EAAItQ,KAAKuQ,qBACL,IAAND,IACAA,EAAE1F,QACF6F,EAAWzQ,KAAKwJ,SAEpB,IAAM6G,EAAmBhI,EAAQxF,MAAM7C,KAAMiB,WAI7C,YAHU,IAANqP,GACAA,EAAEI,MAAMD,GAELJ,CACX,EACAP,EAAMG,MAAQ,WACV,IAAMG,EAAWpQ,KAAKY,OAAS,EACzByP,EAAmBJ,EAAMpN,MAAM7C,KAAMiB,WACrCqP,EAAItQ,KAAKuQ,gBAIf,YAHU,IAAND,GAAgBF,GAChBE,EAAEE,UAAUrK,EAAU,EAAG,CAACkK,GAAmB,IAE1CA,CACX,EACAP,EAAMI,KAAO,WACT,IAAIO,EACEH,EAAItQ,KAAKuQ,qBACL,IAAND,IACAA,EAAE1F,QACF6F,EAAWzQ,KAAKwJ,SAEpB,IAAM6G,EAAmBH,EAAKrN,MAAM7C,KAAMiB,WAI1C,YAHU,IAANqP,GACAA,EAAEI,MAAMD,GAELJ,CACX,EACAP,EAAMvS,OAAS,WACX,IAAM8S,EAAmB9S,EAAOsF,MAAM7C,KAAMiB,WACtCqP,EAAItQ,KAAKuQ,gBAIf,YAHU,IAAND,GACAA,EAAEE,UAAUrG,EAAYhE,GAAWlF,UAAU,GAAIoP,EAAkBpP,UAAUL,OAAS,EAAIK,UAAUL,OAAS,EAAI,GAAIZ,OAElHqQ,CACX,EACAP,EAAMK,QAAU,WACZ,IAAME,EAAmBF,EAAQtN,MAAM7C,KAAMiB,WACvCqP,EAAItQ,KAAKuQ,gBAIf,YAHU,IAAND,GACAA,EAAEE,UAAUrG,EAAYhE,EAAU,EAAG,GAAIlF,UAAUL,QAASZ,OAEzDqQ,CACX,CA/EA,CAVA,CA0FJ,CCkEQM,GACAzO,EAAKsK,uBAAyBS,EAAAA,GAAW2D,kBAAkBrE,GAC3DrK,EAAKwK,0BAA4BO,EAAAA,GAAW2D,kBAAkBnE,GAAiBvK,CACnF,CAOC,OANDzB,EAAAA,EAAAA,GAAA+O,EAAA,EAAAjP,IAAA,iBAAApD,MAIA,SAAemH,GACX,OAAO,IAAI+H,EAAe/H,EAAQtE,KAAKuM,aAAcvM,KAAKwM,uBAAwBxM,KAAKyM,gBAAiBzM,KAAK0M,0BAA2B1M,KAAK2M,QACjJ,KAAC6C,CAAA,CA3BuB,CAASqB,EAAAA,IAqC9B,SAASC,EAAOvE,EAAcwE,GAA2D,IAAhCpE,EAAO1L,UAAAL,OAAA,QAAA7F,IAAAkG,UAAA,GAAAA,UAAA,GAAGwK,EAItE,OAAO,IAAI+D,EAAgBjD,EAHkC,oBAA9BwE,EACzBA,EACA,kBAAMA,CAAyB,EACqBvP,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGgK,GAAuBkB,GACrH,C,yCCnQaqE,EACH,OADGA,EAEA,UAFAA,EAGD,SAOCC,EACA,UADAA,EAEK,eAFLA,GAGE,YAOFC,GACA,UADAA,GAED,SAFCA,GAGK,gBCvBZC,IAA8BC,EAAAA,EAAAA,GAAIC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wDAE9B,SAAAC,GAAC,OAAkB,OAAdA,EAAEC,SACU,OAAvBD,EAAEE,kBACmC,OAArCF,EAAEE,iBAAiBC,cACjB,KACAH,EAAEC,QAAQD,EAAEE,iBAAiBC,cAAc,IAG3CC,IAAoCP,EAAAA,EAAAA,GAAIQ,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,wDAEpC,SAAAC,GAAC,OAA2B,OAAvBA,EAAEE,iBACX,UAC6B1W,IAA7BwW,EAAEE,iBAAiBI,MACfN,EAAEE,iBAAiBC,cACnBH,EAAEE,iBAAiBI,KAAK,IAUrBC,GAAY,SAAArP,IAAAC,EAAAA,EAAAA,GAAAoP,EAAArP,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAkP,GACrB,SAAAA,IAAc,IAAA5P,EA0BR,OA1BQnC,EAAAA,EAAAA,GAAA,KAAA+R,IACV5P,EAAAS,EAAAE,MAAA,KAAS5B,YAQJ8Q,SAAWd,EAMhB/O,EAAKsP,QAAU,KAMftP,EAAKuP,iBAAmB,KACxBvP,EAAK8P,cAAe,EACpB9P,EAAK+P,eAAiB,KACtB/P,EAAKgQ,gBAAkB,WACnBhQ,EAAKiQ,MAAMC,WAAalQ,EAAKkQ,UACjC,EAAElQ,CACN,CA4JC,OA5JAzB,EAAAA,EAAAA,GAAAqR,EAAA,EAAAvR,IAAA,kBAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAKsS,gBAEb,GAAC,CAAA/R,IAAA,oBAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAKkS,iBAEb,GAAC,CAAA3R,IAAA,0BAAApD,MACD,SAAwBoV,EAAUC,GAC1BxS,KAAKuQ,gBAAgB8B,aACrBrS,KAAKsS,gBAEb,GACA,CAAA/R,IAAA,oBAAApD,MAGA,WACI,IAAIsV,GACJvH,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA2G,EAAA/L,WAAA,0BAAA0E,KAAA,MACAzK,KAAK0S,iBAAiBC,EAAAA,GAAc3S,KAAK4S,eACzC5S,KAAK0S,iBAAiBG,EAAAA,GAAe7S,KAAK8S,gBAC1C9S,KAAK0S,iBAAiBK,EAAAA,GAAc/S,KAAKgT,eACzChT,KAAKmS,MAAMC,WAAa,GAAHnQ,YAA4FlH,KAApD,QAAhC0X,EAAKzS,KAAKyR,wBAAqC,IAAPgB,OAAgB,EAASA,EAAGL,YAC3F,EACApS,KAAKyR,iBAAiBW,YAC5BpS,KAAKsS,iBACLtS,KAAKkS,iBACT,GACA,CAAA3R,IAAA,uBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA2G,EAAA/L,WAAA,6BAAA0E,KAAA,MACAzK,KAAKiT,oBAAoBN,EAAAA,GAAc3S,KAAK4S,eAC5C5S,KAAKiT,oBAAoBJ,EAAAA,GAAe7S,KAAK8S,gBAC7C9S,KAAKiT,oBAAoBF,EAAAA,GAAc/S,KAAKgT,eAC5ChT,KAAKkT,oBACT,GAAC,CAAA3S,IAAA,gBAAApD,MACD,SAAc7C,GACV,IAAI0F,KAAKgS,aAAT,CAIA,GADAhS,KAAKgS,cAAe,EACZhS,KAAK+R,WACJd,GACD,GAA8B,OAA1BjR,KAAKyR,mBACkD,IAAvDzR,KAAKyR,iBAAiB0B,8BAElB,oBADGnT,KAAKyR,iBAAiB2B,8BACb,CAEhB,IAAMC,EAAcrT,KAAKyR,iBAAiB2B,8BAA8BpT,MACpD,OAAhBqT,GACAA,EAAYC,OAEpB,OAGA,GAA8B,OAA1BtT,KAAKyR,mBAC4C,IAAjDzR,KAAKyR,iBAAiB8B,wBACmC,oBAAlDvT,KAAKyR,iBAAiB+B,wBAAwC,CAErE,IAAMH,EAAcrT,KAAKyR,iBAAiB+B,wBAAwBxT,MAC9C,OAAhBqT,GACAA,EAAYC,OAEpB,CAGRtT,KAAKwF,MAAM,eAAgBxF,KA3B3B,CA4BJ,GAAC,CAAAO,IAAA,iBAAApD,MACD,SAAe7C,GACP0F,OAASyT,SAASC,eAAkB1T,KAAK2T,SAASF,SAASC,iBAC3D1T,KAAKgS,cAAe,EAE5B,GAAC,CAAAzR,IAAA,gBAAApD,MACD,SAAc7C,GACV,KAAIA,EAAEsZ,kBACwB,OAA1B5T,KAAKyR,kBACJzR,KAAK+R,WAAad,IACkC,IAAjDjR,KAAKyR,iBAAiB8B,wBACzBvT,KAAK+R,WAAad,IACwC,IAAvDjR,KAAKyR,iBAAiB0B,8BAG9B,OAAQ7Y,EAAEiG,KACN,KAAKkF,EAAAA,GACL,KAAKoO,EAAAA,GACD,GAAI7T,KAAK2T,SAASF,SAASC,gBACvBD,SAASC,gBAAkB1T,KAC3B,OAEJ,GAAQA,KAAK+R,WACJd,GACD,QACIlW,IADAiF,KAAKyR,iBAAiB2B,8BACX,CACX,IAAMC,EAAcrT,KAAKyR,iBAAiB2B,8BAA8BpT,MACpD,OAAhBqT,GACAA,EAAYC,QAEhBhZ,EAAEiL,gBACN,OAGA,QAAsDxK,IAAlDiF,KAAKyR,iBAAiB+B,wBAAuC,CAC7D,IAAMH,EAAcrT,KAAKyR,iBAAiB+B,wBAAwBxT,MAC9C,OAAhBqT,GACAA,EAAYC,QAEhBhZ,EAAEiL,gBACN,CAGR,MACJ,KAAKuO,EAAAA,GACG9T,KAAK2T,SAASF,SAASC,gBACvBD,SAASC,gBAAkB1T,OAC3BA,KAAKsT,QACLhZ,EAAEiL,kBAIlB,GAAC,CAAAhF,IAAA,iBAAApD,MACD,WAEI,GADA6C,KAAKkT,qBACyB,OAA1BlT,KAAKyR,iBAGT,OAAQzR,KAAK+R,UACT,KAAKd,OACgDlW,IAA7CiF,KAAKyR,iBAAiBsC,mBACtB/T,KAAKiS,eAAiBjS,KAAKyR,iBAAiBsC,mBAAmBC,OAAOhU,KAAMA,MAG5EA,KAAKiS,eAAiBN,GAAkCqC,OAAOhU,KAAMA,MAEzE,MACJ,UAAKjF,EACL,KAAKkW,GACL,KAAKA,OAC0ClW,IAAvCiF,KAAKyR,iBAAiBwC,aACtBjU,KAAKiS,eAAiBjS,KAAKyR,iBAAiBwC,aAAaD,OAAOhU,KAAMA,MAGtEA,KAAKiS,eAAiBd,GAA4B6C,OAAOhU,KAAMA,MAI/E,GAAC,CAAAO,IAAA,qBAAApD,MACD,WACgC,OAAxB6C,KAAKiS,iBACLjS,KAAKiS,eAAejD,UACpBhP,KAAKiS,eAAiB,KAE9B,KAACH,CAAA,CAxLoB,CAASnM,EAAAA,IA0LlCC,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,eACnB4L,GAAa/L,UAAW,gBAAY,IACvCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,iBACnB4L,GAAa/L,UAAW,kBAAc,IACzCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDpC,GAAa/L,UAAW,eAAW,IACtCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDpC,GAAa/L,UAAW,wBAAoB,GCxNxC,IAAMoO,GAAW,SAAA1R,IAAAC,EAAAA,EAAAA,GAAAyR,EAAA1R,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAuR,GACpB,SAAAA,IAAc,IAAAjS,EAqCR,OArCQnC,EAAAA,EAAAA,GAAA,KAAAoU,IACVjS,EAAAS,EAAAE,MAAA,KAAS5B,YAQJmT,QAAUlD,GAMfhP,EAAKsP,QAAU,KAMftP,EAAKmS,kBAAoB,KAMzBnS,EAAKoS,aAAc,EACnBpS,EAAKqS,oBAAsB,KAC3BrS,EAAKsS,iBAAmB,KAIxBtS,EAAKuS,iBAAmB,EACxBvS,EAAKwS,eAAgB,EACrBxS,EAAKyS,eAAiB,WAClBzS,EAAKiQ,MAAMyC,oBAAsB1S,EAAK0S,mBAC1C,EAAE1S,CACN,CAkHC,OAlHAzB,EAAAA,EAAAA,GAAA0T,EAAA,EAAA5T,IAAA,6BAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAK2U,gBAEb,GAAC,CAAApU,IAAA,iBAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAK6U,oBAEb,GAAC,CAAAtU,IAAA,iBAAApD,MACD,WACyB,OAAjB6C,KAAKwR,SAAoBxR,KAAKsU,cAC9BtU,KAAK0U,eAAgB,EAG7B,GAAC,CAAAnU,IAAA,0BAAApD,MACD,WACI6C,KAAK6U,oBACT,GAAC,CAAAtU,IAAA,gCAAApD,MACD,WACI6C,KAAK6U,oBACT,GACA,CAAAtU,IAAA,oBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgJ,EAAApO,WAAA,0BAAA0E,KAAA,MAGiC,OAA7BzK,KAAKuU,sBACLvU,KAAKwU,iBAAmBf,SAASqB,cAAc,IAC/C9U,KAAK+U,YAAY/U,KAAKwU,kBACtBxU,KAAK6U,qBACL7U,KAAKuU,oBAAsB,IAAI/E,GAAgB,SAAA+B,GAAC,OAAIA,EAAE8C,iBAAiB,IAAE,SAAA9C,GAAC,OAAIA,EAAEyD,sBAAsB,GAAE,CAAErJ,aAAa,IAAQsJ,eAAejV,KAAKwU,kBAEnJxU,KAAKuQ,gBAAgB2E,aAAa,CAAClV,KAAKuU,uBAE5CvU,KAAK0S,iBAAiB,eAAgB1S,KAAKmV,iBAC3CnV,KAAK0S,iBAAiBG,EAAAA,GAAe7S,KAAK8S,gBAC1C9S,KAAK0S,iBAAiBK,EAAAA,GAAc/S,KAAKgT,eACzChT,KAAK2U,iBACD3U,KAAK0U,gBAEL1U,KAAK0U,eAAgB,EACjB1U,KAAKoV,aAAaxU,OAASZ,KAAKyU,kBAChCzU,KAAKoV,aAAapV,KAAKyU,kBAAkBnB,QAGrD,GACA,CAAA/S,IAAA,uBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgJ,EAAApO,WAAA,6BAAA0E,KAAA,MACAzK,KAAKiT,oBAAoB,eAAgBjT,KAAKmV,iBAC9CnV,KAAKiT,oBAAoBJ,EAAAA,GAAe7S,KAAK8S,gBAC7C9S,KAAKiT,oBAAoBF,EAAAA,GAAc/S,KAAKgT,cAChD,GAAC,CAAAzS,IAAA,iBAAApD,MACD,SAAe7C,GACN0F,KAAK2T,SAASrZ,EAAEgK,UACjBtE,KAAKsU,aAAc,EACnBtU,KAAKyU,iBAAmB,EAEhC,GAAC,CAAAlU,IAAA,kBAAApD,MACD,SAAgB7C,GACZ0F,KAAKsU,aAAc,EACnBtU,KAAKyU,iBAAmBzU,KAAKoV,aAAa5X,QAAQlD,EAAEgK,QACpDtE,KAAKwF,MAAM,cAAexF,KAC9B,GAAC,CAAAO,IAAA,gBAAApD,MACD,SAAc7C,GACV,IAAIA,EAAEsZ,iBAAN,CAGA,IAAIyB,EAAsB,EAC1B,OAAQ/a,EAAEiG,KACN,KAAK+U,EAAAA,GAEDD,EAAsBjO,KAAKmO,IAAI,EAAGvV,KAAKyU,iBAAmB,GAC1DzU,KAAKoV,aAAaC,GAAqB/B,QACvChZ,EAAEiL,iBACF,MACJ,KAAKiQ,EAAAA,GAEDH,EAAsBjO,KAAKC,IAAIrH,KAAKoV,aAAaxU,OAAS,EAAGZ,KAAKyU,iBAAmB,GACrFzU,KAAKoV,aAAaC,GAAqB/B,QACvChZ,EAAEiL,iBACF,MACJ,KAAKkQ,EAAAA,GACInb,EAAEob,UACH1V,KAAKoV,aAAa,GAAG9B,QACrBhZ,EAAEiL,kBAEN,MACJ,KAAKoQ,EAAAA,GACIrb,EAAEob,UAEH1V,KAAKoV,aAAapV,KAAKoV,aAAaxU,OAAS,GAAG0S,QAChDhZ,EAAEiL,kBAzBd,CA6BJ,GAAC,CAAAhF,IAAA,qBAAApD,MACD,WACI6C,KAAKgV,uBACDhV,KAAKoU,UAAYlD,SACanW,IAA1BiF,KAAK4V,iBACH5V,KAAK4V,iBACL5V,KAAKoU,UAAYlD,SACWnW,IAA1BiF,KAAK4V,iBACH5V,KAAK6V,6BAC2B9a,IAAhCiF,KAAK8V,uBACD9V,KAAK8V,uBACL9V,KAAK+V,6BAC3B,KAAC5B,CAAA,CAzJmB,CAASxO,EAAAA,IA2JjCC,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,2BACnBiO,GAAYpO,UAAW,2BAAuB,IACjDH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,cACnBiO,GAAYpO,UAAW,eAAW,IACrCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,eAAW,IACrCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,yBAAqB,IAC/CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,wBAAoB,IAC9CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,8BAA0B,IACpDH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,gBAAY,IACtCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,mBAAe,IACzCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,8BAA0B,IACpDH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,+BAA2B,IACrDH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,qCAAiC,IAC3DH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDC,GAAYpO,UAAW,oBAAgB,GC9LnC,I,8BAAMiQ,GAAQ,SAAAvT,IAAAC,EAAAA,EAAAA,GAAAsT,EAAAvT,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAoT,GACjB,SAAAA,IAAc,IAAA9T,EAuHR,OAvHQnC,EAAAA,EAAAA,GAAA,KAAAiW,IACV9T,EAAAS,EAAA8H,KAAA,OASKwL,WAAY,EAQjB/T,EAAKgU,eAAiBlF,EAMtB9O,EAAKiU,SAAW,GAMhBjU,EAAKmS,kBAAoB,KASzBnS,EAAKkU,cAAgB,EASrBlU,EAAKuS,iBAAmB,EACxBvS,EAAKmU,gBAAkB,KACvBnU,EAAKoU,gBAAkB,KACvBpU,EAAKqU,iBAAkB,EACvBrU,EAAKsU,oBAAqB,EAC1BtU,EAAKuU,sBAAuB,EAC5BvU,EAAKwU,wBAAyB,EAC9BxU,EAAKyU,6BAA+B,GACpCzU,EAAK0U,YAAc,SAACC,EAAUC,EAAaC,GACvC,GAAgC,IAA5B7U,EAAK8U,YAAYpW,OAGjB,OAFAsB,EAAKkU,cAAgB,OACrBlU,EAAKuS,iBAAmB,GAG5B,IAAM2B,EAAgBhP,KAAKmO,IAAI,EAAGnO,KAAKC,IAAInF,EAAK8U,YAAYpW,OAAS,EAAGiW,IAElEI,EADW/U,EAAK8U,YAAYZ,GACXc,iBAAiB,+EAElC7D,EAAc4D,EADK7P,KAAKmO,IAAI,EAAGnO,KAAKC,IAAI4P,EAAMrW,OAAS,EAAGkW,KAE5DC,GACA7U,EAAKiV,eAAiBjV,EAAKkV,eACzBhB,EAAgBlU,EAAKkU,eAAiBlU,EAAKmV,UAAY,GACpDjB,EAAgBlU,EAAKkU,eAClBlU,EAAKmV,UAAYnV,EAAKiV,aAAejV,EAAKkV,eAClD/D,EAAY0D,eAAe,CAAEO,MAAO,SAAUC,OAAQ,WAE1DlE,EAAYC,OAChB,EACApR,EAAKsV,kBAAoB,SAACC,EAE1BC,GACQD,GAAaA,EAAU7W,SACvB6W,EAAUtS,SAAQ,SAACwS,GACfA,EAASC,WAAWzS,SAAQ,SAAC0S,GACA,IAArBA,EAAQC,UACyB,QAAjCD,EAAQE,aAAa,UACrBF,EAAQxD,kBAAoBnS,EAAKmS,kBAEzC,GACJ,IACAnS,EAAK8V,sBAEb,EACA9V,EAAK8V,oBAAsB,WAClB9V,EAAKuU,uBACNvU,EAAKuU,sBAAuB,EAC5BrL,EAAAA,GAAIC,YAAYnJ,EAAK+V,kBAE7B,EACA/V,EAAK+V,iBAAmB,WACpB,IAAIC,EAAyBhW,EAAK0S,oBAClC,QAA+B7Z,IAA3Bmd,EAAsC,CAEtC,GAA0C,KAAtChW,EAAKyU,8BAAuCzU,EAAK8U,YAAYpW,OAAS,EAAG,CACzE,IAAMuX,EAAWjW,EAAK8U,YAAY,GAClC9U,EAAKyU,6BAA+B,IAAIxU,MAAMgW,EAAS/C,aAAaxU,QAC/DwB,KAAK,OACL0C,KAAK,IACd,CACAoT,EAAyBhW,EAAKyU,4BAClC,CACAzU,EAAK8U,YAAY7R,SAAQ,SAACiT,EAAShT,GAC/B,IAAMiT,EAAUD,EAChBC,EAAQxB,SAAWzR,EACnBiT,EAAQzD,oBAAsBsD,EAC1BhW,EAAKwU,yBACL2B,EAAQhE,kBAAoBnS,EAAKmS,kBAEzC,IACAnS,EAAKuU,sBAAuB,EAC5BvU,EAAKwU,wBAAyB,CAClC,EAAExU,CACN,CAUC,OATDzB,EAAAA,EAAAA,GAAAuV,EAAA,EAAAzV,IAAA,mBAAApD,MAUA,WACQ6C,KAAKuQ,gBAAgB8B,cACjBrS,KAAKiW,UACLjW,KAAKsY,aAAa,WAAY,MAG9BtY,KAAKsY,aAAa,WAAYtY,KAAK2T,SAASF,SAASC,gBACjD1T,OAASyT,SAASC,cAChB,KACA,KAGlB,GAAC,CAAAnT,IAAA,wBAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAKuY,uBAEb,GAAC,CAAAhY,IAAA,6BAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAKiY,kBAEb,GAAC,CAAA1X,IAAA,kBAAApD,MACD,WACmC,OAA3B6C,KAAKqU,mBAA8BrU,KAAKmW,SAASvV,OAAS,IAC1DZ,KAAKqU,kBAAoB2B,EAASwC,gBAAgBxY,KAAKmW,SAAS,KAEhEnW,KAAKuQ,gBAAgB8B,aACrBrS,KAAKuY,uBAEb,GAAC,CAAAhY,IAAA,2BAAApD,MACD,WACmC,OAA3B6C,KAAKqU,mBAITrU,KAAK2W,6BAA+BX,EAASyC,wBAAwBzY,KAAKqU,mBACtErU,KAAKuQ,gBAAgB8B,cACrBrS,KAAK0W,wBAAyB,EAC9B1W,KAAKgY,wBANLhY,KAAK2W,6BAA+B,EAQ5C,GAAC,CAAApW,IAAA,gCAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACQ,OAAzBrS,KAAKsW,kBACLtW,KAAKsW,gBAAgBR,uBAAyB9V,KAAK8V,uBAG/D,GAAC,CAAAvV,IAAA,uBAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAK0Y,kBAEb,GAAC,CAAAnY,IAAA,0BAAApD,MACD,WACQ6C,KAAKuQ,gBAAgB8B,aACrBrS,KAAK0Y,kBAEb,GACA,CAAAnY,IAAA,oBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA6K,EAAAjQ,WAAA,0BAAA0E,KAAA,WAC6B1P,IAAzBiF,KAAK2Y,kBACL3Y,KAAK2Y,gBAAkB3Y,KAAK4Y,wBAEhC5Y,KAAKqW,gBAAkB5C,SAASqB,cAAc,IAC9C9U,KAAK+U,YAAY/U,KAAKqW,iBACtBrW,KAAKuY,wBACLvY,KAAK6Y,mBAAqB,IAAIrJ,GAAgB,SAAA+B,GAAC,OAAIA,EAAE4E,QAAQ,IAAE,SAAA5E,GAAC,OAAIA,EAAEoH,eAAe,GAAE,CAAEhN,aAAa,IAAQsJ,eAAejV,KAAKqW,iBAElIrW,KAAKuQ,gBAAgB2E,aAAa,CAAClV,KAAK6Y,qBACxC7Y,KAAK0S,iBAAiB,cAAe1S,KAAK8Y,gBAC1C9Y,KAAK0S,iBAAiBqG,EAAAA,GAAY/Y,KAAKgZ,aACvChZ,KAAK0S,iBAAiBK,EAAAA,GAAc/S,KAAKgT,eACzChT,KAAK0S,iBAAiBG,EAAAA,GAAe7S,KAAKiZ,gBAC1CjZ,KAAK0X,SAAW,IAAIwB,iBAAiBlZ,KAAKwX,mBAE1CxX,KAAK0X,SAASpK,QAAQtN,KAAM,CAAEmZ,WAAW,IACrCnZ,KAAKiW,WACLjW,KAAKsY,aAAa,WAAY,MAElClN,EAAAA,GAAIC,YAAYrL,KAAKgY,oBACzB,GACA,CAAAzX,IAAA,uBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA6K,EAAAjQ,WAAA,6BAAA0E,KAAA,MACAzK,KAAKiT,oBAAoB,cAAejT,KAAK8Y,gBAC7C9Y,KAAKiT,oBAAoB8F,EAAAA,GAAY/Y,KAAKgZ,aAC1ChZ,KAAKiT,oBAAoBF,EAAAA,GAAc/S,KAAKgT,eAC5ChT,KAAKiT,oBAAoBJ,EAAAA,GAAe7S,KAAKiZ,gBAE7CjZ,KAAK0X,SAAS9J,aACd5N,KAAKqW,gBAAkB,KACvBrW,KAAKsW,gBAAkB,IAC3B,GACA,CAAA/V,IAAA,iBAAApD,MAGA,SAAe7C,GACX0F,KAAKuW,iBAAkB,EACvB,IAAM6C,EAAW9e,EAAEgK,OACnBtE,KAAKoW,cAAgBpW,KAAKgX,YAAYxZ,QAAQ4b,GAC9CpZ,KAAKyU,iBAAmB2E,EAAS3E,iBACjCzU,KAAKsY,aAAa,WAAY,MAC9BtY,KAAKuW,iBAAkB,CAC3B,GACA,CAAAhW,IAAA,cAAApD,MAGA,SAAY7C,GACR0F,KAAK4W,YAAY5W,KAAKoW,cAAepW,KAAKyU,kBAAkB,EAChE,GACA,CAAAlU,IAAA,iBAAApD,MAGA,SAAe7C,GACa,OAApBA,EAAE+e,eAA2BrZ,KAAK2T,SAASrZ,EAAE+e,gBAC7CrZ,KAAKsY,aAAa,WAAYtY,KAAKiW,UAAY,KAAO,IAE9D,GACA,CAAA1V,IAAA,gBAAApD,MAGA,SAAc7C,GACV,IAAIA,EAAEsZ,iBAAN,CAGA,IAAI0F,EACEC,EAAWvZ,KAAKgX,YAAYpW,OAAS,EACrC4Y,EAAoBxZ,KAAKyZ,aAAezZ,KAAKqX,UAC7CqC,EAAU1Z,KAAKgX,YAAYuC,GACjC,OAAQjf,EAAEiG,KACN,KAAKoZ,EAAAA,GACDrf,EAAEiL,iBAEFvF,KAAK4W,YAAY5W,KAAKoW,cAAgB,EAAGpW,KAAKyU,kBAAkB,GAChE,MACJ,KAAKmF,EAAAA,GACDtf,EAAEiL,iBAEFvF,KAAK4W,YAAY5W,KAAKoW,cAAgB,EAAGpW,KAAKyU,kBAAkB,GAChE,MACJ,KAAKoF,EAAAA,GAED,GADAvf,EAAEiL,iBAC8B,IAA5BvF,KAAKgX,YAAYpW,OAAc,CAC/BZ,KAAK4W,YAAY,EAAG,GAAG,GACvB,KACJ,CACA,GAA2B,IAAvB5W,KAAKoW,cAEL,YADApW,KAAK4W,YAAY,EAAG5W,KAAKyU,kBAAkB,GAI/C,IADA6E,EAAmBtZ,KAAKoW,cAAgB,EACjBkD,GAAoB,EAAGA,IAAoB,CAC9D,IAAMjB,EAAUrY,KAAKgX,YAAYsC,GACjC,GAAIjB,EAAQyB,UAAY9Z,KAAKqX,UAAW,CACpCrX,KAAKqX,UACDgB,EAAQyB,UAAYzB,EAAQjB,aAAepX,KAAKoX,aACpD,KACJ,CACJ,CACApX,KAAK4W,YAAY0C,EAAkBtZ,KAAKyU,kBAAkB,GAC1D,MACJ,KAAKsF,EAAAA,GAED,GADAzf,EAAEiL,iBAC8B,IAA5BvF,KAAKgX,YAAYpW,OAAc,CAC/BZ,KAAK4W,YAAY,EAAG,GAAG,GACvB,KACJ,CAEA,GAAI5W,KAAKoW,eAAiBmD,GACtBG,EAAQI,UAAYJ,EAAQD,cAAgBD,EAE5C,YADAxZ,KAAK4W,YAAY2C,EAAUvZ,KAAKyU,kBAAkB,GAItD,IADA6E,EAAmBtZ,KAAKoW,cAAgB,EACjBkD,GAAoBC,EAAUD,IAAoB,CACrE,IAAMjB,EAAUrY,KAAKgX,YAAYsC,GACjC,GAAIjB,EAAQyB,UAAYzB,EAAQoB,aAAeD,EAAmB,CAC9D,IAAIQ,EAAqB,EACrBha,KAAKkW,iBAAmBlF,GACC,OAAzBhR,KAAKsW,kBACL0D,EAAqBha,KAAKsW,gBAAgBc,cAE9CpX,KAAKqX,UAAYgB,EAAQyB,UAAYE,EACrC,KACJ,CACJ,CACAha,KAAK4W,YAAY0C,EAAkBtZ,KAAKyU,kBAAkB,GAC1D,MACJ,KAAKgB,EAAAA,GACGnb,EAAEob,UACFpb,EAAEiL,iBAEFvF,KAAK4W,YAAY,EAAG,GAAG,IAE3B,MACJ,KAAKjB,EAAAA,GACGrb,EAAEob,SAAsC,OAA3B1V,KAAKqU,oBAClB/Z,EAAEiL,iBAEFvF,KAAK4W,YAAY5W,KAAKgX,YAAYpW,OAAS,EAAGZ,KAAKqU,kBAAkBzT,OAAS,GAAG,IA3E7F,CA+EJ,GAAC,CAAAL,IAAA,mBAAApD,MACD,WAAmB,IAAAiG,EAAA,KACXpD,KAAKuW,kBACJvW,KAAK2T,SAASF,SAASC,gBAAkB1T,OAASyT,SAASC,iBAGhC,IAA5B1T,KAAKwW,qBACLxW,KAAKwW,oBAAqB,EAC1BpL,EAAAA,GAAIC,aAAY,kBAAMjI,EAAK6W,aAAa,IAEhD,GAAC,CAAA1Z,IAAA,cAAApD,MACD,WACI6C,KAAKwW,oBAAqB,EAC1BxW,KAAK4W,YAAY5W,KAAKoW,cAAepW,KAAKyU,kBAAkB,EAChE,GAAC,CAAAlU,IAAA,wBAAApD,MACD,WAKI,GAJ6B,OAAzB6C,KAAKsW,kBACLtW,KAAKka,YAAYla,KAAKsW,iBACtBtW,KAAKsW,gBAAkB,MAEvBtW,KAAKkW,iBAAmBlF,GACxBhR,KAAKmW,SAASvV,OAAS,EAAG,CAC1B,IAAMuZ,EAAyB1G,SAAS2G,cAAcpa,KAAKqa,eAW3D,OAVAra,KAAKsW,gBAAkB6D,EACvBna,KAAKsW,gBAAgBjC,kBAAoBrU,KAAKqU,kBAC9CrU,KAAKsW,gBAAgB1B,oBAAsB5U,KAAK4U,oBAChD5U,KAAKsW,gBAAgBlC,QACjBpU,KAAKkW,iBAAmBlF,EAClBE,GACAA,QACc,OAApBlR,KAAK8O,YAAgD,OAAzB9O,KAAKqW,iBACjCrW,KAAK+O,aAAaoL,EAA4C,OAApBna,KAAK8O,WAAsB9O,KAAK8O,WAAa9O,KAAKqW,iBAGpG,CACJ,IAAC,EAAA9V,IAAA,0BAAApD,MA3PD,SAA+BkX,GAC3B,IAAIiG,EAAkB,GAItB,OAHAjG,EAAkBlP,SAAQ,SAACoV,GACvBD,EAAkB,GAAHrY,OAAMqY,GAAerY,OAAuB,KAApBqY,EAAyB,GAAK,IAAM,MAC/E,IACOA,CACX,KAACtE,CAAA,CAnIgB,CAASrQ,EAAAA,GA6X9BqQ,GAASwC,gBAAkB,SAACgC,GACxB,OAAOhZ,OAAOiZ,oBAAoBD,GAAKnY,KAAI,SAACqY,EAAUtV,GAClD,MAAO,CACHsM,cAAegJ,EACftI,WAAY,GAAFnQ,OAAKmD,GAEvB,GACJ,GACAQ,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,aAAcJ,KAAM,aACvCkQ,GAASjQ,UAAW,iBAAa,IACpCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,qBACnB8P,GAASjQ,UAAW,sBAAkB,IACzCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,2BACnB8P,GAASjQ,UAAW,2BAAuB,IAC9CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,gBAAY,IACnCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,yBAAqB,IAC5CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,uBAAmB,IAC1CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,wBAAoB,IAC3CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,8BAA0B,IACjDH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,qBAAiB,IACxCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,wBAAoB,IAC3CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,8BAA0B,IACjDH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,qBAAiB,IACxCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACD8B,GAASjQ,UAAW,mBAAe,GC/a/B,I,YAAM4U,IAAwBvJ,EAAAA,EAAAA,GAAIC,KAAAA,IAAAC,EAAAA,EAAAA,GAAA,mNAInB,SAACC,GAAC,OAAKA,EAAEzO,cAAchB,QAAQ,GAADG,OAAIsP,EAAExQ,MAAK,OAAAkB,OAAMsP,EAAEvQ,MAAQ,CAC3ED,MAAO,OACPC,KAAM,WACR,IAGY,SAACuQ,GAAC,OAAKA,EAAEzO,cAAcf,SAASwP,EAAExQ,MAAM,IAE1B,SAACwQ,GAAC,OAAKA,EAAEzO,cAAc8X,QAAQrJ,EAAEvQ,KAAK,IA2DrD6Z,GAAsB,SAAC7O,EAASrH,GACzC,IAAMmW,EAAS9O,EAAQ+O,OAAO5G,IAC9B,OAAO/C,EAAAA,EAAAA,GAAI4J,KAAAA,IAAA1J,EAAAA,EAAAA,GAAA,gPACJwJ,EAODhK,GAAO,SAAAS,GAAC,OAAIA,CAAC,GAxCa,SAACvF,EAASrH,GAC1C,IAAMsW,EAAUjP,EAAQ+O,OAAOjJ,IAC/B,OAAOV,EAAAA,EAAAA,GAAI8J,KAAAA,IAAA5J,EAAAA,EAAAA,GAAA,ocACJ2J,GACU,SAAC1J,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOgO,iBAAiB7J,EAAG5M,EAAY,IAI3D,SAAC4M,EAAG4J,GAAC,OAAKA,EAAE/V,MAAQ,CAAC,IAC1B,SAACmM,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAO1H,iBAAiByV,EAAE7V,MAAOiM,EAAE,IAC3D,SAACA,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAO4F,cAAcmI,EAAE7V,MAAOiM,EAAE,IACxD,SAACA,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOtK,cAAchB,QAAQ,GAADG,OAAIsP,EAAExQ,MAAK,KAAAkB,OAAIsP,EAAEzQ,IAAG,KAAAmB,OAAIsP,EAAEvQ,MAAQ,CAAED,MAAO,OAAQD,IAAK,WAAY,IAI5H,SAAAyQ,GAAC,OAAI5M,IAAgB,GAAL1C,OAAQsP,EAAExQ,MAAK,KAAAkB,OAAIsP,EAAEzQ,IAAG,KAAAmB,OAAIsP,EAAEvQ,MAAS,QAAU,MAAM,IAE7E,SAACuQ,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOtK,cAAcQ,OAAOiO,EAAEzQ,IAAI,IAEpD,SAAAyQ,GAAC,OAAIA,EAAExQ,KAAK,IAAI,SAAAwQ,GAAC,OAAIA,EAAEzQ,GAAG,IAAI,SAAAyQ,GAAC,OAAIA,EAAEvQ,IAAI,GACvDia,EAEZ,CAkByBI,CAAqBrP,EAASrH,GAAc,CAC7DgH,aAAa,IAETmP,EAEZ,EASaQ,GAAkC,SAACtP,EAASrH,GACrD,IAAM4W,EAAUvP,EAAQ+O,OAAO/E,IACzB8E,EAAS9O,EAAQ+O,OAAO5G,IAC9B,OAAO/C,EAAAA,EAAAA,GAAIoK,KAAAA,IAAAlK,EAAAA,EAAAA,GAAA,qVACRiK,EACIT,EAOGhK,GAAO,SAAAS,GAAC,OAAIA,EAAEkK,gBAAgB,GAvFL,SAAAzP,GACnC,IAAMiP,EAAUjP,EAAQ+O,OAAOjJ,IAC/B,OAAOV,EAAAA,EAAAA,GAAIQ,KAAAA,IAAAN,EAAAA,EAAAA,GAAA,oNACJ2J,GAIgB,SAAC1J,EAAG4J,GAAC,OAAKA,EAAE/V,MAAQ,CAAC,IAC5B,SAAAmM,GAAC,OAAIA,EAAElM,IAAI,IAEjB,SAAAkM,GAAC,OAAIA,EAAEtM,IAAI,GACbgW,EAEZ,CA0E8CS,CAAwB1P,GAAU,CACxEL,aAAa,IAETmP,EACFhK,GAAO,SAAAS,GAAC,OAAIA,EAAEoK,SAAS,GAAEd,GAAoB7O,EAASrH,IACxD4W,EAER,E,iFChHMK,IAAYC,EAAAA,GAAAA,GAAGxK,KAAAA,IAAAC,EAAAA,EAAAA,GAAA,sFASfwK,IAAYD,EAAAA,GAAAA,GAAGjK,KAAAA,IAAAN,EAAAA,EAAAA,GAAA,sFCZR9O,GAAQ,SAAAuZ,IAAArZ,EAAAA,EAAAA,GAAAF,EAAAuZ,GAAA,IAAApZ,GAAAC,EAAAA,EAAAA,GAAAJ,GACjB,SAAAA,IAAc,IAAAN,EAEW,OAFXnC,EAAAA,EAAAA,GAAA,KAAAyC,IACVN,EAAAS,EAAAE,MAAA,KAAS5B,YACJ8B,UAAW,EAAKb,CACzB,CAAC,OAAAzB,EAAAA,EAAAA,GAAA+B,EAAA,CAJgB,CAASwZ,IAM9BpW,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEG,UAAWiW,EAAAA,MACnBzZ,GAASuD,UAAW,gBAAY,GAS5B,IAAMmW,GAAiB1Z,GAAS2Z,QAAQ,CAC3CC,SAAU,WACV7O,SFqJ4B,SAACvB,EAASqQ,GACtC,IAAI5J,EACE6J,EAAQ,IAAIhc,KACZqE,EAAc,GAAH1C,OAAMqa,EAAMva,WAAa,EAAC,KAAAE,OAAIqa,EAAMxa,UAAS,KAAAG,OAAIqa,EAAMta,eACxE,OAAOoP,EAAAA,EAAAA,GAAImL,KAAAA,IAAAjL,EAAAA,EAAAA,GAAA,qJAEDkL,EAAAA,GACAH,EAAWxK,iBAAiB4K,SAChCJ,EAAWxK,MAAM7F,EAASqQ,GACE,QAA3B5J,EAAK4J,EAAWxK,aAA0B,IAAPY,EAAgBA,EAAK,IAErDiK,EAAAA,EAAAA,IAAK,SAAAnL,GAAC,OAAIA,EAAExO,QAAQ,GAxDY,SAAC4B,GAC3C,OAAOyM,EAAAA,EAAAA,GAAIuL,KAAAA,IAAArL,EAAAA,EAAAA,GAAA,qLAGGR,GAAO,SAAAS,GAAC,OAAIA,EAAEkK,gBAAgB,IAAErK,EAAAA,EAAAA,GAAIwL,KAAAA,IAAAtL,EAAAA,EAAAA,GAAA,0KACgB,SAAAC,GAAC,OAAIA,EAAElM,IAAI,IACnD,SAAAkM,GAAC,OAAIA,EAAEtM,IAAI,KAI3B6L,GAAO,SAAAS,GAAC,OAAIA,EAAEoK,SAAS,IAAEvK,EAAAA,EAAAA,GAAIyL,KAAAA,IAAAvL,EAAAA,EAAAA,GAAA,0HAEjBR,GAAO,SAAAS,GAAC,OAAIA,CAAC,IAAEH,EAAAA,EAAAA,GAAI0L,KAAAA,IAAAxL,EAAAA,EAAAA,GAAA,utBAEA,SAACC,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOgO,iBAAiB7J,EAAG5M,EAAY,IAE5D,SAAC4M,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOtK,cAAchB,QAAQ,GAADG,OAAIsP,EAAExQ,MAAK,KAAAkB,OAAIsP,EAAEzQ,IAAG,KAAAmB,OAAIsP,EAAEvQ,MAAQ,CAAED,MAAO,OAAQD,IAAK,WAAY,IAI5H,SAAAyQ,GAAC,OAAI5M,IAAW,GAAA1C,OACrDsP,EAAExQ,MAAK,KAAAkB,OAAIsP,EAAEzQ,IAAG,KAAAmB,OAAIsP,EAAEvQ,MACvB,QACA,MAAM,IAE0B,SAACuQ,EAAG4J,GAAC,OAAKA,EAAE9N,cAAcD,OAAOtK,cAAcQ,OAAOiO,EAAEzQ,IAAI,IAGtD,SAAAyQ,GAAC,OAAIA,EAAExQ,KAAK,IAAI,SAAAwQ,GAAC,OAAIA,EAAEzQ,GAAG,IAAI,SAAAyQ,GAAC,OAAIA,EAAEvQ,IAAI,OAQzF,CAoBoC+b,CAA+BpY,GAAc2W,GAAgCtP,EAASrH,IAC5GqY,EAAAA,GAGd,EEnKIjf,ODC0B,SAACiO,EAASqQ,GAAU,OAAKR,EAAAA,GAAAA,GAAGX,KAAAA,IAAA5J,EAAAA,EAAAA,GAAA,wmDACxD2L,EAAAA,GAAAA,GAAQ,gBACsBC,GAAAA,IAA8BC,GAAAA,IAAcC,GAAAA,IAExEC,GAAAA,GACOC,GAAAA,IAIOF,GAAAA,IAgCDG,GAAAA,IACOC,GAAAA,IAabC,GAAAA,IAOMF,GAAAA,IASNG,GAAAA,IACWA,GAAAA,IACNC,GAAAA,IAOsCJ,GAAAA,IAAiBC,GAAAA,IACxCA,GAAAA,IAIpBI,GAAAA,IAIAA,GAAAA,IACKF,GAAAA,KAIdG,eAAcC,EAAAA,GAAAA,KAA+BjC,EAAAA,GAAAA,GAAGb,KAAAA,IAAA1J,EAAAA,EAAAA,GAAA,sLAE3ByM,GAAAA,EAAaC,UAIRD,GAAAA,EAAaC,UAClBD,GAAAA,EAAaE,gBAE1B,IAAIC,GAAAA,EAA8BtC,GAAWE,IAAW,ECvG9DjK,MAAO8I,I,8JC1BLwD,EAAS,SAAA1b,IAAAC,EAAAA,EAAAA,GAAAyb,EAAA1b,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAub,GAAA,SAAAA,IAAA,OAAApe,EAAAA,EAAAA,GAAA,KAAAoe,GAAAxb,EAAAE,MAAA,KAAA5B,UAAA,QAAAR,EAAAA,EAAAA,GAAA0d,EAAA,E,SAASxY,GAOXyY,EAAsB,SAAAC,IAAA3b,EAAAA,EAAAA,GAAA0b,EAAAC,GAAA,IAAAC,GAAA1b,EAAAA,EAAAA,GAAAwb,GAC/B,SAAAA,IAAc,IAAAlc,EAEmC,OAFnCnC,EAAAA,EAAAA,GAAA,KAAAqe,IACVlc,EAAAoc,EAAAzb,MAAA,KAAS5B,YACJsd,MAAQ9K,SAAS2G,cAAc,SAASlY,CACjD,CAAC,OAAAzB,EAAAA,EAAAA,GAAA2d,EAAA,CAJ8B,EAASI,EAAAA,EAAAA,IAAwBL,ICQvDM,EAAQ,SAAAC,IAAAhc,EAAAA,EAAAA,GAAA+b,EAAAC,GAAA,IAAA/b,GAAAC,EAAAA,EAAAA,GAAA6b,GACjB,SAAAA,IAAc,IAAAvc,EAwCkC,OAxClCnC,EAAAA,EAAAA,GAAA,KAAA0e,IACVvc,EAAAS,EAAA8H,KAAA,OAOKkU,aAAe,KAIpBzc,EAAK0c,eAAgB,EAIrB1c,EAAK2c,gBAAkB,SAACvkB,GACpB,IAAI4H,EAAK4c,UAGDxkB,EAAEiG,MACDwe,EAAAA,GACG7c,EAAK0c,gBACL1c,EAAK0c,eAAgB,GAEzB1c,EAAK9E,SAAW8E,EAAK9E,OAGjC,EAIA8E,EAAK8c,aAAe,SAAC1kB,GACZ4H,EAAKiC,UAAajC,EAAK4c,WACpB5c,EAAK0c,gBACL1c,EAAK0c,eAAgB,GAEzB1c,EAAK9E,SAAW8E,EAAK9E,QAE7B,EACA8E,EAAKqc,MAAMjG,aAAa,OAAQ,YAAYpW,CAChD,CAKC,OALAzB,EAAAA,EAAAA,GAAAge,EAAA,EAAAle,IAAA,kBAAApD,MACD,WACQ6C,KAAKue,iBAAiBU,mBACtBjf,KAAKue,MAAMO,SAAW9e,KAAK8e,SAEnC,KAACL,CAAA,CA/CgB,CAASL,IAiD9BxY,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,WAAYJ,KAAM,aACrC2Y,EAAS1Y,UAAW,gBAAY,IACnCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDuK,EAAS1Y,UAAW,2BAAuB,IAC9CH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDuK,EAAS1Y,UAAW,qBAAiB,G,sJC/D3BmZ,EAAiBT,EAAStC,QAAQ,CAC3CC,SAAU,WACV7O,SCR4B,SAACvB,EAASqQ,GAAU,OAAKjL,EAAAA,EAAAA,GAAIC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kpBAGrC,SAAAC,GAAC,OAAIA,EAAEnU,OAAO,IACb,SAAAmU,GAAC,OAAIA,EAAE4N,QAAQ,IACf,SAAA5N,GAAC,OAAIA,EAAEpN,QAAQ,IACf,SAAAoN,GAAC,OAAIA,EAAEuN,QAAQ,IACpB,SAAAvN,GAAC,OAAKA,EAAEpN,SAAW,KAAO,CAAC,IAC1B,SAACoN,EAAG4J,GAAC,OAAK5J,EAAEsN,gBAAgB1D,EAAE7V,MAAM,IACvC,SAACiM,EAAG4J,GAAC,OAAK5J,EAAEyN,aAAa7D,EAAE7V,MAAM,IAClC,SAAAiM,GAAC,OAAKA,EAAEuN,SAAW,WAAa,EAAE,IAAK,SAAAvN,GAAC,OAAIA,EAAEnU,QAAU,UAAY,EAAE,IAAI,SAAAmU,GAAC,OAAKA,EAAEqN,cAAgB,gBAAkB,EAAE,GAIrHvC,EAAW+C,kBAAoB,GAG/B/C,EAAWgD,wBAA0B,IAKlC,SAAA9N,GAAC,OAAIA,EAAE+N,qBAAuB/N,EAAE+N,oBAAoB1e,OACnE,QACA,qBAAqB,IAEP2e,EAAAA,EAAAA,GAAQ,uBAAsB,EDjB9CxhB,OEP0B,SAACiO,EAASqQ,GAAU,OAAKR,EAAAA,EAAAA,GAAGxK,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2oEACpD2L,EAAAA,EAAAA,GAAQ,eAOV,GAKiBuC,EAAAA,EAAsBpC,EAAAA,IACrBoC,EAAAA,EAAsBpC,EAAAA,IAEhBI,EAAAA,IACPD,EAAAA,IAA4BkC,EAAAA,IAC7BC,EAAAA,IAUZrC,EAAAA,GACOC,EAAAA,IAEsG,GAAiCF,EAAAA,IACtHA,EAAAA,IAWlBE,EAAAA,IAYAM,EAAAA,IAIM+B,EAAAA,IACEC,EAAAA,IAIFC,EAAAA,IACEC,EAAAA,IAGTC,EAAAA,EACOC,EAAAA,IACZC,EAAAA,EAIYvC,EAAAA,IAKAwC,EAAAA,IAKAC,EAAAA,IAQJC,EAAAA,EASCC,EAAAA,KAEbxC,eAAcC,EAAAA,EAAAA,KAA+BjC,EAAAA,EAAAA,GAAGjK,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,mpDAE1ByM,EAAAA,EAAauC,UACfvC,EAAAA,EAAawC,MAIXxC,EAAAA,EAAaC,UACfD,EAAAA,EAAawC,MAInBxC,EAAAA,EAAauC,UAEdP,EAAAA,EAEUhC,EAAAA,EAAauC,UAChBvC,EAAAA,EAAawC,MACXxC,EAAAA,EAAaC,UAGfD,EAAAA,EAAaC,UACXD,EAAAA,EAAaC,UAIfD,EAAAA,EAAaE,cACXF,EAAAA,EAAaC,UAIrBD,EAAAA,EAAaE,cAIbF,EAAAA,EAAaC,UAMLD,EAAAA,EAAayC,SACfzC,EAAAA,EAAawC,MAMnBxC,EAAAA,EAAayC,WAEtB,EFjJLpB,iBAAkB,8NAKlBC,uBAAwB,kK,0MGJfoB,EAAU,SAAAhe,IAAAC,EAAAA,EAAAA,GAAA+d,EAAAhe,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAA6d,GACnB,SAAAA,IAAc,IAAAve,EAkOR,OAlOQnC,EAAAA,EAAAA,GAAA,KAAA0gB,IACVve,EAAAS,EAAAE,MAAA,KAAS5B,YAQJyf,YAAcC,EAAAA,EAAYC,WAC/B1e,EAAK2e,mBAAqB,SAACvmB,GACvB,IAAMwmB,EAAexmB,EAAEgK,OACnBwc,EAAa1jB,UACb8E,EAAK6e,oBAAoB5b,SAAQ,SAAC6b,GAC1BA,IAAUF,IACVE,EAAM5jB,SAAU,EACX8E,EAAK+e,2BACND,EAAM1I,aAAa,WAAY,MAG3C,IACApW,EAAKgf,cAAgBJ,EACrB5e,EAAK/E,MAAQ2jB,EAAa3jB,MAC1B2jB,EAAaxI,aAAa,WAAY,KACtCpW,EAAKif,aAAeL,GAExBxmB,EAAE8mB,iBACN,EACAlf,EAAKmf,mBAAqB,SAACC,EAAOlc,GAC9B,IAAM4b,EAAQM,EAAMlc,GACflD,EAAKqf,kBACNP,EAAM1I,aAAa,WAAY,KAC3B0I,EAAMlC,SACN5c,EAAK6e,oBAAoB5b,SAAQ,SAACqc,GAC1BA,IAAcR,GACdQ,EAAUlJ,aAAa,WAAY,KAE3C,KAGA0I,EAAM5jB,SAAU,EAChB8E,EAAKgf,cAAgBF,IAG7B9e,EAAKif,aAAeH,EACpBA,EAAM1N,OACV,EACApR,EAAKuf,kBAAoB,WACrB,IAAIhP,EAC+B,QAAlCA,EAAKvQ,EAAKwf,0BAAuC,IAAPjP,GAAyBA,EAAGa,OAC3E,EACApR,EAAKyf,iBAAmB,WACpB,IAAIlP,EACmC,QAAtCA,EAAKvQ,EAAK0f,8BAA2C,IAAPnP,GAAyBA,EAAGa,OAC/E,EAIApR,EAAK2f,gBAAkB,SAACvnB,GACpB,IAAMgnB,EAAQpf,EAAK6e,oBACbC,EAAQ1mB,EAAEgK,OACVc,EAAkB,OAAV4b,EAAiBM,EAAM9jB,QAAQwjB,GAAS,EAChDc,EAAe5f,EAAKif,aACpBG,EAAM9jB,QAAQ0E,EAAKif,eAClB,EAwBP,OAvBsB,IAAjBW,GAAsB1c,IAAU0c,GAChCA,IAAiBR,EAAM1gB,OAAS,GAAKkhB,IAAiB1c,KAClDlD,EAAKgf,eAUNhf,EAAKif,aAAejf,EAAKgf,cACpBhf,EAAK+e,4BACN/e,EAAKgf,cAAc5I,aAAa,WAAY,KAC5CgJ,EAAMnc,SAAQ,SAACqc,GACPA,IAActf,EAAKgf,eACnBM,EAAUlJ,aAAa,WAAY,KAE3C,OAhBJpW,EAAKif,aAAeG,EAAM,GAC1Bpf,EAAKif,aAAa7I,aAAa,WAAY,KAC3CgJ,EAAMnc,SAAQ,SAACqc,GACPA,IAActf,EAAKif,cACnBK,EAAUlJ,aAAa,WAAY,KAE3C,OAcD,CACX,EAIApW,EAAK8c,aAAe,SAAC1kB,GACjB,IAAM0mB,EAAQ1mB,EAAEgK,OAChB,GAAI0c,EAAO,CACP,IAAMM,EAAQpf,EAAK6e,oBACfC,EAAM5jB,SAAoC,IAAzBkkB,EAAM9jB,QAAQwjB,IAC/BA,EAAM1I,aAAa,WAAY,KAC/BpW,EAAKgf,cAAgBF,IAGrBA,EAAM1I,aAAa,WAAY,MAC/BpW,EAAKgf,cAAgB,MAEzBhf,EAAKif,aAAeH,CACxB,CACA1mB,EAAEiL,gBACN,EACArD,EAAK6f,6BAA+B,SAAC3c,EAAOkc,EAAO/gB,GAC/C,OAAO6E,IAAUkc,EAAM1gB,QAAUsB,EAAKqf,iBAAmBhhB,IAAQiV,EAAAA,EACrE,EACAtT,EAAK8f,4BAA8B,SAACV,EAAO/gB,GAEvC,OADc2B,EAAKif,aAAeG,EAAM9jB,QAAQ0E,EAAKif,cAAgB,EAAI,GAC1D,GAAKjf,EAAKqf,iBAAmBhhB,IAAQ+U,EAAAA,EACxD,EACApT,EAAK+f,kBAAoB,WACK,OAAtB/f,EAAKif,cACJjf,EAAKif,aAAarC,UAClB5c,EAAKif,aAAa/jB,UACnB8E,EAAKif,aAAa/jB,SAAU,EAC5B8E,EAAKif,aAAa7I,aAAa,WAAY,KAC3CpW,EAAKif,aAAa7N,QAClBpR,EAAKgf,cAAgBhf,EAAKif,aAElC,EACAjf,EAAKggB,UAAY,SAAC5nB,GACd,IAAMgnB,EAAQpf,EAAK6e,oBACf3b,EAAQ,EAEZ,GADAA,EAAQlD,EAAKif,aAAeG,EAAM9jB,QAAQ0E,EAAKif,cAAgB,EAAI,EAC/Djf,EAAK6f,6BAA6B3c,EAAOkc,EAAOhnB,EAAEiG,KAClD2B,EAAKuf,yBAQT,IALSrc,IAAUkc,EAAM1gB,SACrBwE,EAAQ,GAILA,EAAQkc,EAAM1gB,QAAU0gB,EAAM1gB,OAAS,GAAG,CAC7C,IAAK0gB,EAAMlc,GAAOjB,SAAU,CACxBjC,EAAKmf,mBAAmBC,EAAOlc,GAC/B,KACJ,CACK,GAAIlD,EAAKif,cAAgB/b,IAAUkc,EAAM9jB,QAAQ0E,EAAKif,cACvD,MAEC,GAAI/b,EAAQ,GAAKkc,EAAM1gB,OAAQ,CAChC,GAAIsB,EAAKqf,gBACL,MAGAnc,EAAQ,CAEhB,MAEIA,GAAS,CAEjB,CACJ,EACAlD,EAAKigB,SAAW,SAAC7nB,GACb,IAAMgnB,EAAQpf,EAAK6e,oBACf3b,EAAQ,EAGZ,GADAA,GADAA,EAAQlD,EAAKif,aAAeG,EAAM9jB,QAAQ0E,EAAKif,cAAgB,EAAI,GACnD,EAAIG,EAAM1gB,OAAS,EAAIwE,EACnClD,EAAK8f,4BAA4BV,EAAOhnB,EAAEiG,KAC1C2B,EAAKyf,wBAIT,KAAOvc,GAAS,GAAKkc,EAAM1gB,OAAS,GAAG,CACnC,IAAK0gB,EAAMlc,GAAOjB,SAAU,CACxBjC,EAAKmf,mBAAmBC,EAAOlc,GAC/B,KACJ,CACK,GAAIlD,EAAKif,cAAgB/b,IAAUkc,EAAM9jB,QAAQ0E,EAAKif,cACvD,MAEK/b,EAAQ,EAAI,EACjBA,EAAQkc,EAAM1gB,OAAS,EAGvBwE,GAAS,CAEjB,CACJ,EAOAlD,EAAKkgB,eAAiB,SAAC9nB,GACnB,IAAMiG,EAAMjG,EAAEiG,IACd,GAAIA,KAAO8hB,EAAAA,IAAangB,EAAK+e,0BACzB,OAAO,EAEX,OAAQ1gB,GACJ,KAAKkF,EAAAA,GACDvD,EAAK+f,oBACL,MAEJ,KAAKzM,EAAAA,GACL,KAAKoE,EAAAA,GACG1X,EAAKogB,YAAcC,EAAAA,EAAUC,IAC7BtgB,EAAKggB,UAAU5nB,GAGf4H,EAAKigB,SAAS7nB,GAElB,MAEJ,KAAKgb,EAAAA,GACL,KAAKqE,EAAAA,GACGzX,EAAKogB,YAAcC,EAAAA,EAAUC,IAC7BtgB,EAAKigB,SAAS7nB,GAGd4H,EAAKggB,UAAU5nB,GAEnB,MAEJ,QACI,OAAO,EAGnB,EAAE4H,CACN,CA2HC,OA3HAzB,EAAAA,EAAAA,GAAAggB,EAAA,EAAAlgB,IAAA,kBAAApD,MACD,WAAkB,IAAAiG,EAAA,UACmBrI,IAA7BiF,KAAK+gB,qBACL/gB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,GAC1B5d,EAAK0b,SACLkC,EAAMlC,UAAW,EAGjBkC,EAAMlC,UAAW,CAEzB,GAER,GAAC,CAAAve,IAAA,kBAAApD,MACD,WAAkB,IAAAslB,EAAA,UACmB1nB,IAA7BiF,KAAK+gB,qBACL/gB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,GAC1ByB,EAAKte,SACL6c,EAAM7c,UAAW,EAGjB6c,EAAM7c,UAAW,CAEzB,GAER,GAAC,CAAA5D,IAAA,cAAApD,MACD,WAAc,IAAAulB,EAAA,KACN1iB,KAAK+gB,qBACL/gB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,GAC9BA,EAAM1I,aAAa,OAAQoK,EAAKloB,KACpC,GAER,GAAC,CAAA+F,IAAA,eAAApD,MACD,WAAe,IAAAwlB,EAAA,KACP3iB,KAAK+gB,qBACL/gB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,GAC1BA,EAAM7jB,QAAUwlB,EAAKxlB,QACrB6jB,EAAM5jB,SAAU,EAChBulB,EAAKzB,cAAgBF,EAE7B,IAEJhhB,KAAKwF,MAAM,SACf,GAAC,CAAAjF,IAAA,6BAAApD,MACD,SAA2BoV,EAAUC,GAC7BxS,KAAK+gB,qBAAuB/gB,KAAK+gB,oBAAoBngB,OAAS,GAC9DZ,KAAK4iB,mBAEb,GAAC,CAAAriB,IAAA,gBAAAsiB,IACD,WACI,OAAO7iB,KAAK8iB,QAAQ,mBACxB,GAAC,CAAAviB,IAAA,kBAAAsiB,IACD,WACI,IAAIpQ,EACJ,OAAsC,QAA7BA,EAAKzS,KAAK+iB,qBAAkC,IAAPtQ,GAAgBA,CAClE,GAAC,CAAAlS,IAAA,4BAAAsiB,IACD,WACI,IAAIpQ,EACJ,SAAwC,QAA7BA,EAAKzS,KAAK+iB,qBAAkC,IAAPtQ,OAAgB,EAASA,EAAoB,gBACjG,GACA,CAAAlS,IAAA,oBAAApD,MAGA,YACI+N,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAsV,EAAA1a,WAAA,0BAAA0E,KAAA,MACAzK,KAAKsiB,WAAYU,EAAAA,EAAAA,GAAahjB,MAC9BA,KAAK4iB,mBACT,GAAC,CAAAriB,IAAA,uBAAApD,MACD,WAAuB,IAAA8lB,EAAA,KACnBjjB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,GAC9BA,EAAM/N,oBAAoB,SAAUgQ,EAAKpC,mBAC7C,GACJ,GAAC,CAAAtgB,IAAA,oBAAApD,MACD,WAAoB,IAAA+lB,EAAA,KACVC,EAAgBnjB,KAAK+gB,oBAAoBnc,QAAO,SAACoc,GACnD,OAAOA,EAAMoC,aAAa,UAC9B,IACMC,EAAwBF,EAAgBA,EAAcviB,OAAS,EACjEyiB,EAAwB,IACCF,EAAcE,EAAwB,GAC9CjmB,SAAU,GAE/B,IAAIkmB,GAAmB,EA0BvB,GAzBAtjB,KAAK+gB,oBAAoB5b,SAAQ,SAAC6b,QACZjmB,IAAdmoB,EAAK1oB,MACLwmB,EAAM1I,aAAa,OAAQ4K,EAAK1oB,MAEhC0oB,EAAK/e,WACL6c,EAAM7c,UAAW,GAEjB+e,EAAKpE,WACLkC,EAAMlC,UAAW,GAEjBoE,EAAK/lB,OAAS+lB,EAAK/lB,QAAU6jB,EAAM7jB,OACnC+lB,EAAKhC,cAAgBF,EACrBkC,EAAK/B,aAAeH,EACpBA,EAAM5jB,SAAU,EAChB4jB,EAAM1I,aAAa,WAAY,KAC/BgL,GAAmB,IAGdJ,EAAKjC,2BACND,EAAM1I,aAAa,WAAY,MAEnC0I,EAAM5jB,SAAU,GAEpB4jB,EAAMtO,iBAAiB,SAAUwQ,EAAKrC,mBAC1C,SACmB9lB,IAAfiF,KAAK7C,OAAuB6C,KAAK+gB,oBAAoBngB,OAAS,EAAG,CACjE,IAAMuiB,EAAgBnjB,KAAK+gB,oBAAoBnc,QAAO,SAACoc,GACnD,OAAOA,EAAMoC,aAAa,UAC9B,IACMC,EAA0C,OAAlBF,EAAyBA,EAAcviB,OAAS,EAC9E,GAAIyiB,EAAwB,IAAMC,EAAkB,CAChD,IAAMC,EAAmBJ,EAAcE,EAAwB,GAC/DE,EAAiBnmB,SAAU,EAC3B4C,KAAKmhB,aAAeoC,EACpBA,EAAiBjL,aAAa,WAAY,IAC9C,MAEItY,KAAK+gB,oBAAoB,GAAGzI,aAAa,WAAY,KACrDtY,KAAKmhB,aAAenhB,KAAK+gB,oBAAoB,EAErD,CACJ,KAACN,CAAA,CA/VkB,C,SAAS9a,IAiWhCC,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,WAAYJ,KAAM,aACrC2a,EAAW1a,UAAW,gBAAY,IACrCH,EAAAA,EAAAA,IAAW,EACPC,EAAAA,EAAAA,IAAK,CAAEK,UAAW,WAAYJ,KAAM,aACrC2a,EAAW1a,UAAW,gBAAY,IACrCH,EAAAA,EAAAA,IAAW,CACPC,EAAAA,IACD4a,EAAW1a,UAAW,YAAQ,IACjCH,EAAAA,EAAAA,IAAW,CACPC,EAAAA,IACD4a,EAAW1a,UAAW,aAAS,IAClCH,EAAAA,EAAAA,IAAW,CACPC,EAAAA,IACD4a,EAAW1a,UAAW,mBAAe,IACxCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDuM,EAAW1a,UAAW,kBAAc,IACvCH,EAAAA,EAAAA,IAAW,CACPsO,EAAAA,IACDuM,EAAW1a,UAAW,2BAAuB,G,0EC1XnCyd,EAAmB/C,EAAWtE,QAAQ,CAC/CC,SAAU,cACV7O,SCP8B,SAACvB,EAASqQ,GAAU,OAAKjL,EAAAA,EAAAA,GAAIC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2aAGtC,SAAAC,GAAC,OAAIA,EAAEpN,QAAQ,IACf,SAAAoN,GAAC,OAAIA,EAAEuN,QAAQ,IACtB,SAACvN,EAAG4J,GAAC,OAAK5J,EAAEyN,aAAa7D,EAAE7V,MAAM,IAC/B,SAACiM,EAAG4J,GAAC,OAAK5J,EAAE6Q,eAAejH,EAAE7V,MAAM,IAClC,SAACiM,EAAG4J,GAAC,OAAK5J,EAAEsQ,gBAAgB1G,EAAE7V,MAAM,IAIjB,SAAAiM,GAAC,OAAIA,EAAEmP,cAAgBC,EAAAA,EAAYC,WAAa,aAAe,UAAU,IAI/FrB,EAAAA,EAAAA,GAAQ,CACtB7E,SAAU,sBACV9V,QAAQ6e,EAAAA,EAAAA,GAAS,kBACnB,EDVE1lB,OEZ4B,SAACiO,EAASqQ,GAAU,OAAKR,EAAAA,EAAAA,GAAGxK,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,4VACxD2L,EAAAA,EAAAA,GAAQ,QAAO,G","sources":["../../../node_modules/@fluentui/react-button/lib/components/Button/renderButton.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/useToolbar.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/ToolbarContext.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/useToolbarStyles.styles.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/Toolbar.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/useToolbarContextValues.js","../../../node_modules/@fluentui/react-toolbar/lib/components/Toolbar/renderToolbar.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarButton/useToolbarButtonStyles.styles.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarButton/ToolbarButton.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarButton/useToolbarButton.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarGroup/useToolbarGroupStyles.styles.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarGroup/ToolbarGroup.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarGroup/useToolbarGroup.js","../../../node_modules/@fluentui/react-toolbar/lib/components/ToolbarGroup/renderToolbarGroup.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/calendar/date-formatter.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/calendar/calendar.js","../../../node_modules/@microsoft/fast-element/dist/esm/observation/array-change-records.js","../../../node_modules/@microsoft/fast-element/dist/esm/observation/array-observer.js","../../../node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.options.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-cell.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-row.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/calendar/calendar.template.js","../../../node_modules/@fluentui/web-components/dist/esm/calendar/calendar.styles.js","../../../node_modules/@fluentui/web-components/dist/esm/calendar/index.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.form-associated.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.js","../../../node_modules/@fluentui/web-components/dist/esm/checkbox/index.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.template.js","../../../node_modules/@fluentui/web-components/dist/esm/checkbox/checkbox.styles.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.js","../../../node_modules/@fluentui/web-components/dist/esm/radio-group/index.js","../../../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.template.js","../../../node_modules/@fluentui/web-components/dist/esm/radio-group/radio-group.styles.js"],"sourcesContent":["  import { jsx as _jsx, jsxs as _jsxs } from \"@fluentui/react-jsx-runtime/jsx-runtime\";\nimport { assertSlots } from '@fluentui/react-utilities';\n/**\n * Renders a Button component by passing the state defined props to the appropriate slots.\n */ export const renderButton_unstable = (state)=>{\n    assertSlots(state);\n    const { iconOnly, iconPosition } = state;\n    return /*#__PURE__*/ _jsxs(state.root, {\n        children: [\n            iconPosition !== 'after' && state.icon && /*#__PURE__*/ _jsx(state.icon, {}),\n            !iconOnly && state.root.children,\n            iconPosition === 'after' && state.icon && /*#__PURE__*/ _jsx(state.icon, {})\n        ]\n    });\n};\n","import * as React from 'react';\nimport { useEventCallback, useControllableState, getIntrinsicElementProps, slot } from '@fluentui/react-utilities';\nimport { useArrowNavigationGroup } from '@fluentui/react-tabster';\n/**\n * Create the state required to render Toolbar.\n *\n * The returned state can be modified with hooks such as useToolbarStyles_unstable,\n * before being passed to renderToolbar_unstable.\n *\n * @param props - props from this instance of Toolbar\n * @param ref - reference to root HTMLElement of Toolbar\n */ export const useToolbar_unstable = (props, ref)=>{\n    const { size = 'medium', vertical = false } = props;\n    const arrowNavigationProps = useArrowNavigationGroup({\n        circular: true,\n        axis: 'both'\n    });\n    const initialState = {\n        size,\n        vertical,\n        // TODO add appropriate props/defaults\n        components: {\n            // TODO add each slot's element type or component\n            root: 'div'\n        },\n        // TODO add appropriate slots, for example:\n        // mySlot: resolveShorthand(props.mySlot),\n        root: slot.always(getIntrinsicElementProps('div', {\n            role: 'toolbar',\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: ref,\n            ...vertical && {\n                'aria-orientation': 'vertical'\n            },\n            ...arrowNavigationProps,\n            ...props\n        }), {\n            elementType: 'div'\n        })\n    };\n    const [checkedValues, onCheckedValueChange] = useToolbarSelectableState({\n        checkedValues: props.checkedValues,\n        defaultCheckedValues: props.defaultCheckedValues,\n        onCheckedValueChange: props.onCheckedValueChange\n    });\n    const handleToggleButton = useEventCallback((e, name, value, checked)=>{\n        if (name && value) {\n            const checkedItems = (checkedValues === null || checkedValues === void 0 ? void 0 : checkedValues[name]) || [];\n            const newCheckedItems = [\n                ...checkedItems\n            ];\n            if (checked) {\n                newCheckedItems.splice(newCheckedItems.indexOf(value), 1);\n            } else {\n                newCheckedItems.push(value);\n            }\n            onCheckedValueChange === null || onCheckedValueChange === void 0 ? void 0 : onCheckedValueChange(e, {\n                name,\n                checkedItems: newCheckedItems\n            });\n        }\n    });\n    const handleRadio = useEventCallback((e, name, value, checked)=>{\n        if (name && value) {\n            onCheckedValueChange === null || onCheckedValueChange === void 0 ? void 0 : onCheckedValueChange(e, {\n                name,\n                checkedItems: [\n                    value\n                ]\n            });\n        }\n    });\n    return {\n        ...initialState,\n        handleToggleButton,\n        handleRadio,\n        checkedValues: checkedValues !== null && checkedValues !== void 0 ? checkedValues : {}\n    };\n};\n/**\n * Adds appropriate state values and handlers for selectable items\n * i.e checkboxes and radios\n */ const useToolbarSelectableState = (state)=>{\n    const [checkedValues, setCheckedValues] = useControllableState({\n        state: state.checkedValues,\n        defaultState: state.defaultCheckedValues,\n        initialState: {}\n    });\n    const { onCheckedValueChange: onCheckedValueChangeOriginal } = state;\n    const onCheckedValueChange = useEventCallback((e, { name, checkedItems })=>{\n        if (onCheckedValueChangeOriginal) {\n            onCheckedValueChangeOriginal(e, {\n                name,\n                checkedItems\n            });\n        }\n        setCheckedValues((s)=>{\n            return s ? {\n                ...s,\n                [name]: checkedItems\n            } : {\n                [name]: checkedItems\n            };\n        });\n    });\n    return [\n        checkedValues,\n        onCheckedValueChange\n    ];\n};\n","import { createContext, useContextSelector } from '@fluentui/react-context-selector';\nexport const ToolbarContext = createContext(undefined);\nconst toolbarContextDefaultValue = {\n    size: 'medium',\n    handleToggleButton: ()=>null,\n    handleRadio: ()=>null,\n    vertical: false,\n    checkedValues: {}\n};\nexport const useToolbarContext_unstable = (selector)=>useContextSelector(ToolbarContext, (ctx = toolbarContextDefaultValue)=>selector(ctx));\n","import { makeStyles, mergeClasses, shorthands } from '@griffel/react';\nexport const toolbarClassNames = {\n    root: 'fui-Toolbar'\n};\n/**\n * Styles for the root slot\n */ const useStyles = makeStyles({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        ...shorthands.padding('4px', '8px')\n    },\n    vertical: {\n        flexDirection: 'column',\n        width: 'fit-content'\n    },\n    small: {\n        ...shorthands.padding('0px', '4px')\n    },\n    medium: {\n        ...shorthands.padding('4px', '8px')\n    },\n    large: {\n        ...shorthands.padding('4px', '20px')\n    }\n});\n/**\n * Apply styling to the Toolbar slots based on the state\n */ export const useToolbarStyles_unstable = (state)=>{\n    const styles = useStyles();\n    const { vertical, size } = state;\n    state.root.className = mergeClasses(toolbarClassNames.root, styles.root, vertical && styles.vertical, size === 'small' && !vertical && styles.small, size === 'medium' && !vertical && styles.medium, size === 'large' && !vertical && styles.large, state.root.className);\n    return state;\n};\n","import * as React from 'react';\nimport { useToolbar_unstable } from './useToolbar';\nimport { renderToolbar_unstable } from './renderToolbar';\nimport { useToolbarStyles_unstable } from './useToolbarStyles.styles';\nimport { useToolbarContextValues_unstable } from './useToolbarContextValues';\nimport { useCustomStyleHook_unstable } from '@fluentui/react-shared-contexts';\n/**\n * Toolbar component\n */ export const Toolbar = /*#__PURE__*/ React.forwardRef((props, ref)=>{\n    const state = useToolbar_unstable(props, ref);\n    const contextValues = useToolbarContextValues_unstable(state);\n    useToolbarStyles_unstable(state);\n    useCustomStyleHook_unstable('useToolbarStyles_unstable')(state);\n    return renderToolbar_unstable(state, contextValues);\n});\nToolbar.displayName = 'Toolbar';\n","export function useToolbarContextValues_unstable(state) {\n    const { size, handleToggleButton, vertical, checkedValues, handleRadio } = state;\n    // This context is created with \"@fluentui/react-context-selector\", these is no sense to memoize it\n    const toolbar = {\n        size,\n        vertical,\n        handleToggleButton,\n        handleRadio,\n        checkedValues\n    };\n    return {\n        toolbar\n    };\n}\n","  import { jsx as _jsx } from \"@fluentui/react-jsx-runtime/jsx-runtime\";\nimport { assertSlots } from '@fluentui/react-utilities';\nimport { ToolbarContext } from './ToolbarContext';\n/**\n * Render the final JSX of Toolbar\n */ export const renderToolbar_unstable = (state, contextValues)=>{\n    assertSlots(state);\n    return /*#__PURE__*/ _jsx(ToolbarContext.Provider, {\n        value: contextValues.toolbar,\n        children: /*#__PURE__*/ _jsx(state.root, {\n            children: state.root.children\n        })\n    });\n};\n","import { makeStyles, mergeClasses, shorthands } from '@griffel/react';\nimport { useButtonStyles_unstable } from '@fluentui/react-button';\nconst useBaseStyles = makeStyles({\n    vertical: {\n        flexDirection: 'column'\n    },\n    verticalIcon: {\n        fontSize: '24px',\n        ...shorthands.margin('0')\n    }\n});\n/**\n * Apply styling to the ToolbarButton slots based on the state\n */ export const useToolbarButtonStyles_unstable = (state)=>{\n    useButtonStyles_unstable(state);\n    const buttonStyles = useBaseStyles();\n    state.root.className = mergeClasses(state.root.className, state.vertical && buttonStyles.vertical);\n    if (state.icon) {\n        state.icon.className = mergeClasses(state.icon.className, state.vertical && buttonStyles.verticalIcon);\n    }\n};\n","import * as React from 'react';\nimport { renderButton_unstable } from '@fluentui/react-button';\nimport { useToolbarButtonStyles_unstable } from './useToolbarButtonStyles.styles';\nimport { useToolbarButton_unstable } from './useToolbarButton';\nimport { useCustomStyleHook_unstable } from '@fluentui/react-shared-contexts';\n/**\n * ToolbarButton component is a Button to be used inside Toolbar\n * which will respect toolbar props such as `size`\n */ export const ToolbarButton = /*#__PURE__*/ React.forwardRef((props, ref)=>{\n    const state = useToolbarButton_unstable(props, ref);\n    useToolbarButtonStyles_unstable(state);\n    useCustomStyleHook_unstable('useToolbarButtonStyles_unstable')(state);\n    return renderButton_unstable(state);\n// Casting is required due to lack of distributive union to support unions on @types/react\n});\nToolbarButton.displayName = 'ToolbarButton';\n","import * as React from 'react';\nimport { useButton_unstable } from '@fluentui/react-button';\n/**\n * Given user props, defines default props for the Button, calls useButtonState and useChecked, and returns\n * processed state.\n * @param props - User provided props to the Button component.\n * @param ref - User provided ref to be passed to the Button component.\n */ export const useToolbarButton_unstable = (props, ref)=>{\n    const { vertical = false, ...buttonProps } = props;\n    const state = useButton_unstable({\n        appearance: 'subtle',\n        ...buttonProps\n    }, ref);\n    return {\n        vertical,\n        ...state\n    };\n};\n","import { mergeClasses } from '@griffel/react';\nexport const toolbarGroupClassNames = {\n    root: 'fui-ToolbarGroup'\n};\n/**\n * Apply styling to the Toolbar slots based on the state\n */ export const useToolbarGroupStyles_unstable = (state)=>{\n    state.root.className = mergeClasses(toolbarGroupClassNames.root, state.root.className);\n    return state;\n};\n","import * as React from 'react';\nimport { useToolbarGroup_unstable } from './useToolbarGroup';\nimport { useToolbarGroupStyles_unstable } from './useToolbarGroupStyles.styles';\nimport { renderToolbarGroup_unstable } from './renderToolbarGroup';\nimport { useCustomStyleHook_unstable } from '@fluentui/react-shared-contexts';\n/**\n * ToolbarGroup component is a Button to be used inside Toolbar\n * which will respect toolbar props such as `size`\n */ export const ToolbarGroup = /*#__PURE__*/ React.forwardRef((props, ref)=>{\n    const state = useToolbarGroup_unstable(props, ref);\n    useToolbarGroupStyles_unstable(state);\n    useCustomStyleHook_unstable('useToolbarGroupStyles_unstable')(state);\n    return renderToolbarGroup_unstable(state);\n// Casting is required due to lack of distributive union to support unions on @types/react\n});\nToolbarGroup.displayName = 'ToolbarGroup';\n","import { getIntrinsicElementProps, slot } from '@fluentui/react-utilities';\nimport * as React from 'react';\n/**\n * Given user props, defines default props for the Group\n * @param props - User provided props to the Group component.\n * @param ref - User provided ref to be passed to the Group component.\n */ export const useToolbarGroup_unstable = (props, ref)=>{\n    return {\n        components: {\n            root: 'div'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            ref,\n            role: 'presentation',\n            ...props\n        }), {\n            elementType: 'div'\n        })\n    };\n};\n","  import { jsx as _jsx } from \"@fluentui/react-jsx-runtime/jsx-runtime\";\nimport { assertSlots } from '@fluentui/react-utilities';\n/**\n * Render the final JSX of ToolbarGroup\n */ export const renderToolbarGroup_unstable = (state)=>{\n    assertSlots(state);\n    return /*#__PURE__*/ _jsx(state.root, {\n        children: state.root.children\n    });\n};\n","/**\n * Date formatting utility\n * @public\n */\nexport class DateFormatter {\n    constructor(config) {\n        /**\n         * Formatting for the day\n         * @public\n         */\n        this.dayFormat = \"numeric\";\n        /**\n         * Formatting for the weekday labels\n         * @public\n         */\n        this.weekdayFormat = \"long\";\n        /**\n         * Formatting for the month\n         * @public\n         */\n        this.monthFormat = \"long\";\n        /**\n         * Formatting for the year\n         * @public\n         */\n        this.yearFormat = \"numeric\";\n        /**\n         * Date used for formatting\n         */\n        this.date = new Date();\n        /**\n         * Add properties on construction\n         */\n        if (config) {\n            for (const key in config) {\n                const value = config[key];\n                if (key === \"date\") {\n                    this.date = this.getDateObject(value);\n                }\n                else {\n                    this[key] = value;\n                }\n            }\n        }\n    }\n    /**\n     * Helper function to make sure that the DateFormatter is working with an instance of Date\n     * @param date - The date as an object, string or Date insance\n     * @returns - A Date instance\n     * @public\n     */\n    getDateObject(date) {\n        if (typeof date === \"string\") {\n            const dates = date.split(/[/-]/);\n            if (dates.length < 3) {\n                return new Date();\n            }\n            return new Date(parseInt(dates[2], 10), parseInt(dates[0], 10) - 1, parseInt(dates[1], 10));\n        }\n        else if (\"day\" in date && \"month\" in date && \"year\" in date) {\n            const { day, month, year } = date;\n            return new Date(year, month - 1, day);\n        }\n        return date;\n    }\n    /**\n     *\n     * @param date - a valide date as either a Date, string, objec or a DateFormatter\n     * @param format - The formatting for the string\n     * @param locale - locale data used for formatting\n     * @returns A localized string of the date provided\n     * @public\n     */\n    getDate(date = this.date, format = {\n        weekday: this.weekdayFormat,\n        month: this.monthFormat,\n        day: this.dayFormat,\n        year: this.yearFormat,\n    }, locale = this.locale) {\n        const dateObj = this.getDateObject(date);\n        if (!dateObj.getTime()) {\n            return \"\";\n        }\n        const optionsWithTimeZone = Object.assign({ timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone }, format);\n        return new Intl.DateTimeFormat(locale, optionsWithTimeZone).format(dateObj);\n    }\n    /**\n     *\n     * @param day - Day to localize\n     * @param format - The formatting for the day\n     * @param locale - The locale data used for formatting\n     * @returns - A localized number for the day\n     * @public\n     */\n    getDay(day = this.date.getDate(), format = this.dayFormat, locale = this.locale) {\n        return this.getDate({ month: 1, day, year: 2020 }, { day: format }, locale);\n    }\n    /**\n     *\n     * @param month - The month to localize\n     * @param format - The formatting for the month\n     * @param locale - The locale data used for formatting\n     * @returns - A localized name of the month\n     * @public\n     */\n    getMonth(month = this.date.getMonth() + 1, format = this.monthFormat, locale = this.locale) {\n        return this.getDate({ month, day: 2, year: 2020 }, { month: format }, locale);\n    }\n    /**\n     *\n     * @param year - The year to localize\n     * @param format - The formatting for the year\n     * @param locale - The locale data used for formatting\n     * @returns - A localized string for the year\n     * @public\n     */\n    getYear(year = this.date.getFullYear(), format = this.yearFormat, locale = this.locale) {\n        return this.getDate({ month: 2, day: 2, year }, { year: format }, locale);\n    }\n    /**\n     *\n     * @param weekday - The number of the weekday, defaults to Sunday\n     * @param format - The formatting for the weekday label\n     * @param locale - The locale data used for formatting\n     * @returns - A formatted weekday label\n     * @public\n     */\n    getWeekday(weekday = 0, format = this.weekdayFormat, locale = this.locale) {\n        const date = `1-${weekday + 1}-2017`;\n        return this.getDate(date, { weekday: format }, locale);\n    }\n    /**\n     *\n     * @param format - The formatting for the weekdays\n     * @param locale - The locale data used for formatting\n     * @returns - An array of the weekday labels\n     * @public\n     */\n    getWeekdays(format = this.weekdayFormat, locale = this.locale) {\n        return Array(7)\n            .fill(null)\n            .map((_, day) => this.getWeekday(day, format, locale));\n    }\n}\n","import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, } from \"@microsoft/fast-element\";\nimport { keyEnter } from \"@microsoft/fast-web-utilities\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DateFormatter } from \"./date-formatter.js\";\n/**\n * Calendar component\n *\n * @slot - The default slot for calendar content\n * @fires dateselected - Fires a custom 'dateselected' event when Enter is invoked via keyboard on a date\n *\n * @public\n */\nexport class Calendar extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * date formatter utitlity for getting localized strings\n         * @public\n         */\n        this.dateFormatter = new DateFormatter();\n        /**\n         * Readonly attribute for turning off data-grid\n         * @public\n         */\n        this.readonly = false;\n        /**\n         * String repesentation of the full locale including market, calendar type and numbering system\n         * @public\n         */\n        this.locale = \"en-US\";\n        /**\n         * Month to display\n         * @public\n         */\n        this.month = new Date().getMonth() + 1;\n        /**\n         * Year of the month to display\n         * @public\n         */\n        this.year = new Date().getFullYear();\n        /**\n         * Format style for the day\n         * @public\n         */\n        this.dayFormat = \"numeric\";\n        /**\n         * Format style for the week day labels\n         * @public\n         */\n        this.weekdayFormat = \"short\";\n        /**\n         * Format style for the month label\n         * @public\n         */\n        this.monthFormat = \"long\";\n        /**\n         * Format style for the year used in the title\n         * @public\n         */\n        this.yearFormat = \"numeric\";\n        /**\n         * Minimum number of weeks to show for the month\n         * This can be used to normalize the calendar view\n         *  when changing or across multiple calendars\n         * @public\n         */\n        this.minWeeks = 0;\n        /**\n         * A list of dates that should be shown as disabled\n         * @public\n         */\n        this.disabledDates = \"\";\n        /**\n         * A list of dates that should be shown as highlighted\n         * @public\n         */\n        this.selectedDates = \"\";\n        /**\n         * The number of miliseconds in a day\n         * @internal\n         */\n        this.oneDayInMs = 86400000;\n    }\n    localeChanged() {\n        this.dateFormatter.locale = this.locale;\n    }\n    dayFormatChanged() {\n        this.dateFormatter.dayFormat = this.dayFormat;\n    }\n    weekdayFormatChanged() {\n        this.dateFormatter.weekdayFormat = this.weekdayFormat;\n    }\n    monthFormatChanged() {\n        this.dateFormatter.monthFormat = this.monthFormat;\n    }\n    yearFormatChanged() {\n        this.dateFormatter.yearFormat = this.yearFormat;\n    }\n    /**\n     * Gets data needed to render about a calendar month as well as the previous and next months\n     * @param year - year of the calendar\n     * @param month - month of the calendar\n     * @returns - an object with data about the current and 2 surrounding months\n     * @public\n     */\n    getMonthInfo(month = this.month, year = this.year) {\n        const getFirstDay = (date) => new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n        const getLength = (date) => {\n            const nextMonth = new Date(date.getFullYear(), date.getMonth() + 1, 1);\n            return new Date(nextMonth.getTime() - this.oneDayInMs).getDate();\n        };\n        const thisMonth = new Date(year, month - 1);\n        const nextMonth = new Date(year, month);\n        const previousMonth = new Date(year, month - 2);\n        return {\n            length: getLength(thisMonth),\n            month,\n            start: getFirstDay(thisMonth),\n            year,\n            previous: {\n                length: getLength(previousMonth),\n                month: previousMonth.getMonth() + 1,\n                start: getFirstDay(previousMonth),\n                year: previousMonth.getFullYear(),\n            },\n            next: {\n                length: getLength(nextMonth),\n                month: nextMonth.getMonth() + 1,\n                start: getFirstDay(nextMonth),\n                year: nextMonth.getFullYear(),\n            },\n        };\n    }\n    /**\n     * A list of calendar days\n     * @param info - an object containing the information needed to render a calendar month\n     * @param minWeeks - minimum number of weeks to show\n     * @returns a list of days in a calendar month\n     * @public\n     */\n    getDays(info = this.getMonthInfo(), minWeeks = this.minWeeks) {\n        minWeeks = minWeeks > 10 ? 10 : minWeeks;\n        const { start, length, previous, next } = info;\n        const days = [];\n        let dayCount = 1 - start;\n        while (dayCount < length + 1 ||\n            days.length < minWeeks ||\n            days[days.length - 1].length % 7 !== 0) {\n            const { month, year } = dayCount < 1 ? previous : dayCount > length ? next : info;\n            const day = dayCount < 1\n                ? previous.length + dayCount\n                : dayCount > length\n                    ? dayCount - length\n                    : dayCount;\n            const dateString = `${month}-${day}-${year}`;\n            const disabled = this.dateInString(dateString, this.disabledDates);\n            const selected = this.dateInString(dateString, this.selectedDates);\n            const date = {\n                day,\n                month,\n                year,\n                disabled,\n                selected,\n            };\n            const target = days[days.length - 1];\n            if (days.length === 0 || target.length % 7 === 0) {\n                days.push([date]);\n            }\n            else {\n                target.push(date);\n            }\n            dayCount++;\n        }\n        return days;\n    }\n    /**\n     * A helper function that checks if a date exists in a list of dates\n     * @param date - A date objec that includes the day, month and year\n     * @param datesString - a comma separated list of dates\n     * @returns - Returns true if it found the date in the list of dates\n     * @public\n     */\n    dateInString(date, datesString) {\n        const dates = datesString.split(\",\").map(str => str.trim());\n        date =\n            typeof date === \"string\"\n                ? date\n                : `${date.getMonth() + 1}-${date.getDate()}-${date.getFullYear()}`;\n        return dates.some(d => d === date);\n    }\n    /**\n     * Creates a class string for the day container\n     * @param date - date of the calendar cell\n     * @returns - string of class names\n     * @public\n     */\n    getDayClassNames(date, todayString) {\n        const { day, month, year, disabled, selected } = date;\n        const today = todayString === `${month}-${day}-${year}`;\n        const inactive = this.month !== month;\n        return [\n            \"day\",\n            today && \"today\",\n            inactive && \"inactive\",\n            disabled && \"disabled\",\n            selected && \"selected\",\n        ]\n            .filter(Boolean)\n            .join(\" \");\n    }\n    /**\n     * Returns a list of weekday labels\n     * @returns An array of weekday text and full text if abbreviated\n     * @public\n     */\n    getWeekdayText() {\n        const weekdayText = this.dateFormatter.getWeekdays().map(text => ({ text }));\n        if (this.weekdayFormat !== \"long\") {\n            const longText = this.dateFormatter.getWeekdays(\"long\");\n            weekdayText.forEach((weekday, index) => {\n                weekday.abbr = longText[index];\n            });\n        }\n        return weekdayText;\n    }\n    /**\n     * Emits the \"date-select\" event with the day, month and year.\n     * @param date - Date cell\n     * @public\n     */\n    handleDateSelect(event, day) {\n        event.preventDefault;\n        this.$emit(\"dateselected\", day);\n    }\n    /**\n     * Handles keyboard events on a cell\n     * @param event - Keyboard event\n     * @param date - Date of the cell selected\n     */\n    handleKeydown(event, date) {\n        if (event.key === keyEnter) {\n            this.handleDateSelect(event, date);\n        }\n        return true;\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], Calendar.prototype, \"readonly\", void 0);\n__decorate([\n    attr\n], Calendar.prototype, \"locale\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], Calendar.prototype, \"month\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], Calendar.prototype, \"year\", void 0);\n__decorate([\n    attr({ attribute: \"day-format\", mode: \"fromView\" })\n], Calendar.prototype, \"dayFormat\", void 0);\n__decorate([\n    attr({ attribute: \"weekday-format\", mode: \"fromView\" })\n], Calendar.prototype, \"weekdayFormat\", void 0);\n__decorate([\n    attr({ attribute: \"month-format\", mode: \"fromView\" })\n], Calendar.prototype, \"monthFormat\", void 0);\n__decorate([\n    attr({ attribute: \"year-format\", mode: \"fromView\" })\n], Calendar.prototype, \"yearFormat\", void 0);\n__decorate([\n    attr({ attribute: \"min-weeks\", converter: nullableNumberConverter })\n], Calendar.prototype, \"minWeeks\", void 0);\n__decorate([\n    attr({ attribute: \"disabled-dates\" })\n], Calendar.prototype, \"disabledDates\", void 0);\n__decorate([\n    attr({ attribute: \"selected-dates\" })\n], Calendar.prototype, \"selectedDates\", void 0);\n","import { emptyArray } from \"../platform.js\";\n/** @internal */\nexport function newSplice(index, removed, addedCount) {\n    return {\n        index: index,\n        removed: removed,\n        addedCount: addedCount,\n    };\n}\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n// Note: This function is *based* on the computation of the Levenshtein\n// \"edit\" distance. The one change is that \"updates\" are treated as two\n// edits - not one. With Array splices, an update is really a delete\n// followed by an add. By retaining this, we optimize for \"keeping\" the\n// maximum array items in the original array. For example:\n//\n//   'xxxx123' -> '123yyyy'\n//\n// With 1-edit updates, the shortest path would be just to update all seven\n// characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n// leaves the substring '123' intact.\nfunction calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    const rowCount = oldEnd - oldStart + 1;\n    const columnCount = currentEnd - currentStart + 1;\n    const distances = new Array(rowCount);\n    let north;\n    let west;\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; ++i) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n    }\n    // Initialize null row\n    for (let j = 0; j < columnCount; ++j) {\n        distances[0][j] = j;\n    }\n    for (let i = 1; i < rowCount; ++i) {\n        for (let j = 1; j < columnCount; ++j) {\n            if (current[currentStart + j - 1] === old[oldStart + i - 1]) {\n                distances[i][j] = distances[i - 1][j - 1];\n            }\n            else {\n                north = distances[i - 1][j] + 1;\n                west = distances[i][j - 1] + 1;\n                distances[i][j] = north < west ? north : west;\n            }\n        }\n    }\n    return distances;\n}\n// This starts at the final weight, and walks \"backward\" by finding\n// the minimum previous weight recursively until the origin of the weight\n// matrix.\nfunction spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    const edits = [];\n    while (i > 0 || j > 0) {\n        if (i === 0) {\n            edits.push(EDIT_ADD);\n            j--;\n            continue;\n        }\n        if (j === 0) {\n            edits.push(EDIT_DELETE);\n            i--;\n            continue;\n        }\n        const northWest = distances[i - 1][j - 1];\n        const west = distances[i - 1][j];\n        const north = distances[i][j - 1];\n        let min;\n        if (west < north) {\n            min = west < northWest ? west : northWest;\n        }\n        else {\n            min = north < northWest ? north : northWest;\n        }\n        if (min === northWest) {\n            if (northWest === current) {\n                edits.push(EDIT_LEAVE);\n            }\n            else {\n                edits.push(EDIT_UPDATE);\n                current = northWest;\n            }\n            i--;\n            j--;\n        }\n        else if (min === west) {\n            edits.push(EDIT_DELETE);\n            i--;\n            current = west;\n        }\n        else {\n            edits.push(EDIT_ADD);\n            j--;\n            current = north;\n        }\n    }\n    edits.reverse();\n    return edits;\n}\nfunction sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; ++i) {\n        if (current[i] !== old[i]) {\n            return i;\n        }\n    }\n    return searchLength;\n}\nfunction sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && current[--index1] === old[--index2]) {\n        count++;\n    }\n    return count;\n}\nfunction intersect(start1, end1, start2, end2) {\n    // Disjoint\n    if (end1 < start2 || end2 < start1) {\n        return -1;\n    }\n    // Adjacent\n    if (end1 === start2 || end2 === start1) {\n        return 0;\n    }\n    // Non-zero intersect, span1 first\n    if (start1 < start2) {\n        if (end1 < end2) {\n            return end1 - start2; // Overlap\n        }\n        return end2 - start2; // Contained\n    }\n    // Non-zero intersect, span2 first\n    if (end2 < end1) {\n        return end2 - start1; // Overlap\n    }\n    return end1 - start1; // Contained\n}\n/**\n * Splice Projection functions:\n *\n * A splice map is a representation of how a previous array of items\n * was transformed into a new array of items. Conceptually it is a list of\n * tuples of\n *\n *   <index, removed, addedCount>\n *\n * which are kept in ascending index order of. The tuple represents that at\n * the |index|, |removed| sequence of items were removed, and counting forward\n * from |index|, |addedCount| items were added.\n */\n/**\n * @internal\n * @remarks\n * Lacking individual splice mutation information, the minimal set of\n * splices can be synthesized given the previous state and final state of an\n * array. The basic approach is to calculate the edit distance matrix and\n * choose the shortest path through it.\n *\n * Complexity: O(l * p)\n *   l: The length of the current array\n *   p: The length of the old array\n */\nexport function calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    const minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart === 0 && oldStart === 0) {\n        prefixCount = sharedPrefix(current, old, minLength);\n    }\n    if (currentEnd === current.length && oldEnd === old.length) {\n        suffixCount = sharedSuffix(current, old, minLength - prefixCount);\n    }\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n    if (currentEnd - currentStart === 0 && oldEnd - oldStart === 0) {\n        return emptyArray;\n    }\n    if (currentStart === currentEnd) {\n        const splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd) {\n            splice.removed.push(old[oldStart++]);\n        }\n        return [splice];\n    }\n    else if (oldStart === oldEnd) {\n        return [newSplice(currentStart, [], currentEnd - currentStart)];\n    }\n    const ops = spliceOperationsFromEditDistances(calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));\n    const splices = [];\n    let splice = void 0;\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; ++i) {\n        switch (ops[i]) {\n            case EDIT_LEAVE:\n                if (splice !== void 0) {\n                    splices.push(splice);\n                    splice = void 0;\n                }\n                index++;\n                oldIndex++;\n                break;\n            case EDIT_UPDATE:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            case EDIT_ADD:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                break;\n            case EDIT_DELETE:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            // no default\n        }\n    }\n    if (splice !== void 0) {\n        splices.push(splice);\n    }\n    return splices;\n}\nconst $push = Array.prototype.push;\nfunction mergeSplice(splices, index, removed, addedCount) {\n    const splice = newSplice(index, removed, addedCount);\n    let inserted = false;\n    let insertionOffset = 0;\n    for (let i = 0; i < splices.length; i++) {\n        const current = splices[i];\n        current.index += insertionOffset;\n        if (inserted) {\n            continue;\n        }\n        const intersectCount = intersect(splice.index, splice.index + splice.removed.length, current.index, current.index + current.addedCount);\n        if (intersectCount >= 0) {\n            // Merge the two splices\n            splices.splice(i, 1);\n            i--;\n            insertionOffset -= current.addedCount - current.removed.length;\n            splice.addedCount += current.addedCount - intersectCount;\n            const deleteCount = splice.removed.length + current.removed.length - intersectCount;\n            if (!splice.addedCount && !deleteCount) {\n                // merged splice is a noop. discard.\n                inserted = true;\n            }\n            else {\n                let currentRemoved = current.removed;\n                if (splice.index < current.index) {\n                    // some prefix of splice.removed is prepended to current.removed.\n                    const prepend = splice.removed.slice(0, current.index - splice.index);\n                    $push.apply(prepend, currentRemoved);\n                    currentRemoved = prepend;\n                }\n                if (splice.index + splice.removed.length >\n                    current.index + current.addedCount) {\n                    // some suffix of splice.removed is appended to current.removed.\n                    const append = splice.removed.slice(current.index + current.addedCount - splice.index);\n                    $push.apply(currentRemoved, append);\n                }\n                splice.removed = currentRemoved;\n                if (current.index < splice.index) {\n                    splice.index = current.index;\n                }\n            }\n        }\n        else if (splice.index < current.index) {\n            // Insert splice here.\n            inserted = true;\n            splices.splice(i, 0, splice);\n            i++;\n            const offset = splice.addedCount - splice.removed.length;\n            current.index += offset;\n            insertionOffset += offset;\n        }\n    }\n    if (!inserted) {\n        splices.push(splice);\n    }\n}\nfunction createInitialSplices(changeRecords) {\n    const splices = [];\n    for (let i = 0, ii = changeRecords.length; i < ii; i++) {\n        const record = changeRecords[i];\n        mergeSplice(splices, record.index, record.removed, record.addedCount);\n    }\n    return splices;\n}\n/** @internal */\nexport function projectArraySplices(array, changeRecords) {\n    let splices = [];\n    const initialSplices = createInitialSplices(changeRecords);\n    for (let i = 0, ii = initialSplices.length; i < ii; ++i) {\n        const splice = initialSplices[i];\n        if (splice.addedCount === 1 && splice.removed.length === 1) {\n            if (splice.removed[0] !== array[splice.index]) {\n                splices.push(splice);\n            }\n            continue;\n        }\n        splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount, splice.removed, 0, splice.removed.length));\n    }\n    return splices;\n}\n","import { DOM } from \"../dom.js\";\nimport { calcSplices, newSplice, projectArraySplices } from \"./array-change-records.js\";\nimport { SubscriberSet } from \"./notifier.js\";\nimport { Observable } from \"./observable.js\";\nlet arrayObservationEnabled = false;\nfunction adjustIndex(changeRecord, array) {\n    let index = changeRecord.index;\n    const arrayLength = array.length;\n    if (index > arrayLength) {\n        index = arrayLength - changeRecord.addedCount;\n    }\n    else if (index < 0) {\n        index =\n            arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;\n    }\n    if (index < 0) {\n        index = 0;\n    }\n    changeRecord.index = index;\n    return changeRecord;\n}\nclass ArrayObserver extends SubscriberSet {\n    constructor(source) {\n        super(source);\n        this.oldCollection = void 0;\n        this.splices = void 0;\n        this.needsQueue = true;\n        this.call = this.flush;\n        Reflect.defineProperty(source, \"$fastController\", {\n            value: this,\n            enumerable: false,\n        });\n    }\n    subscribe(subscriber) {\n        this.flush();\n        super.subscribe(subscriber);\n    }\n    addSplice(splice) {\n        if (this.splices === void 0) {\n            this.splices = [splice];\n        }\n        else {\n            this.splices.push(splice);\n        }\n        if (this.needsQueue) {\n            this.needsQueue = false;\n            DOM.queueUpdate(this);\n        }\n    }\n    reset(oldCollection) {\n        this.oldCollection = oldCollection;\n        if (this.needsQueue) {\n            this.needsQueue = false;\n            DOM.queueUpdate(this);\n        }\n    }\n    flush() {\n        const splices = this.splices;\n        const oldCollection = this.oldCollection;\n        if (splices === void 0 && oldCollection === void 0) {\n            return;\n        }\n        this.needsQueue = true;\n        this.splices = void 0;\n        this.oldCollection = void 0;\n        const finalSplices = oldCollection === void 0\n            ? projectArraySplices(this.source, splices)\n            : calcSplices(this.source, 0, this.source.length, oldCollection, 0, oldCollection.length);\n        this.notify(finalSplices);\n    }\n}\n/* eslint-disable prefer-rest-params */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/**\n * Enables the array observation mechanism.\n * @remarks\n * Array observation is enabled automatically when using the\n * {@link RepeatDirective}, so calling this API manually is\n * not typically necessary.\n * @public\n */\nexport function enableArrayObservation() {\n    if (arrayObservationEnabled) {\n        return;\n    }\n    arrayObservationEnabled = true;\n    Observable.setArrayObserverFactory((collection) => {\n        return new ArrayObserver(collection);\n    });\n    const proto = Array.prototype;\n    // Don't patch Array if it has already been patched\n    // by another copy of fast-element.\n    if (proto.$fastPatch) {\n        return;\n    }\n    Reflect.defineProperty(proto, \"$fastPatch\", {\n        value: 1,\n        enumerable: false,\n    });\n    const pop = proto.pop;\n    const push = proto.push;\n    const reverse = proto.reverse;\n    const shift = proto.shift;\n    const sort = proto.sort;\n    const splice = proto.splice;\n    const unshift = proto.unshift;\n    proto.pop = function () {\n        const notEmpty = this.length > 0;\n        const methodCallResult = pop.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0 && notEmpty) {\n            o.addSplice(newSplice(this.length, [methodCallResult], 0));\n        }\n        return methodCallResult;\n    };\n    proto.push = function () {\n        const methodCallResult = push.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(this.length - arguments.length, [], arguments.length), this));\n        }\n        return methodCallResult;\n    };\n    proto.reverse = function () {\n        let oldArray;\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.flush();\n            oldArray = this.slice();\n        }\n        const methodCallResult = reverse.apply(this, arguments);\n        if (o !== void 0) {\n            o.reset(oldArray);\n        }\n        return methodCallResult;\n    };\n    proto.shift = function () {\n        const notEmpty = this.length > 0;\n        const methodCallResult = shift.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0 && notEmpty) {\n            o.addSplice(newSplice(0, [methodCallResult], 0));\n        }\n        return methodCallResult;\n    };\n    proto.sort = function () {\n        let oldArray;\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.flush();\n            oldArray = this.slice();\n        }\n        const methodCallResult = sort.apply(this, arguments);\n        if (o !== void 0) {\n            o.reset(oldArray);\n        }\n        return methodCallResult;\n    };\n    proto.splice = function () {\n        const methodCallResult = splice.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(+arguments[0], methodCallResult, arguments.length > 2 ? arguments.length - 2 : 0), this));\n        }\n        return methodCallResult;\n    };\n    proto.unshift = function () {\n        const methodCallResult = unshift.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(0, [], arguments.length), this));\n        }\n        return methodCallResult;\n    };\n}\n/* eslint-enable prefer-rest-params */\n/* eslint-enable @typescript-eslint/explicit-function-return-type */\n","import { DOM } from \"../dom.js\";\nimport { Observable, } from \"../observation/observable.js\";\nimport { enableArrayObservation } from \"../observation/array-observer.js\";\nimport { emptyArray } from \"../platform.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nconst defaultRepeatOptions = Object.freeze({\n    positioning: false,\n    recycle: true,\n});\nfunction bindWithoutPositioning(view, items, index, context) {\n    view.bind(items[index], context);\n}\nfunction bindWithPositioning(view, items, index, context) {\n    const childContext = Object.create(context);\n    childContext.index = index;\n    childContext.length = items.length;\n    view.bind(items[index], childContext);\n}\n/**\n * A behavior that renders a template for each item in an array.\n * @public\n */\nexport class RepeatBehavior {\n    /**\n     * Creates an instance of RepeatBehavior.\n     * @param location - The location in the DOM to render the repeat.\n     * @param itemsBinding - The array to render.\n     * @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.\n     * @param templateBinding - The template to render for each item.\n     * @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(location, itemsBinding, isItemsBindingVolatile, templateBinding, isTemplateBindingVolatile, options) {\n        this.location = location;\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        this.source = null;\n        this.views = [];\n        this.items = null;\n        this.itemsObserver = null;\n        this.originalContext = void 0;\n        this.childContext = void 0;\n        this.bindView = bindWithoutPositioning;\n        this.itemsBindingObserver = Observable.binding(itemsBinding, this, isItemsBindingVolatile);\n        this.templateBindingObserver = Observable.binding(templateBinding, this, isTemplateBindingVolatile);\n        if (options.positioning) {\n            this.bindView = bindWithPositioning;\n        }\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     */\n    bind(source, context) {\n        this.source = source;\n        this.originalContext = context;\n        this.childContext = Object.create(context);\n        this.childContext.parent = source;\n        this.childContext.parentContext = this.originalContext;\n        this.items = this.itemsBindingObserver.observe(source, this.originalContext);\n        this.template = this.templateBindingObserver.observe(source, this.originalContext);\n        this.observeItems(true);\n        this.refreshAllViews();\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n    unbind() {\n        this.source = null;\n        this.items = null;\n        if (this.itemsObserver !== null) {\n            this.itemsObserver.unsubscribe(this);\n        }\n        this.unbindAllViews();\n        this.itemsBindingObserver.disconnect();\n        this.templateBindingObserver.disconnect();\n    }\n    /** @internal */\n    handleChange(source, args) {\n        if (source === this.itemsBinding) {\n            this.items = this.itemsBindingObserver.observe(this.source, this.originalContext);\n            this.observeItems();\n            this.refreshAllViews();\n        }\n        else if (source === this.templateBinding) {\n            this.template = this.templateBindingObserver.observe(this.source, this.originalContext);\n            this.refreshAllViews(true);\n        }\n        else {\n            this.updateViews(args);\n        }\n    }\n    observeItems(force = false) {\n        if (!this.items) {\n            this.items = emptyArray;\n            return;\n        }\n        const oldObserver = this.itemsObserver;\n        const newObserver = (this.itemsObserver = Observable.getNotifier(this.items));\n        const hasNewObserver = oldObserver !== newObserver;\n        if (hasNewObserver && oldObserver !== null) {\n            oldObserver.unsubscribe(this);\n        }\n        if (hasNewObserver || force) {\n            newObserver.subscribe(this);\n        }\n    }\n    updateViews(splices) {\n        const childContext = this.childContext;\n        const views = this.views;\n        const bindView = this.bindView;\n        const items = this.items;\n        const template = this.template;\n        const recycle = this.options.recycle;\n        const leftoverViews = [];\n        let leftoverIndex = 0;\n        let availableViews = 0;\n        for (let i = 0, ii = splices.length; i < ii; ++i) {\n            const splice = splices[i];\n            const removed = splice.removed;\n            let removeIndex = 0;\n            let addIndex = splice.index;\n            const end = addIndex + splice.addedCount;\n            const removedViews = views.splice(splice.index, removed.length);\n            const totalAvailableViews = (availableViews =\n                leftoverViews.length + removedViews.length);\n            for (; addIndex < end; ++addIndex) {\n                const neighbor = views[addIndex];\n                const location = neighbor ? neighbor.firstChild : this.location;\n                let view;\n                if (recycle && availableViews > 0) {\n                    if (removeIndex <= totalAvailableViews && removedViews.length > 0) {\n                        view = removedViews[removeIndex];\n                        removeIndex++;\n                    }\n                    else {\n                        view = leftoverViews[leftoverIndex];\n                        leftoverIndex++;\n                    }\n                    availableViews--;\n                }\n                else {\n                    view = template.create();\n                }\n                views.splice(addIndex, 0, view);\n                bindView(view, items, addIndex, childContext);\n                view.insertBefore(location);\n            }\n            if (removedViews[removeIndex]) {\n                leftoverViews.push(...removedViews.slice(removeIndex));\n            }\n        }\n        for (let i = leftoverIndex, ii = leftoverViews.length; i < ii; ++i) {\n            leftoverViews[i].dispose();\n        }\n        if (this.options.positioning) {\n            for (let i = 0, ii = views.length; i < ii; ++i) {\n                const currentContext = views[i].context;\n                currentContext.length = ii;\n                currentContext.index = i;\n            }\n        }\n    }\n    refreshAllViews(templateChanged = false) {\n        const items = this.items;\n        const childContext = this.childContext;\n        const template = this.template;\n        const location = this.location;\n        const bindView = this.bindView;\n        let itemsLength = items.length;\n        let views = this.views;\n        let viewsLength = views.length;\n        if (itemsLength === 0 || templateChanged || !this.options.recycle) {\n            // all views need to be removed\n            HTMLView.disposeContiguousBatch(views);\n            viewsLength = 0;\n        }\n        if (viewsLength === 0) {\n            // all views need to be created\n            this.views = views = new Array(itemsLength);\n            for (let i = 0; i < itemsLength; ++i) {\n                const view = template.create();\n                bindView(view, items, i, childContext);\n                views[i] = view;\n                view.insertBefore(location);\n            }\n        }\n        else {\n            // attempt to reuse existing views with new data\n            let i = 0;\n            for (; i < itemsLength; ++i) {\n                if (i < viewsLength) {\n                    const view = views[i];\n                    bindView(view, items, i, childContext);\n                }\n                else {\n                    const view = template.create();\n                    bindView(view, items, i, childContext);\n                    views.push(view);\n                    view.insertBefore(location);\n                }\n            }\n            const removed = views.splice(i, viewsLength - i);\n            for (i = 0, itemsLength = removed.length; i < itemsLength; ++i) {\n                removed[i].dispose();\n            }\n        }\n    }\n    unbindAllViews() {\n        const views = this.views;\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            views[i].unbind();\n        }\n    }\n}\n/**\n * A directive that configures list rendering.\n * @public\n */\nexport class RepeatDirective extends HTMLDirective {\n    /**\n     * Creates an instance of RepeatDirective.\n     * @param itemsBinding - The binding that provides the array to render.\n     * @param templateBinding - The template binding used to obtain a template to render for each item in the array.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(itemsBinding, templateBinding, options) {\n        super();\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        /**\n         * Creates a placeholder string based on the directive's index within the template.\n         * @param index - The index of the directive within the template.\n         */\n        this.createPlaceholder = DOM.createBlockPlaceholder;\n        enableArrayObservation();\n        this.isItemsBindingVolatile = Observable.isVolatileBinding(itemsBinding);\n        this.isTemplateBindingVolatile = Observable.isVolatileBinding(templateBinding);\n    }\n    /**\n     * Creates a behavior for the provided target node.\n     * @param target - The node instance to create the behavior for.\n     */\n    createBehavior(target) {\n        return new RepeatBehavior(target, this.itemsBinding, this.isItemsBindingVolatile, this.templateBinding, this.isTemplateBindingVolatile, this.options);\n    }\n}\n/**\n * A directive that enables list rendering.\n * @param itemsBinding - The array to render.\n * @param templateOrTemplateBinding - The template or a template binding used obtain a template\n * to render for each item in the array.\n * @param options - Options used to turn on special repeat features.\n * @public\n */\nexport function repeat(itemsBinding, templateOrTemplateBinding, options = defaultRepeatOptions) {\n    const templateBinding = typeof templateOrTemplateBinding === \"function\"\n        ? templateOrTemplateBinding\n        : () => templateOrTemplateBinding;\n    return new RepeatDirective(itemsBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));\n}\n","/**\n * Enumerates the data grid auto generated header options\n * default option generates a non-sticky header row\n *\n * @public\n */\nexport const GenerateHeaderOptions = {\n    none: \"none\",\n    default: \"default\",\n    sticky: \"sticky\",\n};\n/**\n * Enumerates possible data grid cell types.\n *\n * @public\n */\nexport const DataGridCellTypes = {\n    default: \"default\",\n    columnHeader: \"columnheader\",\n    rowHeader: \"rowheader\",\n};\n/**\n * Enumerates possible data grid row types\n *\n * @public\n */\nexport const DataGridRowTypes = {\n    default: \"default\",\n    header: \"header\",\n    stickyHeader: \"sticky-header\",\n};\n","import { __decorate } from \"tslib\";\nimport { attr, html, observable } from \"@microsoft/fast-element\";\nimport { eventFocusIn, eventFocusOut, eventKeyDown, keyEnter, keyEscape, keyFunction2, } from \"@microsoft/fast-web-utilities\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DataGridCellTypes } from \"./data-grid.options.js\";\nexport { DataGridCellTypes };\nconst defaultCellContentsTemplate = html `\n    <template>\n        ${x => x.rowData === null ||\n    x.columnDefinition === null ||\n    x.columnDefinition.columnDataKey === null\n    ? null\n    : x.rowData[x.columnDefinition.columnDataKey]}\n    </template>\n`;\nconst defaultHeaderCellContentsTemplate = html `\n    <template>\n        ${x => x.columnDefinition === null\n    ? null\n    : x.columnDefinition.title === undefined\n        ? x.columnDefinition.columnDataKey\n        : x.columnDefinition.title}\n    </template>\n`;\n/**\n * A Data Grid Cell Custom HTML Element.\n *\n * @fires cell-focused - Fires a custom 'cell-focused' event when focus is on the cell or its contents\n * @slot - The default slot for cell contents.  The \"cell contents template\" renders here.\n * @public\n */\nexport class DataGridCell extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The type of cell\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: cell-type\n         */\n        this.cellType = DataGridCellTypes.default;\n        /**\n         * The base data for the parent row\n         *\n         * @public\n         */\n        this.rowData = null;\n        /**\n         * The base data for the column\n         *\n         * @public\n         */\n        this.columnDefinition = null;\n        this.isActiveCell = false;\n        this.customCellView = null;\n        this.updateCellStyle = () => {\n            this.style.gridColumn = this.gridColumn;\n        };\n    }\n    cellTypeChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateCellView();\n        }\n    }\n    gridColumnChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateCellStyle();\n        }\n    }\n    columnDefinitionChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected) {\n            this.updateCellView();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        var _a;\n        super.connectedCallback();\n        this.addEventListener(eventFocusIn, this.handleFocusin);\n        this.addEventListener(eventFocusOut, this.handleFocusout);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.style.gridColumn = `${((_a = this.columnDefinition) === null || _a === void 0 ? void 0 : _a.gridColumn) === undefined\n            ? 0\n            : this.columnDefinition.gridColumn}`;\n        this.updateCellView();\n        this.updateCellStyle();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(eventFocusIn, this.handleFocusin);\n        this.removeEventListener(eventFocusOut, this.handleFocusout);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n        this.disconnectCellView();\n    }\n    handleFocusin(e) {\n        if (this.isActiveCell) {\n            return;\n        }\n        this.isActiveCell = true;\n        switch (this.cellType) {\n            case DataGridCellTypes.columnHeader:\n                if (this.columnDefinition !== null &&\n                    this.columnDefinition.headerCellInternalFocusQueue !== true &&\n                    typeof this.columnDefinition.headerCellFocusTargetCallback ===\n                        \"function\") {\n                    // move focus to the focus target\n                    const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);\n                    if (focusTarget !== null) {\n                        focusTarget.focus();\n                    }\n                }\n                break;\n            default:\n                if (this.columnDefinition !== null &&\n                    this.columnDefinition.cellInternalFocusQueue !== true &&\n                    typeof this.columnDefinition.cellFocusTargetCallback === \"function\") {\n                    // move focus to the focus target\n                    const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);\n                    if (focusTarget !== null) {\n                        focusTarget.focus();\n                    }\n                }\n                break;\n        }\n        this.$emit(\"cell-focused\", this);\n    }\n    handleFocusout(e) {\n        if (this !== document.activeElement && !this.contains(document.activeElement)) {\n            this.isActiveCell = false;\n        }\n    }\n    handleKeydown(e) {\n        if (e.defaultPrevented ||\n            this.columnDefinition === null ||\n            (this.cellType === DataGridCellTypes.default &&\n                this.columnDefinition.cellInternalFocusQueue !== true) ||\n            (this.cellType === DataGridCellTypes.columnHeader &&\n                this.columnDefinition.headerCellInternalFocusQueue !== true)) {\n            return;\n        }\n        switch (e.key) {\n            case keyEnter:\n            case keyFunction2:\n                if (this.contains(document.activeElement) &&\n                    document.activeElement !== this) {\n                    return;\n                }\n                switch (this.cellType) {\n                    case DataGridCellTypes.columnHeader:\n                        if (this.columnDefinition.headerCellFocusTargetCallback !==\n                            undefined) {\n                            const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);\n                            if (focusTarget !== null) {\n                                focusTarget.focus();\n                            }\n                            e.preventDefault();\n                        }\n                        break;\n                    default:\n                        if (this.columnDefinition.cellFocusTargetCallback !== undefined) {\n                            const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);\n                            if (focusTarget !== null) {\n                                focusTarget.focus();\n                            }\n                            e.preventDefault();\n                        }\n                        break;\n                }\n                break;\n            case keyEscape:\n                if (this.contains(document.activeElement) &&\n                    document.activeElement !== this) {\n                    this.focus();\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    updateCellView() {\n        this.disconnectCellView();\n        if (this.columnDefinition === null) {\n            return;\n        }\n        switch (this.cellType) {\n            case DataGridCellTypes.columnHeader:\n                if (this.columnDefinition.headerCellTemplate !== undefined) {\n                    this.customCellView = this.columnDefinition.headerCellTemplate.render(this, this);\n                }\n                else {\n                    this.customCellView = defaultHeaderCellContentsTemplate.render(this, this);\n                }\n                break;\n            case undefined:\n            case DataGridCellTypes.rowHeader:\n            case DataGridCellTypes.default:\n                if (this.columnDefinition.cellTemplate !== undefined) {\n                    this.customCellView = this.columnDefinition.cellTemplate.render(this, this);\n                }\n                else {\n                    this.customCellView = defaultCellContentsTemplate.render(this, this);\n                }\n                break;\n        }\n    }\n    disconnectCellView() {\n        if (this.customCellView !== null) {\n            this.customCellView.dispose();\n            this.customCellView = null;\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"cell-type\" })\n], DataGridCell.prototype, \"cellType\", void 0);\n__decorate([\n    attr({ attribute: \"grid-column\" })\n], DataGridCell.prototype, \"gridColumn\", void 0);\n__decorate([\n    observable\n], DataGridCell.prototype, \"rowData\", void 0);\n__decorate([\n    observable\n], DataGridCell.prototype, \"columnDefinition\", void 0);\n","import { __decorate } from \"tslib\";\nimport { attr, observable, RepeatDirective, } from \"@microsoft/fast-element\";\nimport { eventFocusOut, eventKeyDown, keyArrowLeft, keyArrowRight, keyEnd, keyHome, } from \"@microsoft/fast-web-utilities\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DataGridRowTypes } from \"./data-grid.options.js\";\n/**\n * A Data Grid Row Custom HTML Element.\n *\n * @fires row-focused - Fires a custom 'row-focused' event when focus is on an element (usually a cell or its contents) in the row\n * @slot - The default slot for custom cell elements\n * @public\n */\nexport class DataGridRow extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The type of row\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: row-type\n         */\n        this.rowType = DataGridRowTypes.default;\n        /**\n         * The base data for this row\n         *\n         * @public\n         */\n        this.rowData = null;\n        /**\n         * The column definitions of the row\n         *\n         * @public\n         */\n        this.columnDefinitions = null;\n        /**\n         * Whether focus is on/in a cell within this row.\n         *\n         * @internal\n         */\n        this.isActiveRow = false;\n        this.cellsRepeatBehavior = null;\n        this.cellsPlaceholder = null;\n        /**\n         * @internal\n         */\n        this.focusColumnIndex = 0;\n        this.refocusOnLoad = false;\n        this.updateRowStyle = () => {\n            this.style.gridTemplateColumns = this.gridTemplateColumns;\n        };\n    }\n    gridTemplateColumnsChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateRowStyle();\n        }\n    }\n    rowTypeChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateItemTemplate();\n        }\n    }\n    rowDataChanged() {\n        if (this.rowData !== null && this.isActiveRow) {\n            this.refocusOnLoad = true;\n            return;\n        }\n    }\n    cellItemTemplateChanged() {\n        this.updateItemTemplate();\n    }\n    headerCellItemTemplateChanged() {\n        this.updateItemTemplate();\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        // note that row elements can be reused with a different data object\n        // as the parent grid's repeat behavior reacts to changes in the data set.\n        if (this.cellsRepeatBehavior === null) {\n            this.cellsPlaceholder = document.createComment(\"\");\n            this.appendChild(this.cellsPlaceholder);\n            this.updateItemTemplate();\n            this.cellsRepeatBehavior = new RepeatDirective(x => x.columnDefinitions, x => x.activeCellItemTemplate, { positioning: true }).createBehavior(this.cellsPlaceholder);\n            /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n            this.$fastController.addBehaviors([this.cellsRepeatBehavior]);\n        }\n        this.addEventListener(\"cell-focused\", this.handleCellFocus);\n        this.addEventListener(eventFocusOut, this.handleFocusout);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.updateRowStyle();\n        if (this.refocusOnLoad) {\n            // if focus was on the row when data changed try to refocus on same cell\n            this.refocusOnLoad = false;\n            if (this.cellElements.length > this.focusColumnIndex) {\n                this.cellElements[this.focusColumnIndex].focus();\n            }\n        }\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(\"cell-focused\", this.handleCellFocus);\n        this.removeEventListener(eventFocusOut, this.handleFocusout);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n    }\n    handleFocusout(e) {\n        if (!this.contains(e.target)) {\n            this.isActiveRow = false;\n            this.focusColumnIndex = 0;\n        }\n    }\n    handleCellFocus(e) {\n        this.isActiveRow = true;\n        this.focusColumnIndex = this.cellElements.indexOf(e.target);\n        this.$emit(\"row-focused\", this);\n    }\n    handleKeydown(e) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        let newFocusColumnIndex = 0;\n        switch (e.key) {\n            case keyArrowLeft:\n                // focus left one cell\n                newFocusColumnIndex = Math.max(0, this.focusColumnIndex - 1);\n                this.cellElements[newFocusColumnIndex].focus();\n                e.preventDefault();\n                break;\n            case keyArrowRight:\n                // focus right one cell\n                newFocusColumnIndex = Math.min(this.cellElements.length - 1, this.focusColumnIndex + 1);\n                this.cellElements[newFocusColumnIndex].focus();\n                e.preventDefault();\n                break;\n            case keyHome:\n                if (!e.ctrlKey) {\n                    this.cellElements[0].focus();\n                    e.preventDefault();\n                }\n                break;\n            case keyEnd:\n                if (!e.ctrlKey) {\n                    // focus last cell of the row\n                    this.cellElements[this.cellElements.length - 1].focus();\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    updateItemTemplate() {\n        this.activeCellItemTemplate =\n            this.rowType === DataGridRowTypes.default &&\n                this.cellItemTemplate !== undefined\n                ? this.cellItemTemplate\n                : this.rowType === DataGridRowTypes.default &&\n                    this.cellItemTemplate === undefined\n                    ? this.defaultCellItemTemplate\n                    : this.headerCellItemTemplate !== undefined\n                        ? this.headerCellItemTemplate\n                        : this.defaultHeaderCellItemTemplate;\n    }\n}\n__decorate([\n    attr({ attribute: \"grid-template-columns\" })\n], DataGridRow.prototype, \"gridTemplateColumns\", void 0);\n__decorate([\n    attr({ attribute: \"row-type\" })\n], DataGridRow.prototype, \"rowType\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"rowData\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"columnDefinitions\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"cellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"headerCellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"rowIndex\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"isActiveRow\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"activeCellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"defaultCellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"defaultHeaderCellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGridRow.prototype, \"cellElements\", void 0);\n","import { __decorate } from \"tslib\";\nimport { attr, DOM, observable, RepeatDirective, } from \"@microsoft/fast-element\";\nimport { eventFocus, eventFocusOut, eventKeyDown, keyArrowDown, keyArrowUp, keyEnd, keyHome, keyPageDown, keyPageUp, } from \"@microsoft/fast-web-utilities\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DataGridRowTypes, GenerateHeaderOptions } from \"./data-grid.options.js\";\nexport { DataGridRowTypes, GenerateHeaderOptions };\n/**\n * A Data Grid Custom HTML Element.\n *\n * @slot - The default slot for custom row elements\n * @public\n */\nexport class DataGrid extends FoundationElement {\n    constructor() {\n        super();\n        /**\n         * When true the component will not add itself to the tab queue.\n         * Default is false.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: no-tabbing\n         */\n        this.noTabbing = false;\n        /**\n         *  Whether the grid should automatically generate a header row and its type\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: generate-header\n         */\n        this.generateHeader = GenerateHeaderOptions.default;\n        /**\n         * The data being displayed in the grid\n         *\n         * @public\n         */\n        this.rowsData = [];\n        /**\n         * The column definitions of the grid\n         *\n         * @public\n         */\n        this.columnDefinitions = null;\n        /**\n         * The index of the row that will receive focus the next time the\n         * grid is focused. This value changes as focus moves to different\n         * rows within the grid.  Changing this value when focus is already\n         * within the grid moves focus to the specified row.\n         *\n         * @public\n         */\n        this.focusRowIndex = 0;\n        /**\n         * The index of the column that will receive focus the next time the\n         * grid is focused. This value changes as focus moves to different rows\n         * within the grid.  Changing this value when focus is already within\n         * the grid moves focus to the specified column.\n         *\n         * @public\n         */\n        this.focusColumnIndex = 0;\n        this.rowsPlaceholder = null;\n        this.generatedHeader = null;\n        this.isUpdatingFocus = false;\n        this.pendingFocusUpdate = false;\n        this.rowindexUpdateQueued = false;\n        this.columnDefinitionsStale = true;\n        this.generatedGridTemplateColumns = \"\";\n        this.focusOnCell = (rowIndex, columnIndex, scrollIntoView) => {\n            if (this.rowElements.length === 0) {\n                this.focusRowIndex = 0;\n                this.focusColumnIndex = 0;\n                return;\n            }\n            const focusRowIndex = Math.max(0, Math.min(this.rowElements.length - 1, rowIndex));\n            const focusRow = this.rowElements[focusRowIndex];\n            const cells = focusRow.querySelectorAll('[role=\"cell\"], [role=\"gridcell\"], [role=\"columnheader\"], [role=\"rowheader\"]');\n            const focusColumnIndex = Math.max(0, Math.min(cells.length - 1, columnIndex));\n            const focusTarget = cells[focusColumnIndex];\n            if (scrollIntoView &&\n                this.scrollHeight !== this.clientHeight &&\n                ((focusRowIndex < this.focusRowIndex && this.scrollTop > 0) ||\n                    (focusRowIndex > this.focusRowIndex &&\n                        this.scrollTop < this.scrollHeight - this.clientHeight))) {\n                focusTarget.scrollIntoView({ block: \"center\", inline: \"center\" });\n            }\n            focusTarget.focus();\n        };\n        this.onChildListChange = (mutations, \n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n        observer) => {\n            if (mutations && mutations.length) {\n                mutations.forEach((mutation) => {\n                    mutation.addedNodes.forEach((newNode) => {\n                        if (newNode.nodeType === 1 &&\n                            newNode.getAttribute(\"role\") === \"row\") {\n                            newNode.columnDefinitions = this.columnDefinitions;\n                        }\n                    });\n                });\n                this.queueRowIndexUpdate();\n            }\n        };\n        this.queueRowIndexUpdate = () => {\n            if (!this.rowindexUpdateQueued) {\n                this.rowindexUpdateQueued = true;\n                DOM.queueUpdate(this.updateRowIndexes);\n            }\n        };\n        this.updateRowIndexes = () => {\n            let newGridTemplateColumns = this.gridTemplateColumns;\n            if (newGridTemplateColumns === undefined) {\n                // try to generate columns based on manual rows\n                if (this.generatedGridTemplateColumns === \"\" && this.rowElements.length > 0) {\n                    const firstRow = this.rowElements[0];\n                    this.generatedGridTemplateColumns = new Array(firstRow.cellElements.length)\n                        .fill(\"1fr\")\n                        .join(\" \");\n                }\n                newGridTemplateColumns = this.generatedGridTemplateColumns;\n            }\n            this.rowElements.forEach((element, index) => {\n                const thisRow = element;\n                thisRow.rowIndex = index;\n                thisRow.gridTemplateColumns = newGridTemplateColumns;\n                if (this.columnDefinitionsStale) {\n                    thisRow.columnDefinitions = this.columnDefinitions;\n                }\n            });\n            this.rowindexUpdateQueued = false;\n            this.columnDefinitionsStale = false;\n        };\n    }\n    /**\n     *  generates a gridTemplateColumns based on columndata array\n     */\n    static generateTemplateColumns(columnDefinitions) {\n        let templateColumns = \"\";\n        columnDefinitions.forEach((column) => {\n            templateColumns = `${templateColumns}${templateColumns === \"\" ? \"\" : \" \"}${\"1fr\"}`;\n        });\n        return templateColumns;\n    }\n    noTabbingChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.noTabbing) {\n                this.setAttribute(\"tabIndex\", \"-1\");\n            }\n            else {\n                this.setAttribute(\"tabIndex\", this.contains(document.activeElement) ||\n                    this === document.activeElement\n                    ? \"-1\"\n                    : \"0\");\n            }\n        }\n    }\n    generateHeaderChanged() {\n        if (this.$fastController.isConnected) {\n            this.toggleGeneratedHeader();\n        }\n    }\n    gridTemplateColumnsChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateRowIndexes();\n        }\n    }\n    rowsDataChanged() {\n        if (this.columnDefinitions === null && this.rowsData.length > 0) {\n            this.columnDefinitions = DataGrid.generateColumns(this.rowsData[0]);\n        }\n        if (this.$fastController.isConnected) {\n            this.toggleGeneratedHeader();\n        }\n    }\n    columnDefinitionsChanged() {\n        if (this.columnDefinitions === null) {\n            this.generatedGridTemplateColumns = \"\";\n            return;\n        }\n        this.generatedGridTemplateColumns = DataGrid.generateTemplateColumns(this.columnDefinitions);\n        if (this.$fastController.isConnected) {\n            this.columnDefinitionsStale = true;\n            this.queueRowIndexUpdate();\n        }\n    }\n    headerCellItemTemplateChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.generatedHeader !== null) {\n                this.generatedHeader.headerCellItemTemplate = this.headerCellItemTemplate;\n            }\n        }\n    }\n    focusRowIndexChanged() {\n        if (this.$fastController.isConnected) {\n            this.queueFocusUpdate();\n        }\n    }\n    focusColumnIndexChanged() {\n        if (this.$fastController.isConnected) {\n            this.queueFocusUpdate();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.rowItemTemplate === undefined) {\n            this.rowItemTemplate = this.defaultRowItemTemplate;\n        }\n        this.rowsPlaceholder = document.createComment(\"\");\n        this.appendChild(this.rowsPlaceholder);\n        this.toggleGeneratedHeader();\n        this.rowsRepeatBehavior = new RepeatDirective(x => x.rowsData, x => x.rowItemTemplate, { positioning: true }).createBehavior(this.rowsPlaceholder);\n        /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n        this.$fastController.addBehaviors([this.rowsRepeatBehavior]);\n        this.addEventListener(\"row-focused\", this.handleRowFocus);\n        this.addEventListener(eventFocus, this.handleFocus);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.addEventListener(eventFocusOut, this.handleFocusOut);\n        this.observer = new MutationObserver(this.onChildListChange);\n        // only observe if nodes are added or removed\n        this.observer.observe(this, { childList: true });\n        if (this.noTabbing) {\n            this.setAttribute(\"tabindex\", \"-1\");\n        }\n        DOM.queueUpdate(this.queueRowIndexUpdate);\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(\"row-focused\", this.handleRowFocus);\n        this.removeEventListener(eventFocus, this.handleFocus);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n        this.removeEventListener(eventFocusOut, this.handleFocusOut);\n        // disconnect observer\n        this.observer.disconnect();\n        this.rowsPlaceholder = null;\n        this.generatedHeader = null;\n    }\n    /**\n     * @internal\n     */\n    handleRowFocus(e) {\n        this.isUpdatingFocus = true;\n        const focusRow = e.target;\n        this.focusRowIndex = this.rowElements.indexOf(focusRow);\n        this.focusColumnIndex = focusRow.focusColumnIndex;\n        this.setAttribute(\"tabIndex\", \"-1\");\n        this.isUpdatingFocus = false;\n    }\n    /**\n     * @internal\n     */\n    handleFocus(e) {\n        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, true);\n    }\n    /**\n     * @internal\n     */\n    handleFocusOut(e) {\n        if (e.relatedTarget === null || !this.contains(e.relatedTarget)) {\n            this.setAttribute(\"tabIndex\", this.noTabbing ? \"-1\" : \"0\");\n        }\n    }\n    /**\n     * @internal\n     */\n    handleKeydown(e) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        let newFocusRowIndex;\n        const maxIndex = this.rowElements.length - 1;\n        const currentGridBottom = this.offsetHeight + this.scrollTop;\n        const lastRow = this.rowElements[maxIndex];\n        switch (e.key) {\n            case keyArrowUp:\n                e.preventDefault();\n                // focus up one row\n                this.focusOnCell(this.focusRowIndex - 1, this.focusColumnIndex, true);\n                break;\n            case keyArrowDown:\n                e.preventDefault();\n                // focus down one row\n                this.focusOnCell(this.focusRowIndex + 1, this.focusColumnIndex, true);\n                break;\n            case keyPageUp:\n                e.preventDefault();\n                if (this.rowElements.length === 0) {\n                    this.focusOnCell(0, 0, false);\n                    break;\n                }\n                if (this.focusRowIndex === 0) {\n                    this.focusOnCell(0, this.focusColumnIndex, false);\n                    return;\n                }\n                newFocusRowIndex = this.focusRowIndex - 1;\n                for (newFocusRowIndex; newFocusRowIndex >= 0; newFocusRowIndex--) {\n                    const thisRow = this.rowElements[newFocusRowIndex];\n                    if (thisRow.offsetTop < this.scrollTop) {\n                        this.scrollTop =\n                            thisRow.offsetTop + thisRow.clientHeight - this.clientHeight;\n                        break;\n                    }\n                }\n                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, false);\n                break;\n            case keyPageDown:\n                e.preventDefault();\n                if (this.rowElements.length === 0) {\n                    this.focusOnCell(0, 0, false);\n                    break;\n                }\n                // focus down one \"page\"\n                if (this.focusRowIndex >= maxIndex ||\n                    lastRow.offsetTop + lastRow.offsetHeight <= currentGridBottom) {\n                    this.focusOnCell(maxIndex, this.focusColumnIndex, false);\n                    return;\n                }\n                newFocusRowIndex = this.focusRowIndex + 1;\n                for (newFocusRowIndex; newFocusRowIndex <= maxIndex; newFocusRowIndex++) {\n                    const thisRow = this.rowElements[newFocusRowIndex];\n                    if (thisRow.offsetTop + thisRow.offsetHeight > currentGridBottom) {\n                        let stickyHeaderOffset = 0;\n                        if (this.generateHeader === GenerateHeaderOptions.sticky &&\n                            this.generatedHeader !== null) {\n                            stickyHeaderOffset = this.generatedHeader.clientHeight;\n                        }\n                        this.scrollTop = thisRow.offsetTop - stickyHeaderOffset;\n                        break;\n                    }\n                }\n                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, false);\n                break;\n            case keyHome:\n                if (e.ctrlKey) {\n                    e.preventDefault();\n                    // focus first cell of first row\n                    this.focusOnCell(0, 0, true);\n                }\n                break;\n            case keyEnd:\n                if (e.ctrlKey && this.columnDefinitions !== null) {\n                    e.preventDefault();\n                    // focus last cell of last row\n                    this.focusOnCell(this.rowElements.length - 1, this.columnDefinitions.length - 1, true);\n                }\n                break;\n        }\n    }\n    queueFocusUpdate() {\n        if (this.isUpdatingFocus &&\n            (this.contains(document.activeElement) || this === document.activeElement)) {\n            return;\n        }\n        if (this.pendingFocusUpdate === false) {\n            this.pendingFocusUpdate = true;\n            DOM.queueUpdate(() => this.updateFocus());\n        }\n    }\n    updateFocus() {\n        this.pendingFocusUpdate = false;\n        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, true);\n    }\n    toggleGeneratedHeader() {\n        if (this.generatedHeader !== null) {\n            this.removeChild(this.generatedHeader);\n            this.generatedHeader = null;\n        }\n        if (this.generateHeader !== GenerateHeaderOptions.none &&\n            this.rowsData.length > 0) {\n            const generatedHeaderElement = document.createElement(this.rowElementTag);\n            this.generatedHeader = generatedHeaderElement;\n            this.generatedHeader.columnDefinitions = this.columnDefinitions;\n            this.generatedHeader.gridTemplateColumns = this.gridTemplateColumns;\n            this.generatedHeader.rowType =\n                this.generateHeader === GenerateHeaderOptions.sticky\n                    ? DataGridRowTypes.stickyHeader\n                    : DataGridRowTypes.header;\n            if (this.firstChild !== null || this.rowsPlaceholder !== null) {\n                this.insertBefore(generatedHeaderElement, this.firstChild !== null ? this.firstChild : this.rowsPlaceholder);\n            }\n            return;\n        }\n    }\n}\n/**\n *  generates a basic column definition by examining sample row data\n */\nDataGrid.generateColumns = (row) => {\n    return Object.getOwnPropertyNames(row).map((property, index) => {\n        return {\n            columnDataKey: property,\n            gridColumn: `${index}`,\n        };\n    });\n};\n__decorate([\n    attr({ attribute: \"no-tabbing\", mode: \"boolean\" })\n], DataGrid.prototype, \"noTabbing\", void 0);\n__decorate([\n    attr({ attribute: \"generate-header\" })\n], DataGrid.prototype, \"generateHeader\", void 0);\n__decorate([\n    attr({ attribute: \"grid-template-columns\" })\n], DataGrid.prototype, \"gridTemplateColumns\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"rowsData\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"columnDefinitions\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"rowItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"cellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"headerCellItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"focusRowIndex\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"focusColumnIndex\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"defaultRowItemTemplate\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"rowElementTag\", void 0);\n__decorate([\n    observable\n], DataGrid.prototype, \"rowElements\", void 0);\n","import { html, repeat, when } from \"@microsoft/fast-element\";\nimport { endTemplate, startTemplate } from \"../patterns/start-end.js\";\nimport { DataGrid, DataGridCell, DataGridRow } from \"../data-grid/index.js\";\n/**\n * A basic Calendar title template that includes the month and year\n * @returns - A calendar title template\n * @public\n */\nexport const CalendarTitleTemplate = html `\n    <div\n        class=\"title\"\n        part=\"title\"\n        aria-label=\"${(x) => x.dateFormatter.getDate(`${x.month}-2-${x.year}`, {\n    month: \"long\",\n    year: \"numeric\",\n})}\"\n    >\n        <span part=\"month\">\n            ${(x) => x.dateFormatter.getMonth(x.month)}\n        </span>\n        <span part=\"year\">${(x) => x.dateFormatter.getYear(x.year)}</span>\n    </div>\n`;\n/**\n * Calendar weekday label template\n * @returns - The weekday labels template\n * @public\n */\nexport const calendarWeekdayTemplate = context => {\n    const cellTag = context.tagFor(DataGridCell);\n    return html `\n        <${cellTag}\n            class=\"week-day\"\n            part=\"week-day\"\n            tabindex=\"-1\"\n            grid-column=\"${(x, c) => c.index + 1}\"\n            abbr=\"${x => x.abbr}\"\n        >\n            ${x => x.text}\n        </${cellTag}>\n    `;\n};\n/**\n * A calendar day template\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param todayString - A string representation for todays date\n * @returns - A calendar cell template for a given date\n * @public\n */\nexport const calendarCellTemplate = (context, todayString) => {\n    const cellTag = context.tagFor(DataGridCell);\n    return html `\n        <${cellTag}\n            class=\"${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}\"\n            part=\"day\"\n            tabindex=\"-1\"\n            role=\"gridcell\"\n            grid-column=\"${(x, c) => c.index + 1}\"\n            @click=\"${(x, c) => c.parentContext.parent.handleDateSelect(c.event, x)}\"\n            @keydown=\"${(x, c) => c.parentContext.parent.handleKeydown(c.event, x)}\"\n            aria-label=\"${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: \"long\", day: \"numeric\" })}\"\n        >\n            <div\n                class=\"date\"\n                part=\"${x => todayString === `${x.month}-${x.day}-${x.year}` ? \"today\" : \"date\"}\"\n            >\n                ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}\n            </div>\n            <slot name=\"${x => x.month}-${x => x.day}-${x => x.year}\"></slot>\n        </${cellTag}>\n    `;\n};\n/**\n *\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param todayString - A string representation for todays date\n * @returns - A template for a week of days\n * @public\n */\nexport const calendarRowTemplate = (context, todayString) => {\n    const rowTag = context.tagFor(DataGridRow);\n    return html `\n        <${rowTag}\n            class=\"week\"\n            part=\"week\"\n            role=\"row\"\n            role-type=\"default\"\n            grid-template-columns=\"1fr 1fr 1fr 1fr 1fr 1fr 1fr\"\n        >\n        ${repeat(x => x, calendarCellTemplate(context, todayString), {\n        positioning: true,\n    })}\n        </${rowTag}>\n    `;\n};\n/**\n * Interactive template using DataGrid\n * @param context - The templates context\n * @param todayString - string representation of todays date\n * @returns - interactive calendar template\n *\n * @internal\n */\nexport const interactiveCalendarGridTemplate = (context, todayString) => {\n    const gridTag = context.tagFor(DataGrid);\n    const rowTag = context.tagFor(DataGridRow);\n    return html `\n    <${gridTag} class=\"days interact\" part=\"days\" generate-header=\"none\">\n        <${rowTag}\n            class=\"week-days\"\n            part=\"week-days\"\n            role=\"row\"\n            row-type=\"header\"\n            grid-template-columns=\"1fr 1fr 1fr 1fr 1fr 1fr 1fr\"\n        >\n            ${repeat(x => x.getWeekdayText(), calendarWeekdayTemplate(context), {\n        positioning: true,\n    })}\n        </${rowTag}>\n        ${repeat(x => x.getDays(), calendarRowTemplate(context, todayString))}\n    </${gridTag}>\n`;\n};\n/**\n * Non-interactive calendar template used for a readonly calendar\n * @param todayString - string representation of todays date\n * @returns - non-interactive calendar template\n *\n * @internal\n */\nexport const noninteractiveCalendarTemplate = (todayString) => {\n    return html `\n        <div class=\"days\" part=\"days\">\n            <div class=\"week-days\" part=\"week-days\">\n                ${repeat(x => x.getWeekdayText(), html `\n                        <div class=\"week-day\" part=\"week-day\" abbr=\"${x => x.abbr}\">\n                            ${x => x.text}\n                        </div>\n                    `)}\n            </div>\n            ${repeat(x => x.getDays(), html `\n                    <div class=\"week\">\n                        ${repeat(x => x, html `\n                                <div\n                                    class=\"${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}\"\n                                    part=\"day\"\n                                    aria-label=\"${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: \"long\", day: \"numeric\" })}\"\n                                >\n                                    <div\n                                        class=\"date\"\n                                        part=\"${x => todayString ===\n        `${x.month}-${x.day}-${x.year}`\n        ? \"today\"\n        : \"date\"}\"\n                                    >\n                                        ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}\n                                    </div>\n                                    <slot\n                                        name=\"${x => x.month}-${x => x.day}-${x => x.year}\"\n                                    ></slot>\n                                </div>\n                            `)}\n                    </div>\n                `)}\n        </div>\n    `;\n};\n/**\n * The template for the {@link @microsoft/fast-foundation#(Calendar:class)} component.\n *\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param definition - Foundation element definition\n * @returns - a template for a calendar month\n * @public\n */\nexport const calendarTemplate = (context, definition) => {\n    var _a;\n    const today = new Date();\n    const todayString = `${today.getMonth() + 1}-${today.getDate()}-${today.getFullYear()}`;\n    return html `\n        <template>\n            ${startTemplate}\n            ${definition.title instanceof Function\n        ? definition.title(context, definition)\n        : (_a = definition.title) !== null && _a !== void 0 ? _a : \"\"}\n            <slot></slot>\n            ${when(x => x.readonly, noninteractiveCalendarTemplate(todayString), interactiveCalendarGridTemplate(context, todayString))}\n            ${endTemplate}\n        </template>\n    `;\n};\n","import { css } from \"@microsoft/fast-element\";\nimport { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';\nimport { SystemColors } from '@microsoft/fast-web-utilities';\nimport { accentFillRest, baseHeightMultiplier, controlCornerRadius, density, designUnit, fillColor, foregroundOnAccentRest, neutralForegroundHint, neutralForegroundRest, strokeWidth, } from '../design-tokens';\nimport { DirectionalStyleSheetBehavior } from '../styles';\nimport { typeRampBase } from '../styles/patterns/type-ramp';\n/**\n * LTR styles for calendar\n * @internal\n */\nconst ltrStyles = css `\n.day.disabled::before {\n  transform: translate(-50%, 0) rotate(45deg);\n}\n`;\n/**\n * RTL styles for calendar\n * @internal\n */\nconst rtlStyles = css `\n.day.disabled::before {\n  transform: translate(50%, 0) rotate(-45deg);\n}\n`;\n/**\n * Styles for calendar\n * @public\n */\nexport const calendarStyles = (context, definition) => css `\n${display(\"inline-block\")} :host {\n  --calendar-cell-size: calc((${baseHeightMultiplier} + 2 + ${density}) * ${designUnit} * 1px);\n  --calendar-gap: 2px;\n  ${typeRampBase}\n  color: ${neutralForegroundRest};\n}\n\n.title {\n  padding: calc(${designUnit} * 2px);\n  font-weight: 600;\n}\n\n.days {\n  text-align: center;\n}\n\n.week-days,\n.week {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-gap: var(--calendar-gap);\n  border: 0;\n  padding: 0;\n}\n\n.day,\n.week-day {\n  border: 0;\n  width: var(--calendar-cell-size);\n  height: var(--calendar-cell-size);\n  line-height: var(--calendar-cell-size);\n  padding: 0;\n  box-sizing: initial;\n}\n\n.week-day {\n  font-weight: 600;\n}\n\n.day {\n  border: calc(${strokeWidth} * 1px) solid transparent;\n  border-radius: calc(${controlCornerRadius} * 1px);\n}\n\n.interact .day {\n  cursor: pointer;\n}\n\n.date {\n  height: 100%;\n}\n\n.inactive .date,\n.inactive.disabled::before {\n  color: ${neutralForegroundHint};\n}\n\n.disabled::before {\n  content: '';\n  display: inline-block;\n  width: calc(var(--calendar-cell-size) * .8);\n  height: calc(${strokeWidth} * 1px);\n  background: currentColor;\n  position: absolute;\n  margin-top: calc(var(--calendar-cell-size) / 2);\n  transform-origin: center;\n  z-index: 1;\n}\n\n.selected {\n  color: ${accentFillRest};\n  border: 1px solid ${accentFillRest};\n  background: ${fillColor};\n}\n\n.selected + .selected {\n  border-start-start-radius: 0;\n  border-end-start-radius: 0;\n  border-inline-start-width: 0;\n  padding-inline-start: calc(var(--calendar-gap) + (${strokeWidth} + ${controlCornerRadius}) * 1px);\n  margin-inline-start: calc((${controlCornerRadius} * -1px) - var(--calendar-gap));\n}\n\n.today.disabled::before {\n  color: ${foregroundOnAccentRest};\n}\n\n.today .date {\n  color: ${foregroundOnAccentRest};\n  background: ${accentFillRest};\n  border-radius: 50%;\n  position: relative;\n}\n`.withBehaviors(forcedColorsStylesheetBehavior(css `\n          .day.selected {\n              color: ${SystemColors.Highlight};\n          }\n\n          .today .date {\n              background: ${SystemColors.Highlight};\n              color: ${SystemColors.HighlightText};\n          }\n      `), new DirectionalStyleSheetBehavior(ltrStyles, rtlStyles));\n","import { __decorate } from \"tslib\";\nimport { attr, booleanConverter } from '@microsoft/fast-element';\nimport { CalendarTitleTemplate, Calendar as FoundationCalendar, calendarTemplate as template, } from '@microsoft/fast-foundation';\nimport { calendarStyles as styles } from './calendar.styles';\n/**\n * Updated Calendar class that is readonly by default\n */\nexport class Calendar extends FoundationCalendar {\n    constructor() {\n        super(...arguments);\n        this.readonly = true;\n    }\n}\n__decorate([\n    attr({ converter: booleanConverter })\n], Calendar.prototype, \"readonly\", void 0);\n/**\n * The Fluent Calendar Element. Implements {@link @microsoft/fast-foundation#Calendar},\n * {@link @microsoft/fast-foundation#calendarTemplate}\n *\n * @public\n * @remarks\n * HTML Element \\<fluent-calendar\\>\n */\nexport const fluentCalendar = Calendar.compose({\n    baseName: 'calendar',\n    template,\n    styles,\n    title: CalendarTitleTemplate,\n});\nexport { styles as calendarStyles };\n","import { CheckableFormAssociated } from \"../form-associated/form-associated.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nclass _Checkbox extends FoundationElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.\n *\n * @internal\n */\nexport class FormAssociatedCheckbox extends CheckableFormAssociated(_Checkbox) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n","import { __decorate } from \"tslib\";\nimport { attr, observable } from \"@microsoft/fast-element\";\nimport { keySpace } from \"@microsoft/fast-web-utilities\";\nimport { FormAssociatedCheckbox } from \"./checkbox.form-associated.js\";\n/**\n * A Checkbox Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#checkbox | ARIA checkbox }.\n *\n * @slot checked-indicator - The checked indicator\n * @slot indeterminate-indicator - The indeterminate indicator\n * @slot - The default slot for the label\n * @csspart control - The element representing the visual checkbox control\n * @csspart label - The label\n * @fires change - Emits a custom change event when the checked state changes\n *\n * @public\n */\nexport class Checkbox extends FormAssociatedCheckbox {\n    constructor() {\n        super();\n        /**\n         * The element's value to be included in form submission when checked.\n         * Default to \"on\" to reach parity with input[type=\"checkbox\"]\n         *\n         * @internal\n         */\n        this.initialValue = \"on\";\n        /**\n         * The indeterminate state of the control\n         */\n        this.indeterminate = false;\n        /**\n         * @internal\n         */\n        this.keypressHandler = (e) => {\n            if (this.readOnly) {\n                return;\n            }\n            switch (e.key) {\n                case keySpace:\n                    if (this.indeterminate) {\n                        this.indeterminate = false;\n                    }\n                    this.checked = !this.checked;\n                    break;\n            }\n        };\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            if (!this.disabled && !this.readOnly) {\n                if (this.indeterminate) {\n                    this.indeterminate = false;\n                }\n                this.checked = !this.checked;\n            }\n        };\n        this.proxy.setAttribute(\"type\", \"checkbox\");\n    }\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.readOnly = this.readOnly;\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], Checkbox.prototype, \"readOnly\", void 0);\n__decorate([\n    observable\n], Checkbox.prototype, \"defaultSlottedNodes\", void 0);\n__decorate([\n    observable\n], Checkbox.prototype, \"indeterminate\", void 0);\n","import { Checkbox, checkboxTemplate as template } from '@microsoft/fast-foundation';\nimport { checkboxStyles as styles } from './checkbox.styles';\n/**\n * The Fluent Checkbox Element. Implements {@link @microsoft/fast-foundation#Checkbox},\n * {@link @microsoft/fast-foundation#checkboxTemplate}\n *\n *\n * @public\n * @remarks\n * HTML Element: \\<fluent-checkbox\\>\n */\nexport const fluentCheckbox = Checkbox.compose({\n    baseName: 'checkbox',\n    template,\n    styles,\n    checkedIndicator: `\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M13.86 3.66a.5.5 0 01-.02.7l-7.93 7.48a.6.6 0 01-.84-.02L2.4 9.1a.5.5 0 01.72-.7l2.4 2.44 7.65-7.2a.5.5 0 01.7.02z\"/>\n    </svg>\n  `,\n    indeterminateIndicator: `\n    <svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M3 8c0-.28.22-.5.5-.5h9a.5.5 0 010 1h-9A.5.5 0 013 8z\"/>\n    </svg>\n  `,\n});\n/**\n * Styles for Checkbox\n * @public\n */\nexport const checkboxStyles = styles;\n","import { html, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.\n * @public\n */\nexport const checkboxTemplate = (context, definition) => html `\n    <template\n        role=\"checkbox\"\n        aria-checked=\"${x => x.checked}\"\n        aria-required=\"${x => x.required}\"\n        aria-disabled=\"${x => x.disabled}\"\n        aria-readonly=\"${x => x.readOnly}\"\n        tabindex=\"${x => (x.disabled ? null : 0)}\"\n        @keypress=\"${(x, c) => x.keypressHandler(c.event)}\"\n        @click=\"${(x, c) => x.clickHandler(c.event)}\"\n        class=\"${x => (x.readOnly ? \"readonly\" : \"\")} ${x => x.checked ? \"checked\" : \"\"} ${x => (x.indeterminate ? \"indeterminate\" : \"\")}\"\n    >\n        <div part=\"control\" class=\"control\">\n            <slot name=\"checked-indicator\">\n                ${definition.checkedIndicator || \"\"}\n            </slot>\n            <slot name=\"indeterminate-indicator\">\n                ${definition.indeterminateIndicator || \"\"}\n            </slot>\n        </div>\n        <label\n            part=\"label\"\n            class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n    ? \"label\"\n    : \"label label__hidden\"}\"\n        >\n            <slot ${slotted(\"defaultSlottedNodes\")}></slot>\n        </label>\n    </template>\n`;\n","import { css } from '@microsoft/fast-element';\nimport { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior, } from '@microsoft/fast-foundation';\nimport { SystemColors } from '@microsoft/fast-web-utilities';\nimport { heightNumber } from '../styles';\nimport { accentFillActive, accentFillHover, accentFillRest, controlCornerRadius, designUnit, disabledOpacity, foregroundOnAccentRest, neutralFillInputAltActive, neutralFillInputAltFocus, neutralFillInputAltHover, neutralFillInputAltRest, neutralForegroundRest, neutralStrokeStrongActive, neutralStrokeStrongHover, neutralStrokeStrongRest, strokeWidth, } from '../design-tokens';\nimport { typeRampBase } from '../styles/patterns/type-ramp';\nimport { focusTreatmentTight } from '../styles/focus';\nexport const checkboxStyles = (context, definition) => css `\n    ${display('inline-flex')} :host {\n      align-items: center;\n      outline: none;\n      ${\n/*\n * Chromium likes to select label text or the default slot when\n * the checkbox is clicked. Maybe there is a better solution here?\n */ ''} user-select: none;\n    }\n\n    .control {\n      position: relative;\n      width: calc((${heightNumber} / 2 + ${designUnit}) * 1px);\n      height: calc((${heightNumber} / 2 + ${designUnit}) * 1px);\n      box-sizing: border-box;\n      border-radius: calc(${controlCornerRadius} * 1px);\n      border: calc(${strokeWidth} * 1px) solid ${neutralStrokeStrongRest};\n      background: ${neutralFillInputAltRest};\n      cursor: pointer;\n    }\n\n    .label__hidden {\n      display: none;\n      visibility: hidden;\n    }\n\n    .label {\n      ${typeRampBase}\n      color: ${neutralForegroundRest};\n      ${\n/* Need to discuss with Brian how HorizontalSpacingNumber can work. https://github.com/microsoft/fast/issues/2766 */ ''} padding-inline-start: calc(${designUnit} * 2px + 2px);\n      margin-inline-end: calc(${designUnit} * 2px + 2px);\n      cursor: pointer;\n    }\n\n    slot[name='checked-indicator'],\n    slot[name='indeterminate-indicator'] {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 100%;\n      fill: ${neutralForegroundRest};\n      opacity: 0;\n      pointer-events: none;\n    }\n\n    slot[name='indeterminate-indicator'] {\n      position: absolute;\n      top: 0;\n    }\n\n    :host(.checked) slot[name='checked-indicator'],\n    :host(.checked) slot[name='indeterminate-indicator'] {\n      fill: ${foregroundOnAccentRest};\n    }\n\n    :host(:not(.disabled):hover) .control {\n      background: ${neutralFillInputAltHover};\n      border-color: ${neutralStrokeStrongHover};\n    }\n\n    :host(:not(.disabled):active) .control {\n      background: ${neutralFillInputAltActive};\n      border-color: ${neutralStrokeStrongActive};\n    }\n\n    :host(:${focusVisible}) .control {\n      background: ${neutralFillInputAltFocus};\n      ${focusTreatmentTight}\n    }\n\n    :host(.checked) .control {\n      background: ${accentFillRest};\n      border-color: transparent;\n    }\n\n    :host(.checked:not(.disabled):hover) .control {\n      background: ${accentFillHover};\n      border-color: transparent;\n    }\n\n    :host(.checked:not(.disabled):active) .control {\n      background: ${accentFillActive};\n      border-color: transparent;\n    }\n\n    :host(.disabled) .label,\n    :host(.readonly) .label,\n    :host(.readonly) .control,\n    :host(.disabled) .control {\n      cursor: ${disabledCursor};\n    }\n\n    :host(.checked:not(.indeterminate)) slot[name='checked-indicator'],\n    :host(.indeterminate) slot[name='indeterminate-indicator'] {\n      opacity: 1;\n    }\n\n    :host(.disabled) {\n      opacity: ${disabledOpacity};\n    }\n  `.withBehaviors(forcedColorsStylesheetBehavior(css `\n        .control {\n          border-color: ${SystemColors.FieldText};\n          background: ${SystemColors.Field};\n        }\n        :host(:not(.disabled):hover) .control,\n        :host(:not(.disabled):active) .control {\n          border-color: ${SystemColors.Highlight};\n          background: ${SystemColors.Field};\n        }\n        slot[name='checked-indicator'],\n        slot[name='indeterminate-indicator'] {\n          fill: ${SystemColors.FieldText};\n        }\n        :host(:${focusVisible}) .control {\n          forced-color-adjust: none;\n          outline-color: ${SystemColors.FieldText};\n          background: ${SystemColors.Field};\n          border-color: ${SystemColors.Highlight};\n        }\n        :host(.checked) .control {\n          background: ${SystemColors.Highlight};\n          border-color: ${SystemColors.Highlight};\n        }\n        :host(.checked:not(.disabled):hover) .control,\n        :host(.checked:not(.disabled):active) .control {\n          background: ${SystemColors.HighlightText};\n          border-color: ${SystemColors.Highlight};\n        }\n        :host(.checked) slot[name='checked-indicator'],\n        :host(.checked) slot[name='indeterminate-indicator'] {\n          fill: ${SystemColors.HighlightText};\n        }\n        :host(.checked:hover ) .control slot[name='checked-indicator'],\n        :host(.checked:hover ) .control slot[name='indeterminate-indicator'] {\n          fill: ${SystemColors.Highlight};\n        }\n        :host(.disabled) {\n          opacity: 1;\n        }\n        :host(.disabled) .control {\n          border-color: ${SystemColors.GrayText};\n          background: ${SystemColors.Field};\n        }\n        :host(.disabled) slot[name='checked-indicator'],\n        :host(.checked.disabled:hover) .control slot[name='checked-indicator'],\n        :host(.disabled) slot[name='indeterminate-indicator'],\n        :host(.checked.disabled:hover) .control slot[name='indeterminate-indicator'] {\n          fill: ${SystemColors.GrayText};\n        }\n      `));\n","import { __decorate } from \"tslib\";\nimport { attr, observable } from \"@microsoft/fast-element\";\nimport { ArrowKeys, Direction, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnter, Orientation, } from \"@microsoft/fast-web-utilities\";\nimport { getDirection } from \"../utilities/direction.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * An Radio Group Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radiogroup | ARIA radiogroup }.\n *\n * @slot label - The slot for the label\n * @slot - The default slot for radio buttons\n * @csspart positioning-region - The positioning region for laying out the radios\n * @fires change - Fires a custom 'change' event when the value changes\n *\n * @public\n */\nexport class RadioGroup extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The orientation of the group\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = Orientation.horizontal;\n        this.radioChangeHandler = (e) => {\n            const changedRadio = e.target;\n            if (changedRadio.checked) {\n                this.slottedRadioButtons.forEach((radio) => {\n                    if (radio !== changedRadio) {\n                        radio.checked = false;\n                        if (!this.isInsideFoundationToolbar) {\n                            radio.setAttribute(\"tabindex\", \"-1\");\n                        }\n                    }\n                });\n                this.selectedRadio = changedRadio;\n                this.value = changedRadio.value;\n                changedRadio.setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio = changedRadio;\n            }\n            e.stopPropagation();\n        };\n        this.moveToRadioByIndex = (group, index) => {\n            const radio = group[index];\n            if (!this.isInsideToolbar) {\n                radio.setAttribute(\"tabindex\", \"0\");\n                if (radio.readOnly) {\n                    this.slottedRadioButtons.forEach((nextRadio) => {\n                        if (nextRadio !== radio) {\n                            nextRadio.setAttribute(\"tabindex\", \"-1\");\n                        }\n                    });\n                }\n                else {\n                    radio.checked = true;\n                    this.selectedRadio = radio;\n                }\n            }\n            this.focusedRadio = radio;\n            radio.focus();\n        };\n        this.moveRightOffGroup = () => {\n            var _a;\n            (_a = this.nextElementSibling) === null || _a === void 0 ? void 0 : _a.focus();\n        };\n        this.moveLeftOffGroup = () => {\n            var _a;\n            (_a = this.previousElementSibling) === null || _a === void 0 ? void 0 : _a.focus();\n        };\n        /**\n         * @internal\n         */\n        this.focusOutHandler = (e) => {\n            const group = this.slottedRadioButtons;\n            const radio = e.target;\n            const index = radio !== null ? group.indexOf(radio) : 0;\n            const focusedIndex = this.focusedRadio\n                ? group.indexOf(this.focusedRadio)\n                : -1;\n            if ((focusedIndex === 0 && index === focusedIndex) ||\n                (focusedIndex === group.length - 1 && focusedIndex === index)) {\n                if (!this.selectedRadio) {\n                    this.focusedRadio = group[0];\n                    this.focusedRadio.setAttribute(\"tabindex\", \"0\");\n                    group.forEach((nextRadio) => {\n                        if (nextRadio !== this.focusedRadio) {\n                            nextRadio.setAttribute(\"tabindex\", \"-1\");\n                        }\n                    });\n                }\n                else {\n                    this.focusedRadio = this.selectedRadio;\n                    if (!this.isInsideFoundationToolbar) {\n                        this.selectedRadio.setAttribute(\"tabindex\", \"0\");\n                        group.forEach((nextRadio) => {\n                            if (nextRadio !== this.selectedRadio) {\n                                nextRadio.setAttribute(\"tabindex\", \"-1\");\n                            }\n                        });\n                    }\n                }\n            }\n            return true;\n        };\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            const radio = e.target;\n            if (radio) {\n                const group = this.slottedRadioButtons;\n                if (radio.checked || group.indexOf(radio) === 0) {\n                    radio.setAttribute(\"tabindex\", \"0\");\n                    this.selectedRadio = radio;\n                }\n                else {\n                    radio.setAttribute(\"tabindex\", \"-1\");\n                    this.selectedRadio = null;\n                }\n                this.focusedRadio = radio;\n            }\n            e.preventDefault();\n        };\n        this.shouldMoveOffGroupToTheRight = (index, group, key) => {\n            return index === group.length && this.isInsideToolbar && key === keyArrowRight;\n        };\n        this.shouldMoveOffGroupToTheLeft = (group, key) => {\n            const index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;\n            return index < 0 && this.isInsideToolbar && key === keyArrowLeft;\n        };\n        this.checkFocusedRadio = () => {\n            if (this.focusedRadio !== null &&\n                !this.focusedRadio.readOnly &&\n                !this.focusedRadio.checked) {\n                this.focusedRadio.checked = true;\n                this.focusedRadio.setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio.focus();\n                this.selectedRadio = this.focusedRadio;\n            }\n        };\n        this.moveRight = (e) => {\n            const group = this.slottedRadioButtons;\n            let index = 0;\n            index = this.focusedRadio ? group.indexOf(this.focusedRadio) + 1 : 1;\n            if (this.shouldMoveOffGroupToTheRight(index, group, e.key)) {\n                this.moveRightOffGroup();\n                return;\n            }\n            else if (index === group.length) {\n                index = 0;\n            }\n            /* looping to get to next radio that is not disabled */\n            /* matching native radio/radiogroup which does not select an item if there is only 1 in the group */\n            while (index < group.length && group.length > 1) {\n                if (!group[index].disabled) {\n                    this.moveToRadioByIndex(group, index);\n                    break;\n                }\n                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {\n                    break;\n                }\n                else if (index + 1 >= group.length) {\n                    if (this.isInsideToolbar) {\n                        break;\n                    }\n                    else {\n                        index = 0;\n                    }\n                }\n                else {\n                    index += 1;\n                }\n            }\n        };\n        this.moveLeft = (e) => {\n            const group = this.slottedRadioButtons;\n            let index = 0;\n            index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;\n            index = index < 0 ? group.length - 1 : index;\n            if (this.shouldMoveOffGroupToTheLeft(group, e.key)) {\n                this.moveLeftOffGroup();\n                return;\n            }\n            /* looping to get to next radio that is not disabled */\n            while (index >= 0 && group.length > 1) {\n                if (!group[index].disabled) {\n                    this.moveToRadioByIndex(group, index);\n                    break;\n                }\n                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {\n                    break;\n                }\n                else if (index - 1 < 0) {\n                    index = group.length - 1;\n                }\n                else {\n                    index -= 1;\n                }\n            }\n        };\n        /**\n         * keyboard handling per https://w3c.github.io/aria-practices/#for-radio-groups-not-contained-in-a-toolbar\n         * navigation is different when there is an ancestor with role='toolbar'\n         *\n         * @internal\n         */\n        this.keydownHandler = (e) => {\n            const key = e.key;\n            if (key in ArrowKeys && this.isInsideFoundationToolbar) {\n                return true;\n            }\n            switch (key) {\n                case keyEnter: {\n                    this.checkFocusedRadio();\n                    break;\n                }\n                case keyArrowRight:\n                case keyArrowDown: {\n                    if (this.direction === Direction.ltr) {\n                        this.moveRight(e);\n                    }\n                    else {\n                        this.moveLeft(e);\n                    }\n                    break;\n                }\n                case keyArrowLeft:\n                case keyArrowUp: {\n                    if (this.direction === Direction.ltr) {\n                        this.moveLeft(e);\n                    }\n                    else {\n                        this.moveRight(e);\n                    }\n                    break;\n                }\n                default: {\n                    return true;\n                }\n            }\n        };\n    }\n    readOnlyChanged() {\n        if (this.slottedRadioButtons !== undefined) {\n            this.slottedRadioButtons.forEach((radio) => {\n                if (this.readOnly) {\n                    radio.readOnly = true;\n                }\n                else {\n                    radio.readOnly = false;\n                }\n            });\n        }\n    }\n    disabledChanged() {\n        if (this.slottedRadioButtons !== undefined) {\n            this.slottedRadioButtons.forEach((radio) => {\n                if (this.disabled) {\n                    radio.disabled = true;\n                }\n                else {\n                    radio.disabled = false;\n                }\n            });\n        }\n    }\n    nameChanged() {\n        if (this.slottedRadioButtons) {\n            this.slottedRadioButtons.forEach((radio) => {\n                radio.setAttribute(\"name\", this.name);\n            });\n        }\n    }\n    valueChanged() {\n        if (this.slottedRadioButtons) {\n            this.slottedRadioButtons.forEach((radio) => {\n                if (radio.value === this.value) {\n                    radio.checked = true;\n                    this.selectedRadio = radio;\n                }\n            });\n        }\n        this.$emit(\"change\");\n    }\n    slottedRadioButtonsChanged(oldValue, newValue) {\n        if (this.slottedRadioButtons && this.slottedRadioButtons.length > 0) {\n            this.setupRadioButtons();\n        }\n    }\n    get parentToolbar() {\n        return this.closest('[role=\"toolbar\"]');\n    }\n    get isInsideToolbar() {\n        var _a;\n        return ((_a = this.parentToolbar) !== null && _a !== void 0 ? _a : false);\n    }\n    get isInsideFoundationToolbar() {\n        var _a;\n        return !!((_a = this.parentToolbar) === null || _a === void 0 ? void 0 : _a[\"$fastController\"]);\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.direction = getDirection(this);\n        this.setupRadioButtons();\n    }\n    disconnectedCallback() {\n        this.slottedRadioButtons.forEach((radio) => {\n            radio.removeEventListener(\"change\", this.radioChangeHandler);\n        });\n    }\n    setupRadioButtons() {\n        const checkedRadios = this.slottedRadioButtons.filter((radio) => {\n            return radio.hasAttribute(\"checked\");\n        });\n        const numberOfCheckedRadios = checkedRadios ? checkedRadios.length : 0;\n        if (numberOfCheckedRadios > 1) {\n            const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];\n            lastCheckedRadio.checked = true;\n        }\n        let foundMatchingVal = false;\n        this.slottedRadioButtons.forEach((radio) => {\n            if (this.name !== undefined) {\n                radio.setAttribute(\"name\", this.name);\n            }\n            if (this.disabled) {\n                radio.disabled = true;\n            }\n            if (this.readOnly) {\n                radio.readOnly = true;\n            }\n            if (this.value && this.value === radio.value) {\n                this.selectedRadio = radio;\n                this.focusedRadio = radio;\n                radio.checked = true;\n                radio.setAttribute(\"tabindex\", \"0\");\n                foundMatchingVal = true;\n            }\n            else {\n                if (!this.isInsideFoundationToolbar) {\n                    radio.setAttribute(\"tabindex\", \"-1\");\n                }\n                radio.checked = false;\n            }\n            radio.addEventListener(\"change\", this.radioChangeHandler);\n        });\n        if (this.value === undefined && this.slottedRadioButtons.length > 0) {\n            const checkedRadios = this.slottedRadioButtons.filter((radio) => {\n                return radio.hasAttribute(\"checked\");\n            });\n            const numberOfCheckedRadios = checkedRadios !== null ? checkedRadios.length : 0;\n            if (numberOfCheckedRadios > 0 && !foundMatchingVal) {\n                const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];\n                lastCheckedRadio.checked = true;\n                this.focusedRadio = lastCheckedRadio;\n                lastCheckedRadio.setAttribute(\"tabindex\", \"0\");\n            }\n            else {\n                this.slottedRadioButtons[0].setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio = this.slottedRadioButtons[0];\n            }\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], RadioGroup.prototype, \"readOnly\", void 0);\n__decorate([\n    attr({ attribute: \"disabled\", mode: \"boolean\" })\n], RadioGroup.prototype, \"disabled\", void 0);\n__decorate([\n    attr\n], RadioGroup.prototype, \"name\", void 0);\n__decorate([\n    attr\n], RadioGroup.prototype, \"value\", void 0);\n__decorate([\n    attr\n], RadioGroup.prototype, \"orientation\", void 0);\n__decorate([\n    observable\n], RadioGroup.prototype, \"childItems\", void 0);\n__decorate([\n    observable\n], RadioGroup.prototype, \"slottedRadioButtons\", void 0);\n","import { RadioGroup, radioGroupTemplate as template } from '@microsoft/fast-foundation';\nimport { radioGroupStyles as styles } from './radio-group.styles';\n/**\n * The Fluent Radio Group Element. Implements {@link @microsoft/fast-foundation#RadioGroup},\n * {@link @microsoft/fast-foundation#radioGroupTemplate}\n *\n *\n * @public\n * @remarks\n * HTML Element: \\<fluent-radio-group\\>\n */\nexport const fluentRadioGroup = RadioGroup.compose({\n    baseName: 'radio-group',\n    template,\n    styles,\n});\n/**\n * Styles for RadioGroup\n * @public\n */\nexport const radioGroupStyles = styles;\n/**\n * Radio group base class\n * @public\n */\nexport { RadioGroup };\n","import { elements, html, slotted } from \"@microsoft/fast-element\";\nimport { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * The template for the {@link @microsoft/fast-foundation#RadioGroup} component.\n * @public\n */\nexport const radioGroupTemplate = (context, definition) => html `\n    <template\n        role=\"radiogroup\"\n        aria-disabled=\"${x => x.disabled}\"\n        aria-readonly=\"${x => x.readOnly}\"\n        @click=\"${(x, c) => x.clickHandler(c.event)}\"\n        @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n        @focusout=\"${(x, c) => x.focusOutHandler(c.event)}\"\n    >\n        <slot name=\"label\"></slot>\n        <div\n            class=\"positioning-region ${x => x.orientation === Orientation.horizontal ? \"horizontal\" : \"vertical\"}\"\n            part=\"positioning-region\"\n        >\n            <slot\n                ${slotted({\n    property: \"slottedRadioButtons\",\n    filter: elements(\"[role=radio]\"),\n})}\n            ></slot>\n        </div>\n    </template>\n`;\n","import { css } from '@microsoft/fast-element';\nimport { display } from '@microsoft/fast-foundation';\nexport const radioGroupStyles = (context, definition) => css `\n  ${display('flex')} :host {\n    align-items: flex-start;\n    flex-direction: column;\n  }\n\n  .positioning-region {\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  :host([orientation='vertical']) .positioning-region {\n    flex-direction: column;\n  }\n\n  :host([orientation='horizontal']) .positioning-region {\n    flex-direction: row;\n  }\n`;\n"],"names":["renderButton_unstable","state","assertSlots","iconOnly","iconPosition","_jsxs","root","children","icon","_jsx","useToolbarSelectableState","_useControllableState","useControllableState","checkedValues","defaultState","defaultCheckedValues","initialState","_useControllableState2","_slicedToArray","setCheckedValues","onCheckedValueChangeOriginal","onCheckedValueChange","useEventCallback","e","_ref","name","checkedItems","s","_objectSpread","_defineProperty","ToolbarContext","createContext","undefined","toolbarClassNames","useStyles","__styles","mc9l5x","Bt984gj","z8tnut","z189sj","Byoj8tv","uwmqm3","vertical","Beiy3e4","a9b677","small","medium","large","d","Toolbar","React","props","ref","_props$size","size","_props$vertical","arrowNavigationProps","useArrowNavigationGroup","circular","axis","components","slot","getIntrinsicElementProps","role","elementType","_useToolbarSelectable","_useToolbarSelectable2","handleToggleButton","value","checked","newCheckedItems","_toConsumableArray","splice","indexOf","push","handleRadio","useToolbar_unstable","contextValues","toolbar","useToolbarContextValues_unstable","styles","className","mergeClasses","useToolbarStyles_unstable","useCustomStyleHook_unstable","Provider","renderToolbar_unstable","displayName","useBaseStyles","verticalIcon","Be2twd7","B6of3ja","t21cq0","jrapky","Frg6f3","ToolbarButton","buttonProps","_objectWithoutProperties","_excluded","useButton_unstable","appearance","useToolbarButton_unstable","useButtonStyles_unstable","buttonStyles","useToolbarButtonStyles_unstable","toolbarGroupClassNames","ToolbarGroup","useToolbarGroup_unstable","useToolbarGroupStyles_unstable","renderToolbarGroup_unstable","DateFormatter","config","_classCallCheck","this","dayFormat","weekdayFormat","monthFormat","yearFormat","date","Date","key","getDateObject","_createClass","dates","split","length","parseInt","day","month","year","arguments","format","weekday","locale","dateObj","getTime","optionsWithTimeZone","Object","assign","timeZone","Intl","DateTimeFormat","resolvedOptions","getDate","getMonth","getFullYear","concat","_this","Array","fill","map","_","getWeekday","Calendar","_FoundationElement","_inherits","_super","_createSuper","apply","dateFormatter","readonly","minWeeks","disabledDates","selectedDates","oneDayInMs","_this2","getFirstDay","getDay","getLength","nextMonth","thisMonth","previousMonth","start","previous","next","info","getMonthInfo","days","dayCount","dateString","disabled","dateInString","selected","target","datesString","str","trim","some","todayString","filter","Boolean","join","weekdayText","getWeekdays","text","longText","forEach","index","abbr","event","preventDefault","$emit","keyEnter","handleDateSelect","FoundationElement","__decorate","attr","mode","prototype","converter","nullableNumberConverter","attribute","newSplice","removed","addedCount","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","calcSplices","current","currentStart","currentEnd","old","oldStart","oldEnd","prefixCount","suffixCount","minLength","Math","min","searchLength","i","sharedPrefix","index1","index2","count","sharedSuffix","emptyArray","ops","distances","j","edits","northWest","west","north","reverse","spliceOperationsFromEditDistances","rowCount","columnCount","calcEditDistances","splices","oldIndex","$push","mergeSplice","start1","end1","start2","end2","inserted","insertionOffset","intersectCount","deleteCount","currentRemoved","prepend","slice","append","offset","projectArraySplices","array","changeRecords","initialSplices","ii","record","createInitialSplices","arrayObservationEnabled","adjustIndex","changeRecord","arrayLength","ArrayObserver","_SubscriberSet","source","call","oldCollection","needsQueue","flush","Reflect","defineProperty","_assertThisInitialized","enumerable","subscriber","_get","_getPrototypeOf","DOM","queueUpdate","finalSplices","notify","SubscriberSet","defaultRepeatOptions","freeze","positioning","recycle","bindWithoutPositioning","view","items","context","bind","bindWithPositioning","childContext","create","RepeatBehavior","location","itemsBinding","isItemsBindingVolatile","templateBinding","isTemplateBindingVolatile","options","views","itemsObserver","originalContext","bindView","itemsBindingObserver","Observable","binding","templateBindingObserver","parent","parentContext","observe","template","observeItems","refreshAllViews","unsubscribe","unbindAllViews","disconnect","args","updateViews","force","oldObserver","newObserver","getNotifier","hasNewObserver","subscribe","leftoverViews","leftoverIndex","availableViews","removeIndex","addIndex","end","removedViews","totalAvailableViews","neighbor","firstChild","insertBefore","dispose","currentContext","templateChanged","itemsLength","viewsLength","HTMLView","disposeContiguousBatch","unbind","RepeatDirective","_HTMLDirective","createPlaceholder","createBlockPlaceholder","setArrayObserverFactory","collection","proto","$fastPatch","pop","shift","sort","unshift","notEmpty","methodCallResult","o","$fastController","addSplice","oldArray","reset","enableArrayObservation","isVolatileBinding","HTMLDirective","repeat","templateOrTemplateBinding","GenerateHeaderOptions","DataGridCellTypes","DataGridRowTypes","defaultCellContentsTemplate","html","_templateObject","_taggedTemplateLiteral","x","rowData","columnDefinition","columnDataKey","defaultHeaderCellContentsTemplate","_templateObject2","title","DataGridCell","cellType","isActiveCell","customCellView","updateCellStyle","style","gridColumn","isConnected","updateCellView","oldValue","newValue","_a","addEventListener","eventFocusIn","handleFocusin","eventFocusOut","handleFocusout","eventKeyDown","handleKeydown","removeEventListener","disconnectCellView","headerCellInternalFocusQueue","headerCellFocusTargetCallback","focusTarget","focus","cellInternalFocusQueue","cellFocusTargetCallback","document","activeElement","contains","defaultPrevented","keyFunction2","keyEscape","headerCellTemplate","render","cellTemplate","observable","DataGridRow","rowType","columnDefinitions","isActiveRow","cellsRepeatBehavior","cellsPlaceholder","focusColumnIndex","refocusOnLoad","updateRowStyle","gridTemplateColumns","updateItemTemplate","createComment","appendChild","activeCellItemTemplate","createBehavior","addBehaviors","handleCellFocus","cellElements","newFocusColumnIndex","keyArrowLeft","max","keyArrowRight","keyHome","ctrlKey","keyEnd","cellItemTemplate","defaultCellItemTemplate","headerCellItemTemplate","defaultHeaderCellItemTemplate","DataGrid","noTabbing","generateHeader","rowsData","focusRowIndex","rowsPlaceholder","generatedHeader","isUpdatingFocus","pendingFocusUpdate","rowindexUpdateQueued","columnDefinitionsStale","generatedGridTemplateColumns","focusOnCell","rowIndex","columnIndex","scrollIntoView","rowElements","cells","querySelectorAll","scrollHeight","clientHeight","scrollTop","block","inline","onChildListChange","mutations","observer","mutation","addedNodes","newNode","nodeType","getAttribute","queueRowIndexUpdate","updateRowIndexes","newGridTemplateColumns","firstRow","element","thisRow","setAttribute","toggleGeneratedHeader","generateColumns","generateTemplateColumns","queueFocusUpdate","rowItemTemplate","defaultRowItemTemplate","rowsRepeatBehavior","handleRowFocus","eventFocus","handleFocus","handleFocusOut","MutationObserver","childList","focusRow","relatedTarget","newFocusRowIndex","maxIndex","currentGridBottom","offsetHeight","lastRow","keyArrowUp","keyArrowDown","keyPageUp","offsetTop","keyPageDown","stickyHeaderOffset","updateFocus","removeChild","generatedHeaderElement","createElement","rowElementTag","templateColumns","column","row","getOwnPropertyNames","property","CalendarTitleTemplate","getYear","calendarRowTemplate","rowTag","tagFor","_templateObject4","cellTag","_templateObject3","c","getDayClassNames","calendarCellTemplate","interactiveCalendarGridTemplate","gridTag","_templateObject5","getWeekdayText","calendarWeekdayTemplate","getDays","ltrStyles","css","rtlStyles","_FoundationCalendar","FoundationCalendar","booleanConverter","fluentCalendar","compose","baseName","definition","today","_templateObject10","startTemplate","Function","when","_templateObject6","_templateObject7","_templateObject8","_templateObject9","noninteractiveCalendarTemplate","endTemplate","display","baseHeightMultiplier","density","designUnit","typeRampBase","neutralForegroundRest","strokeWidth","controlCornerRadius","neutralForegroundHint","accentFillRest","fillColor","foregroundOnAccentRest","withBehaviors","forcedColorsStylesheetBehavior","SystemColors","Highlight","HighlightText","DirectionalStyleSheetBehavior","_Checkbox","FormAssociatedCheckbox","_CheckableFormAssocia","_super2","proxy","CheckableFormAssociated","Checkbox","_FormAssociatedCheckb","initialValue","indeterminate","keypressHandler","readOnly","keySpace","clickHandler","HTMLInputElement","fluentCheckbox","required","checkedIndicator","indeterminateIndicator","defaultSlottedNodes","slotted","heightNumber","neutralStrokeStrongRest","neutralFillInputAltRest","neutralFillInputAltHover","neutralStrokeStrongHover","neutralFillInputAltActive","neutralStrokeStrongActive","focusVisible","neutralFillInputAltFocus","focusTreatmentTight","accentFillHover","accentFillActive","disabledCursor","disabledOpacity","FieldText","Field","GrayText","RadioGroup","orientation","Orientation","horizontal","radioChangeHandler","changedRadio","slottedRadioButtons","radio","isInsideFoundationToolbar","selectedRadio","focusedRadio","stopPropagation","moveToRadioByIndex","group","isInsideToolbar","nextRadio","moveRightOffGroup","nextElementSibling","moveLeftOffGroup","previousElementSibling","focusOutHandler","focusedIndex","shouldMoveOffGroupToTheRight","shouldMoveOffGroupToTheLeft","checkFocusedRadio","moveRight","moveLeft","keydownHandler","ArrowKeys","direction","Direction","ltr","_this3","_this4","_this5","setupRadioButtons","get","closest","parentToolbar","getDirection","_this6","_this7","checkedRadios","hasAttribute","numberOfCheckedRadios","foundMatchingVal","lastCheckedRadio","fluentRadioGroup","elements"],"sourceRoot":""}